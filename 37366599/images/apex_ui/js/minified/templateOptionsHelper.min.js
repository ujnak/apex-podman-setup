/*!
 * Copyright (c) 2015, 2025, Oracle and/or its affiliates.
 */
!function(e,t){"use strict";var a={};const l=t.util.hasOwnProperty;t.templateOptionsHelper={getValuesFromDialog:function(t,a){let l=[];function r(t){for(let r=0;r<t.length;r++){let u=a.propertyEditor("getPropertyValue",t[r].propertyName);e.isEmptyObject(u)||l.push(u)}}return r(t.common),r(t.advanced),l},getProperties:function(r,u,i,o){let n,p,s,d,c,m,f,h,v,g,y=[],E={},T=[],O=[],D={},V={common:[],advanced:[]},x="";for(o&&(x=o.propertyName,v=e.isEmptyObject(o.value),g=!(!o.metaData||!o.metaData.multiSelectData)),n=0;n<r.values.length;n++)m=r.values[n],m.groupId?(p=m.groupId,l(E,p)?s=E[p]:(d=r.groups[p],y.push({title:d.title,seq:d.seq,nullText:d.nullText,isAdvanced:d.isAdvanced,isRequired:!1,lovValues:[],value:""}),s=y.length-1,E[p]=s),r.presetValues.includes(m.r)&&(""===y[s].value&&(y[s].value=m.r),d.nullText||(y[s].isRequired=!0)),u.includes(m.r)&&(y[s].value=m.r),y[s].lovValues.push({r:m.r,d:m.d})):(O.push(m),u.includes(m.r)&&T.push(m.r));for(f=v?a:T.join(":"),y.sort((function(e,t){return e.seq===t.seq?e.title.localeCompare(t.title):e.seq-t.seq})),h={type:"TEMPLATE OPTIONS GENERAL",prompt:t.lang.getMessage("TEMPLATE_OPTIONS.GENERAL"),isReadOnly:!!i,isRequired:!1,lovValues:O,displayGroupId:"common",defaultTemplateOptions:r.defaultValues},g&&(h.multiSelectData=o.metaData.multiSelectData),V.common[0]={propertyName:"general",propertyId:x,value:f,oldValue:f,originalValue:f,metaData:h,errors:[],warnings:[]},n=0;n<y.length;n++)d=y[n],c=d.isAdvanced?"advanced":"common",D=d.value?d.value:"",h={type:e.apex.propertyEditor.PROP_TYPE.SELECT_LIST,prompt:d.title,isReadOnly:!!i,isRequired:d.isRequired,nullText:d.nullText,lovValues:d.lovValues,displayGroupId:c},g&&(h.multiSelectData=o.metaData.multiSelectData),V[c].push({propertyName:"grp"+n,value:D,oldValue:D,originalValue:D,metaData:h,errors:[],warnings:[]});return V},addGeneralPropertyType:function(){e.apex.propertyEditor.addPropertyType("TEMPLATE OPTIONS GENERAL",{init:function(a,l){let r=e();this.super("init",a,l);let u=a.find("input[type=checkbox]"),i=u.filter("[value='#DEFAULT#']");for(let e=0;e<l.metaData.defaultTemplateOptions.length;e++)r=r.add(u.filter("[value='"+t.util.escapeCSS(l.metaData.defaultTemplateOptions[e])+"']"));i.on("click setdefaultcheckboxes",(function(){let t=e(this).prop("checked");t&&r.prop("checked",!0),r.prop("disabled",t)})).trigger("setdefaultcheckboxes")},getValue:function(e){let t=[];return e.find("input[type=checkbox]").filter(":checked:not(:disabled)").each((function(){t.push(this.value)})),t.join(":")},setValue:function(e,t,a){this.super("setValue",e,t,a),e.find("input[type=checkbox]").filter("[value='#DEFAULT#']").trigger("setdefaultcheckboxes")}},"CHECKBOXES")}}}(apex.jQuery,apex);