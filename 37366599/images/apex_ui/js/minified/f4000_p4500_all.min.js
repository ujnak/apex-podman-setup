/*!
 * Copyright (c) 2003, 2025, Oracle and/or its affiliates.
 */
!function(e,t,i,n,s){"use strict";const o="a-TreeView",r="a-TreeView-node",l="."+r,a="a-TreeView-row",d="."+a,h="a-TreeView-content",c="."+h,p=c+", "+d,f="a-TreeView-toggle",u="."+f,g="a-TreeView-placeholder",m="u-selector",v="."+m,_="is-selected",w="."+_,b="is-disabled",y="."+b,C="is-focused",x="is-hover",N="is-expandable",I="is-collapsible",S="is-processing",k="a-TreeView-node--leaf",A="u-RTL",P="a-TreeView-input",T="."+P,D=":visible",E="class",O="aria-expanded",M="aria-selected",R="aria-disabled",V="aria-level",F="aria-owns",L="is-active",H="tree",K="treeitem",$="none",B="<ul role='group'>",W="</ul>",q="true",j="false",X="#action$",Y="_subtree",U="selectionChange",z=/>$/,G=s.ui.keyCode,Q=s.extend,Z=t.hasOwnProperty,J=e=>parseInt(e,10);function ee(){return new Error("Unsupported by model")}function te(){return new Error("Parent node required")}function ie(e,t){let i="",n=e.className.split(" ");for(let e=0;e<n.length;e++){let o=n[e];s.inArray(o,t)>=0&&(i+=" "+o)}e.className=i.substr(1)}function ne(e){return e.parent().children(D).index(e)}function se(e){let t=e.get(0).id;return t.substring(t.lastIndexOf("_")+1)}function oe(e,t){return J(e.children(c).find(t).attr(V))}function re(e,t){return J(e.find(t).attr(V))}let le=null;function ae(e,t,i,n,s){if(i.renderNodeContent)i.renderNodeContent(t,e,n,s);else{let o,r,l,a,d;n.nodeSelector>0&&(a=m,1===n.nodeSelector&&(a+=" u-selector--single"),e.markup('<span class="'+a+'"></span>')),i.getIcon&&(o=i.getIcon(t),null!==o&&e.markup("<span").attr(E,n.iconType+" "+o).attr("aria-hidden","true").markup("></span>")),r=n.useLinks&&i.getLink&&i.getLink(t)?.trim(),r&&r.startsWith(X)&&(d=r.substring(8),r=null),r?(le&&r.match(/^#\S*$/)&&(r=le+r),l="a"):l="span",e.markup("<"+l+" tabIndex='-1' role='"+K+"'").attr(E,n.labelClass+(t.current?" is-current":"")).optionalAttr("href",r).optionalAttr("data-action",d).attr(V,s.level).attr(M,s.selected?q:j).optionalAttr("aria-current",t.current).optionalAttr(R,s.disabled?q:null).optionalAttr(O,!1===s.hasChildren?null:s.expanded?q:j).optionalAttr(F,s.owns).markup(">").content(i.getLabel(t)).markup("</"+l+">")}}function de(e){e.tabIndex=0,e.focus()}function he(e){let t;return e.hasClass(I)&&(t=e.children("ul").children("li").filter(D).first()),t&&t[0]||(t=e.nextAll(D).first(),0===t.length&&(t=e.parent().parents("li").nextAll("li").filter(D).first())),t}function ce(e){let t;if(t=e.prevAll(D).first(),t.length>0){if(t.hasClass(I)){let e=t.find("li").filter(D).last();e[0]&&(t=e)}}else t=e.parent().parent("li");return t}function pe(e,t,i,n,o){var r=e.val(t).width(i).keydown((function(e){var t=e.which;e.shiftKey||e.ctrlKey||e.altKey||(t===G.ENTER?(n(s(this).val(),!0),e.preventDefault()):t===G.ESCAPE&&(setTimeout((function(){o(!0)}),10),e.preventDefault()))})).blur((function(){n(s(this).val(),!1)}))[0];return de(r),r.select(),r}s("base").length&&(le=window.location.pathname+window.location.search);var fe={begin:function(){this.text="<ul>\r\n"},node:function(e,i,n){this.text+="<li>"+t.escapeHTML(n)+"</li>\r\n"},end:function(){this.text+="</ul>\r\n"},toString:function(){return this.text}};s.widget("apex.treeView",s.ui.mouse,Q(!0,{widgetEventPrefix:"treeview",options:{getNodeAdapter:null,adapterTypesMap:null,showRoot:!0,expandRoot:!0,collapsibleRoot:!0,autoCollapse:!1,useLinks:!0,multiple:!1,nodeSelector:!1,allowCopy:!0,dataTransferFormats:[{format:"text/plain",writer:Object.create({begin:function(){this.text=""},node:function(e,t,i){t>0&&(this.text+="\r\n"),this.text+=i},end:function(){},toString:function(){return this.text}})},{format:"text/html",writer:Object.create(fe)}],idPrefix:null,iconType:"a-Icon",labelClass:"a-TreeView-label",doubleClick:!1,clickToRename:!1,keyboardRename:!1,keyboardAdd:!1,keyboardDelete:!1,tooltip:null,navigation:!1,actionsContext:null,dragAndDrop:!1,dragMultiple:!1,dragReorder:!1,dragAppendTo:"parent",dragContainment:!1,dragCursor:"auto",dragCursorAt:!1,dragHelper:null,dragOpacity:!1,dragAnimate:!1,dragExpandDelay:1200,dragScroll:!0,dragScrollSensitivity:20,dragScrollSpeed:10,dragZIndex:1e3,scope:"default",activate:null,deactivate:null,out:null,over:null,start:null,drag:null,beforeStop:null,stop:null,selectionChange:null,expansionStateChange:null,activateNode:null,beginEdit:null,endEdit:null,added:null,renamed:null,deleted:null,moved:null,copied:null},scrollTimerId:null,delayExpandTimer:null,hasCurrent:!1,tooltipOptions:null,triggerTimerId:null,forwardKey:G.RIGHT,backwardKey:G.LEFT,scrollParent:null,animating:!1,dragging:!1,dragItems:null,currentItem:null,_create:function(){let e=this,i=this.element,r=this.options;if(r.getNodeAdapter||(r.getNodeAdapter=this._parseTreeMarkup(i,r.adapterTypesMap||null)),!r.getNodeAdapter)throw new Error("Missing required option getNodeAdapter");this.actionsContext=r.actionsContext=r.actionsContext||n,this.nodeAdapter=r.getNodeAdapter(),this.nodeAdapter.setView&&this.nodeAdapter.setView(i),this.containerCache={},!1===r.collapsibleRoot&&(r.expandRoot=!0),i.addClass(o).attr("role",H),this.baseId=(r.idPrefix||i[0].id||H)+"_",this.labelSelector="."+r.labelClass,this.lazyExpandQueue=[],this._delayExpand=t.debounce((()=>{for(;this.lazyExpandQueue.length>0;){let e=this.lazyExpandQueue.shift();this._expandNode(s("#"+e),(()=>{}))}}),50),this.editMode=!1,r.multiple&&i.attr("aria-multiselectable",q),this.rtlFactor=1,"rtl"===i.css("direction")&&(i.addClass(A),this.forwardKey=G.LEFT,this.backwardKey=G.RIGHT,this.rtlFactor=-1),r.disabled&&i.attr(R,q),r.tooltip&&this._initTooltips(r.tooltip),this._initContextMenu(c,(function(t){return s(t.target).closest("a").length>0||e.editMode}),(function(t){let i="keydown"===t.type&&e.lastFocused?e.lastFocused:t.target,n=s(i).closest(c);return!!n.length&&(!!n.hasClass(_)||n)}),(function(t){t.selectedNodes=e.getNodes(t.selection),t.treeNodeAdapter=e.nodeAdapter})),this.scrollParent=i.scrollParent(),this.offset=this.element.offset(),this._mouseInit(),this._on(this._eventHandlers),r.allowCopy&&apex.clipboard.addHandler(i[0],(function(t){return!e.editMode&&(e._copy(t),!0)})),this._selNotifyDelay=t.debounce(this._selChangeNotify,1),this._selNotifyLongDelay=t.debounce(this._selChangeNotify,350),this._setOption("disabled",r.disabled),this.refresh()},_eventHandlers:{click:function(e){var t,i,n=this.options,o=s(e.target);if(n.multiple||"A"!==e.target.nodeName||!e.shiftKey&&!e.ctrlKey){if(o.hasClass(m))t=o.closest(l),e.ctrlKey=!0,e.shiftKey=!1,this._select(t.children(c),e,!0),e.preventDefault();else if(o.hasClass(f))this._toggleNode(o.parent()),this.scrollParent&&(r=this.scrollParent,a=r.scrollTop(),d=r,h=null,r[0]===document&&(d=s(window)),d.on("scroll.treeTemp",(function(){r.scrollTop(a),d.off(".treeTemp"),clearTimeout(h)})),h=setTimeout((function(){d.off(".treeTemp")}),20)),this.lastFocused.focus(),e.preventDefault();else if((t=o.closest(l)).length>0){if(i=t.children(c),this.editMode&&i.hasClass(_))return;n.clickToRename&&i.find(this.labelSelector).attr(M)===q&&!e.ctrlKey&&!e.altKey&&1===this.getSelection().length&&o.closest(this.labelSelector).length?this.renameNodeInPlace(i):(this._select(i,e,!0),n.navigation&&(this.keyboardActivate||"activate"!==n.doubleClick)&&this._activate(e,t)),e.preventDefault()}var r,a,d,h,p;this.keyboardActivate=!1,p={},window.getSelection?p=window.getSelection():document.selection&&(p=document.selection.createRange()),p.rangeCount?p.removeAllRanges():p.text>""&&document.selection.empty()}else this.keyboardActivate=!1},dblclick:function(e){var t,i=this.options.doubleClick;i&&!this.editMode&&(t=s(e.target).closest(l)).length>0&&("toggle"===i?(this._toggleNode(t),e.preventDefault()):"activate"===i&&this._activate(e,t))},keydown:function(e){var t,i,n,o,r,a=this,h=this.options,p=this.element,f=e.which;e.altKey||"INPUT"===e.target.nodeName||this.dragging||(f!==G.PAGE_UP&&f!==G.PAGE_DOWN||(this.scrollParent?(n=p.find(d).filter(D).first().outerHeight()||24,t=p.find("li").filter(D).first(),n+=J(t.css("margin-top"))+J(t.css("margin-bottom")),o=this.scrollParent[0]===document?s(window).height():this.scrollParent[0].clientHeight,r=Math.floor(o/n)-1):r=10),f===G.HOME?(p.find(c).filter(D).first().each((function(){a._select(s(this),e,!0,!0)})),e.preventDefault()):f===G.END?(p.find(c).filter(D).last().each((function(){a._select(s(this),e,!0,!0)})),e.preventDefault()):f===G.SPACE?(this.lastFocused&&this._select(s(a.lastFocused).closest(c),e,!0,!0),e.preventDefault()):f===G.DOWN?(this._traverseDown(e,1),e.preventDefault()):f===G.UP?(this._traverseUp(e,1),e.preventDefault(),e.stopPropagation()):f===G.PAGE_DOWN?(this._traverseDown(e,r),e.preventDefault()):f===G.PAGE_UP?(this._traverseUp(e,r),e.preventDefault()):f===this.backwardKey?(this.lastFocused&&((t=s(this.lastFocused).closest(l)).hasClass(I)?this._collapseNode(t):t.parent().prevAll(c).each((function(){a._select(s(this),e,!0,!0)}))),e.preventDefault()):f===this.forwardKey?(this.lastFocused&&((t=s(this.lastFocused).closest(l)).hasClass(N)?this._expandNode(t):t.hasClass(I)&&t.children("ul").children("li").first().children(c).each((function(){a._select(s(this),e,!0,!0)}))),e.preventDefault()):f===G.ENTER?"A"===e.target.nodeName||e.shiftKey||e.ctrlKey?this.keyboardActivate=!0:(t=s(this.lastFocused).closest(l),this._activate(e,t),e.preventDefault()):113===f&&h.keyboardRename?(i=this.lastFocused&&s(this.lastFocused).closest(c+w).length>0?s(this.lastFocused).closest(c):this.getSelection().first()).length>0&&this.renameNodeInPlace(i):45===f&&h.keyboardAdd?(i=this.lastFocused&&s(this.lastFocused).closest(c+w).length>0?s(this.lastFocused).closest(c):this.getSelection().first()).length>0&&this.addNodeInPlace(i):f===G.DELETE&&h.keyboardDelete&&this.deleteNodes(this.getSelection()))},keypress:function(e){var t,i,n=this;if(!(0===e.which||e.ctrlKey||e.altKey||"INPUT"===e.target.nodeName||this.dragging)){if(t=String.fromCharCode(e.which).toLowerCase(),this.searchTimerId)t!==this.searchString&&(this.searchString+=t),clearTimeout(this.searchTimerId),this.searchTimerId=null;else{if(" "===t)return;this.searchString=t}this.searchTimerId=setTimeout((function(){n.searchTimerId=null}),500),(i=function(e){var t,i,o,r=e.length;function a(){0===(i=he(i)).length&&(i=n.element.find(l).filter(D).first())}for(i=t=s(n.lastFocused).closest(l),1===r&&a();;){if((o=i.children(c).find(n.labelSelector).first()).text().substring(0,r).toLowerCase()===e)return o.closest(c);if(a(),i[0]===t[0])break}return null}(this.searchString))&&this._select(i,e,!0,!0)}},focusin:function(e){var t=s(e.target).closest(this.labelSelector);t.length&&(t.addClass(C).closest(l).children(d).addClass(C),this._setFocusable(t))},focusout:function(e){s(e.target).closest(this.labelSelector).removeClass(C).closest(l).children(d).removeClass(C)},mousemove:function(e){var t;this.dragging||(t=s(e.target).closest(l)).length&&this.lastHover!==t[0]&&(s(this.lastHover).children(p).removeClass(x),t.children(p).addClass(x),this.lastHover=t[0])},mouseleave:function(){this.dragging||this.lastHover&&(s(this.lastHover).children(p).removeClass(x),this.lastHover=null)}},_setOption:function(e,t){let o,r=this.options,l=r.nodeSelector;if(this._checkContextMenuOptions(e,t),"disabled"===e)r[e]=t,this.widget().toggleClass(b,!!t),t?(this.element.attr(R,q),this.lastFocused&&(this.lastFocused.tabIndex=-1),this.lastFocused=null):(this.element.removeAttr(R),o=this.getSelection().first().find(this.labelSelector),o.length||(o=this.element.find(this.labelSelector).first()),this._setFocusable(o));else{if("allowCopy"===e)throw new Error("TreeView "+e+" cannot be set");if("dragMultiple"===e&&t&&!r.multiple)throw new Error("TreeView dragMultiple cannot be true when the multiple option is false");if("multiple"===e&&!t&&r.dragMultiple)throw new Error("TreeView multiple cannot be false when the dragMultiple option is true");if("collapsibleRoot"===e)throw new Error("TreeView collapsibleRoot option cannot be set");this._super(e,t)}r=this.options,r.multiple&&!r.nodeSelector&&apex.userHasTouched()&&(r.nodeSelector=!0),this.renderNodeOptions={iconType:r.iconType,labelClass:r.labelClass,useLinks:r.useLinks,nodeSelector:r.nodeSelector?r.multiple?2:1:0},"showRoot"===e||"useLinks"===e||r.nodeSelector!==l||"multiple"===e&&r.nodeSelector?this.refresh():"getNodeAdapter"===e?(this.nodeAdapter=r.getNodeAdapter(),this.refresh()):"multiple"===e?(this.element.attr("aria-multiselectable",t?q:j),!1===t&&this.getSelection().length>0&&this._select(s(this.lastFocused).closest(c),null,!1,!1)):"expandRoot"===e&&!1===t?!1===r.collapsibleRoot&&(r.expandRoot=!0,i.warn("ExpandRoot option cannot be false when collapsibleRoot is false")):"tooltip"===e?this._initTooltips(t):"actionsContext"===e&&(this.actionsContext=t||n)},_initTooltips:function(e){var t,n=this;s.ui.tooltip?(this.tooltipOptions&&(this.element.tooltip("destroy"),this.tooltipOptions=null),e&&((t=this.tooltipOptions=Q(!0,{},e)).items=this.labelSelector,t.content&&"function"==typeof t.content&&(t._originalContent=t.content,t.content=function(e){var i=n.getNodes(s(this).closest(c))[0];return t._originalContent.call(this,e,i)}),this.element.tooltip(t))):i.warn("tooltip option ignored because missing tooltip widget dependency")},_destroy:function(){var e=this.element;e.empty().removeClass(o+" "+A).removeAttr("role").removeAttr("aria-multiselectable"),apex.clipboard.removeHandler(e[0]),this._destroyContextMenu(),this.options.tooltip&&s.ui.tooltip&&e.tooltip("destroy"),this._mouseDestroy()},refresh:function(e){let i,n,o,r=this,a=this.options,d=this.nodeAdapter,h=null,c=this.element,p=t.htmlBuilder();const f=()=>{h&&h.length>0?this.setSelectedNodes(h,!1,!0):(this.selectAnchor=this.lastFocused,this._setFocusable(c.find(this.labelSelector).first()))};if(d.getViewId&&this.treeMap&&(h=this.getSelectedNodes()),e)e.each((function(){var e=s(this).parent(),t=r.treeMap[se(e)];e.find(l).addBack().each((function(){delete r.treeMap[se(s(this))]})),p.clear(),r._renderNode(t,oe(e,r.labelSelector),p),e.replaceWith(p.toString())}));else{if(this.treeMap={},this.nextNodeId=0,d.clearViewId&&d.clearViewId(this.baseId),i=d.root(),i)p.markup(B),a.showRoot?this._renderNode(i,1,p):d.hasChildren(i)&&this._renderChildren(i,1,p),p.markup(W),c.html(p.toString());else if(p.markup(B),p.markup(W),c.html(p.toString()),d.fetchChildNodes&&d.modelId)return void d.fetchChildNodes(null,(()=>{f()}));a.expandRoot&&a.showRoot&&(n=this._getRoots(),n.length>0&&this._expandNode(n))}this.hasCurrent?(o=this.find({depth:-1,match:function(e){return!0===e.current}}),this.hasCurrent=!1,this.setSelection(o)):f()},getNodeAdapter:function(){return this.nodeAdapter},focus:function(){this.lastFocused&&this.lastFocused.focus()},getTreeNode:function(e){var t,i=this.nodeAdapter;if(!i.getViewId)throw ee();return t=i.getViewId(this.baseId,e),s("#"+this.baseId+t).children(c)},getSelection:function(){return this.element.find(c+w)},getNodes:function(e){var t=this,i=[];return e.each((function(){var e=se(s(this).closest("li"));"new"!==e&&i.push(t.treeMap[e])})),i},getSelectedNodes:function(){return this.getNodes(this.getSelection())},setSelection:function(e,t,i){t=!!t,this.options.multiple||(e=e.first()),this._select(e,null,t,!1,i)},setSelectedNodes:function(e,t,n){var o,r,l,a=[],d=this.nodeAdapter;if(!d.getViewId)throw ee();for(t=!!t,this.options.multiple||(e=[e[0]]),o=0;o<e.length;o++)r=d.getViewId(this.baseId,e[o]),(l=s("#"+this.baseId+r).children(c)[0])?a.push(l):i.warn("TreeView: Ignoring bad node in setSelectedNodes");this._select(s(a),null,t,!1,n)},getExpandedNodeIds:function(){var e=this.nodeAdapter;if(!e.getExpandedNodeIds)throw ee();return e.getExpandedNodeIds(this.baseId)},getExpandedState:function(){var e=this.nodeAdapter;if(!e.getExpandedState)throw ee();return e.getExpandedState(this.baseId)},find:function(e){return s(this._find(e.parentNodeContent$||null,e.match,e.depth||1,e.findAll||!1))},expand:function(e){var t=this;e||(e=this._getRoots().children(c)),e.each((function(){var e=s(this).closest(l);e.hasClass(N)&&t._expandNode(e)}))},expandAll:function(e){var t=this;e||(e=this._getRoots().children(c)),e.each((function(){var e=s(this).closest(l);e.hasClass(N)?t._expandNode(e,(function(){t.expandAll(e.children("ul").children("li").children(c))})):t.expandAll(e.children("ul").children("li").children(c))}))},collapse:function(e){var t=this;e||(e=this._getRoots().children(c)),e.each((function(){var e=s(this).closest(l);e.hasClass(I)&&t._collapseNode(e)}))},collapseAll:function(e){var t=this;e||(e=this._getRoots().children(c)),e.each((function(){var e=s(this).closest(l);t.collapseAll(e.children("ul").children("li").children(c)),e.hasClass(I)&&t._collapseNode(e)}))},addNodeInPlace:function(e,i,n){var o,l,d,p,f=this,u=this.element,g=this.options,m=this.nodeAdapter,v=!1;function w(t){l.remove(),f._makeLeafIfNeeded(e),f._select(e,null,t),f._endEdit({action:"add",status:"cancel"})}function b(s,r){var a;v||(0!==s.length?(v=!0,m.addNode(d,o.children().length-1,s,n,(function(n,s){var h,u;if(!1===n)return v=!1,de(a=l.find(T).val(i).get(0)),void a.select();n?(l.remove(),u=t.htmlBuilder(),f._renderNode(n,p,u),s>=o.children("li").length?o.append(u.toString()):o.children("li").eq(s).before(u.toString()),h=o.children("li").eq(s),0===f.getSelection().length&&f._select(h.children(c),null,r),f._endEdit({action:"add",status:"complete"}),f._trigger("added",{},{parentNode:d,parent$:e,index:s,node:n,node$:h.children(c)})):w(r)}))):w(r))}function y(){var e,d,u,v=t.htmlBuilder(),y=f.baseId+"new";v.markup("<li").attr("id",y).attr(E,r+" "+k).markup("><div").attr(E,a+" "+_).markup("></div><div").attr(E,h+" "+_).markup(">"),m.getIcon&&v.markup("<span").attr(E,g.iconType).markup("></span>"),v.markup("<span role='"+K+"'").attr(E,g.labelClass).attr(V,p).attr(M,q).markup("><input class='"+P+"' type='text'></span></div></li>"),f._select(s(),null,!1),o.append(v.toString()),d=(l=o.find("#"+y)).children(c),e=1===f.rtlFactor?d.width()-d.find(f.labelSelector)[0].offsetLeft-16:d.find(f.labelSelector)[0].offsetLeft+d.find(f.labelSelector).width()-16,pe(u=d.find(T),i,e,b,w),f._beginEdit({action:"add",context:n,input:u[0]})}if(!m.addNode||!m.allowAdd)throw ee();if(null===e){if(d=m.root(),!g.showRoot){if(!m.allowAdd(d,"add",n?[n]:void 0))return;return p=1,o=u.find("ul:first"),void y()}e=u.find("ul:first > li")}else d=this.treeMap[se(e.parent())];m.allowAdd(d,"add",n?[n]:void 0)&&(p=re(e,f.labelSelector)+1,f._makeParentIfNeeded(e),this._expandNode(e.parent(),(function(){o=e.next("ul"),e.find(`[role="${K}"]`).attr(F,o.attr("id")),y()})))},renameNodeInPlace:function(e){var i,n,o,r,l,a,d=this,h=this.nodeAdapter,c=e.parent(),p=se(c),f=!1,u=c.children("ul").attr("id"),g=t.htmlBuilder();function m(t){a.selected=e.hasClass(_),g.clear(),ae(g,i,h,d.renderNodeOptions,a),e.html(g.toString()),a.selected&&d._select(e,null,t),d._endEdit({action:"rename",status:"cancel"})}if(!h.renameNode||!h.allowRename)throw ee();i=this.treeMap[p],h.allowRename(i)&&(l=e.find(this.labelSelector),a={level:J(l.attr(V)),selected:l.attr(M)===q,disabled:l.attr(R)===q,hasChildren:void 0!==l.attr(O),expanded:l.attr(O)===q,owns:u},o=h.getLabel(i),r=1===d.rtlFactor?e.width()-l[0].offsetLeft-16:l[0].offsetLeft+l.width()-16,n=s("<input class='"+P+"' type='text'>"),l.empty().append(n),pe(n,o,r,(function(t,n){var s;f||(f=!0,t!==o&&0!==t.length?h.renameNode(i,t,(function(t,i){var r,l,u;if(!1===t)return f=!1,de(s=e.find(T).val(o)[0]),void s.select();t?(g.clear(),a.selected=e.hasClass(_),ae(g,t,h,d.renderNodeOptions,a),e.html(g.toString()),d.treeMap[p]=t,(r=(u=(l=c.parent()).children("li")).index(c))!==i&&(i>r&&(i+=1),i>=u.length?l.append(c):u.eq(i).before(c)),a.selected&&d._select(e,null,n),d._endEdit({action:"rename",status:"complete"}),d._trigger("renamed",{},{prevLabel:o,index:i,node:t,node$:e}),d._trigger(U,0)):m(n)})):m(n))}),m),d._beginEdit({action:"rename",node:i,input:n[0]}))},deleteNodes:function(e){var t,i,n,o=this,r=[],l=[],a=[],d=this.nodeAdapter;function h(e){var t=r[e];d.deleteNode(t.node,(function(e){n+=1,e&&(l.push(t.element),a.push({node:t.node,parent$:t.parent$,index:t.index}),d.clearViewId&&d.clearViewId(o.baseId,t.node)),n>=i&&(o.deleteTreeNodes(s(l)),o._trigger("deleted",{},{items:a}))}),e<i-1)}if(!d.deleteNode||!d.allowDelete)throw ee();for(e.each((function(){var e=s(this),t=o.treeMap[se(e.parent())];d.allowDelete(t)&&r.push({node:t,element:e[0],parent$:e.parent().parent().parent().children(c),index:ne(e.parent())})})),i=r.length,n=0,t=0;t<i;t++)h(t)},deleteTreeNodes:function(e){var t,i=this,n=e.closest("ul").prev(),s=e.parent(),o=e.children(this.labelSelector).filter(this.lastFocused).length>0,r=e.hasClass(_);(r||o)&&(0===(t=ce(s.eq(0))).length&&(t=this._getRoots().first()),t.length>0?r?this._select(t.children(c),null,o):this._setFocusable(t.children(c).find(this.labelSelector)):o&&(this.lastFocused=null)),s.remove().each((function(){delete i.treeMap[se(s)]})),this._makeLeafIfNeeded(n)},addNode:function(e,t,i){var n,s,o=this.nodeAdapter;if(!o.addNode||!o.allowAdd)throw ee();if(e&&e.length)s=this.treeMap[se(e.parent())];else{if(this.options.showRoot)throw te();s=o.root()}o.allowAdd(s,"add",i?[i]:void 0)&&(n=this.element.find("."+C).length>0,this._add({},e,t,i,n))},moveNodes:function(e,t,i){var n,s,o,r=this.getNodes(i),l=!0,a=this.nodeAdapter;if(!a.moveNodes||!a.allowDelete||!a.allowAdd)throw ee();if(e&&e.length)o=this.treeMap[se(e.parent())];else{if(this.options.showRoot)throw te();o=a.root()}for(n=0;n<r.length;n++)if(!a.allowDelete(r[n])){l=!1;break}l&&a.allowAdd(o,"move",r)&&(s=this.element.find("."+C).length>0,this._moveOrCopy({},e,t,i,!1,s))},copyNodes:function(e,t,i){var n,s,o=this.getNodes(i),r=this.nodeAdapter;if(!r.copyNodes||!r.allowAdd)throw ee();if(e&&e.length)s=this.treeMap[se(e.parent())];else{if(this.options.showRoot)throw te();s=r.root()}r.allowAdd(s,"copy",o)&&(n=this.element.find("."+C).length>0,this._moveOrCopy({},e,t,i,!0,n))},update:function(e,i=!0){let n,s,o,r,l=!1,p=e.parent(),f=this.treeMap[se(p)],u=this.nodeAdapter,g=p.children("ul").attr("id"),m=t.htmlBuilder();if(s=e.find(this.labelSelector),n=s[0]===this.lastFocused,u.getClasses||u.isDisabled||u.isHidden){let t,i=e.prevAll(d);ie(e[0],[h,b,C,_,x]),ie(i[0],[a,b,C,_,x]),u.getClasses&&(t=u.getClasses(f),t&&e.add(i).addClass(t)),u.isDisabled&&(r=u.isDisabled(f),e.add(i).toggleClass(b,r)),u.isHidden&&(l=u.isHidden(f),p.toggleClass("u-hidden",l))}i&&(o={level:J(s.attr(V)),selected:s.attr(M)===q,disabled:r,hasChildren:void 0!==s.attr(O),expanded:s.attr(O)===q,owns:g},ae(m,f,u,this.renderNodeOptions,o),e.html(m.toString())),n&&(l&&(e=p.parents("li").filter(D).first().children(c)),this._setFocusable(e.find(this.labelSelector)))},_copy:function(e){var t,i,n=this.nodeAdapter,s=this.getSelectedNodes(),o=this.options.dataTransferFormats;if(s.length){for(o.forEach((function(e){e.writer.begin(n,s)})),t=0;t<s.length;t++)i=s[t],o.forEach((function(e){e.writer.node(i,t,n.getLabel(i))}));o.forEach((function(t){t.writer.end(),e.setData(t.format,t.writer.toString())}))}},_parseTreeMarkup:function(e,t){var i,n,o,r=!0,l=this;return n=function e(t){var i=[];return t.children("ul").children("li").each((function(){var t,n,o,a,d,h,c=s(this),p=c.children("a").first(),f=c.children("span").first();t={},p.length>0?(t.label=p.text(),t.link=p.attr("href"),(h=p.attr("target"))&&(t.linkTarget=h)):f.length>0&&(t.label=f.text()),(o=c.attr("data-id"))?t.id=o:r=!1,c.attr("data-current")===q&&(t.current=!0,l.hasCurrent=!0),(a=c.attr(E))&&(t.classes=a),c.attr("data-disabled")===q&&(t.isDisabled=!0),(n=c.attr("data-icon"))&&(t.icon=n),(d=c.attr("data-type"))&&(t.type=d),c.children("ul").length>0&&(t.children=e(c)),i.push(t)})),i}(e),o=n.length>=1?1===n.length&&this.options.showRoot?n[0]:{children:n}:null,t||(t={default:{operations:{canAdd:!1,canDelete:!1,canRename:!1,canDrag:!1}}}),i=s.apex.treeView.makeDefaultNodeAdapter(o,t,r),function(){return i}},_getBeginChildrenMarkup:function(e){return e?B.replace(z,` id=${e}>`):B},_renderNode:function(e,t,i){const n=this.nextNodeId;let s,o,l,d,c,p,u=!1,g=!1,m=this.options,v=this.nodeAdapter;this.treeMap[n]=e,v.setViewId&&v.setViewId(this.baseId,e,n),this.nextNodeId+=1,o=r+" ",s=v.hasChildren(e),null===s&&(g=!0,s=!0),s?(c=!1,v.isExpanded&&(c=v.isExpanded(this.baseId,e)),o+=c?I:N):o+=k,d=0===n&&m.showRoot&&!m.collapsibleRoot,d&&(o+=" a-TreeView--noCollapse"),1===t&&(o+=" a-TreeView-node--topLevel"),l=h,v.isDisabled&&v.isDisabled(e)&&(l+=" "+b,u=!0),v.isHidden&&v.isHidden(e)&&(o+=" u-hidden"),p=a;const _=this.baseId+n,w=c?`${_}${Y}`:null;if(i.markup("<li").attr("id",_).attr("role",$).attr(E,o).markup(">"),v.getClasses){let t=v.getClasses(e);t&&(l+=" "+t,p+=" "+t)}i.markup("<div").attr("role",$).attr(E,p).markup("></div>"),s&&!d&&i.markup("<span aria-hidden='true' class='"+f+"'></span>"),i.markup("<div").attr("role",$).attr(E,l).markup(">"),ae(i,e,v,this.renderNodeOptions,{level:t,selected:!1,disabled:u,hasChildren:s,expanded:c,owns:w}),i.markup("</div>"),c&&(i.markup(this._getBeginChildrenMarkup(w)),g?this._lazyExpand(_):this._renderChildren(e,t+1,i),i.markup(W)),i.markup("</li>")},_renderChildren:function(e,i,n,s,o){let r=this.nodeAdapter,l=r.childCount(e);const a=()=>{for(let t=0;t<l;t++)this._renderNode(r.child(e,t),i,n);s&&s(!0)};null===l?s&&(t.delayLinger.start(o[0].id,(function(){o.addClass(S)})),r.fetchChildNodes(e,(function(i){if(t.delayLinger.finish(o[0].id,(function(){o.removeClass(S),0===i&&s(i)})),i){if(l=r.childCount(e),l>0)return void a();i=0}!1===i&&s(i)}))):l>0?a():s&&s(0)},_getRoots:function(){return this.element.children("ul").children("li")},_find:function(e,t,i,n){var o,r,l,a=this,d=[];return e?(l=e.parent(),this._addChildrenIfNeeded(l),r=l.children("ul").children("li")):r=this._getRoots(),r.each((function(){if(o=a.treeMap[se(s(this))],t(o)&&(d.push(s(this).children(c)[0]),!n))return!1})),(n||0===d.length)&&(i>1||-1===i)&&r.each((function(){if((d=d.concat(a._find(s(this).children(c),t,-1===i?i:i-1,n))).length>0&&!n)return!1})),d},_makeParentIfNeeded:function(e){if(e&&0===e.prev(u).length){const t=e.parent(),i=t.attr("id")?t.attr("id")+Y:null;t.removeClass(k).addClass(N),e.before("<span aria-hidden='true' class='"+f+"'></span>"),e.after(this._getBeginChildrenMarkup(i)+W),t.children("ul").hide()}},_makeLeafIfNeeded:function(e){var t=this,i=this.nodeAdapter;e.each((function(){var e,n,o=s(this);0===o.next("ul").find("li").length&&((n=o.parent()).hasClass(I)&&i.setExpanded&&(e=t.treeMap[se(n)],i.setExpanded(t.baseId,e,!1)),o.parent().removeClass(N+" "+I).addClass(k),o.find(t.labelSelector).removeAttr(O).removeAttr(F),o.prev(u).remove(),o.next("ul").remove())}))},_addChildrenIfNeeded:function(e){const i=e.attr("id"),n=i?`${i}${Y}`:null;let s,o=this.treeMap[se(e)];e.children("ul").length>0||e.hasClass(k)||(s=t.htmlBuilder(),s.markup(this._getBeginChildrenMarkup(n)),this._renderChildren(o,oe(e,this.labelSelector)+1,s),s.markup(W),e.append(s.toString()).children("ul").hide())},_toggleNode:function(e){e.hasClass(N)?this._expandNode(e):this._collapseNode(e)},_persistExpansionState:function(e,t,i){var n=this.nodeAdapter;n.setExpanded&&n.setExpanded(this.baseId,e,i),this._trigger("expansionStateChange",{},{node:e,nodeContent$:t.children(c),expanded:i})},_lazyExpand:function(e){this.lazyExpandQueue.push(e),this._delayExpand()},_expandNode:function(e,i){const n=e.attr("id"),o=n?`${n}${Y}`:null;let r,l,a=this,d=this.nodeAdapter,h=this.treeMap[se(e)];this.options.autoCollapse&&e.parent().children("."+I).each((function(){a._collapseNode(s(this))})),e.removeClass(N),r=e.children("ul"),r.length>0&&null!==d.childCount(h)?(r.show(),e.addClass(I).children(c).find(this.labelSelector).attr(O,q).attr(F,o),this._persistExpansionState(h,e,!0),i&&i()):(r.remove(),l=t.htmlBuilder(),l.markup(this._getBeginChildrenMarkup(o)),this._renderChildren(h,oe(e,this.labelSelector)+1,l,(function(t){t?(e.addClass(I).children(c).find(a.labelSelector).attr(O,q).attr(F,o),l.markup(W),e.append(l.toString()),a._persistExpansionState(h,e,!0)):0===t?(e.children(u).remove(),e.addClass(k).children(c).find(a.labelSelector).removeAttr(O).removeAttr(F)):(e.addClass(N).children(c).find(a.labelSelector).attr(O,j),a._persistExpansionState(h,e,!1)),i&&i()}),e))},_collapseNode:function(e){var t=this.options;t.showRoot&&!t.collapsibleRoot&&e.parent().parent().hasClass(o)||(e.removeClass(I).addClass(N).children(c).find(this.labelSelector).attr(O,j),e.find(w).length>0&&this._select(e.children(c),null,!0),e.children("ul").hide(),this._persistExpansionState(this.treeMap[se(e)],e,!1))},_traverseDown:function(e,t){if(this.lastFocused){let i=s(this.lastFocused).closest(l);for(let e=0;e<t;e++){let e=he(i);if(0===e.length)break;i=e}i.length>0&&this._select(i.children(c),e,!0,!0)}},_traverseUp:function(e,t){if(this.lastFocused){let i=s(this.lastFocused).closest(l);for(let e=0;e<t;e++){let e=ce(i);if(0===e.length)break;i=e}i.length>0&&this._select(i.children(c),e,!0,!0)}},_activate:function(e,t){const s=this.options,o=this.nodeAdapter;let r,l,a=this.getSelectedNodes();if(0!==a.length&&(this._trigger("activateNode",e,{nodes:a}),s.navigation&&o.getLink&&!e.isDefaultPrevented()&&(r=o.getLink(a[0])?.trim(),r)))if(r.startsWith(X)){let s=n.parseActionBinding(r,{testForFragment:!0});if(s){let o=s.contextId,r=this.actionsContext;o&&(r=n.findContextById(o),r||(i.error("No such context '"+o+"'"),r=null)),r&&(r.lookup(s.actionName).convertBindingArguments&&(s.args=n.convertBindingArguments(s.args)),r.invoke(s.actionName,e,t,s.args))}}else l=o.getLinkTarget&&o.getLinkTarget(a[0]),l?apex.navigation.openInNewWindow(r,l,{favorTabbedBrowsing:!0,noopener:!0}):apex.navigation.redirect(r)},_select:function(e,i,n,o,r){var a,h,p,f,u,g,m,C,x=e,I="set",S=this,k=this.element,A=k.find(c+w);if(i&&this.options.multiple&&("click"===i.type?i.ctrlKey||i.metaKey?I="toggle":i.shiftKey&&(I="range"):"keydown"===i.type&&(i.keyCode===s.ui.keyCode.SPACE?I=i.ctrlKey?"toggle":i.shiftKey?"range":"add":i.ctrlKey?I="none":i.shiftKey&&(I="range"))),"range"!==I||this.selectAnchor||(I="set"),"set"!==I&&"range"!==I||(A.prevAll(d).addBack().find(v).addBack().removeClass(_),A.find(this.labelSelector).attr(M,j)),h=e.eq(0).find(this.labelSelector),f=(e=e.not(y)).hasClass(_),"set"===I||"add"===I||"toggle"===I&&!f)e.prevAll(d).addBack().find(v).addBack().addClass(_),e.find(this.labelSelector).attr(M,q),e.parent().parents(l).each((function(){(a=s(this)).hasClass(N)&&S._expandNode(a)})),this.selectAnchor=e[0];else if("range"===I){for(p=s("#"+this.selectAnchor.parentNode.id+", #"+x[0].parentNode.id),a=p.first();a.children(c).hasClass(b)||(a.children(c).prevAll(d).addBack().find(v).addBack().addClass(_),a.children(c).find(this.labelSelector).attr(M,q)),0!==(a=he(a)).length&&1!==p.length&&a[0]!==p[1];);a.length>0&&2===p.length&&!a.children(c).hasClass(b)&&(a.children(c).prevAll(d).addBack().find(v).addBack().addClass(_),a.children(c).find(this.labelSelector).attr(M,q))}else"toggle"===I&&f&&(e.prevAll(d).addBack().find(v).addBack().removeClass(_),e.find(this.labelSelector).attr(M,j),this.selectAnchor=e[0]);h.length&&(n?de(h[0]):this._setFocusable(h),this.scrollParent&&(u=this.scrollParent[0],(C=h.parent().offset())&&(m=k.offset(),u===document?(g={top:s(document).scrollTop(),left:s(document).scrollLeft()},(C.top<g.top||C.top>g.top+s(window).height())&&s(document).scrollTop(C.top-m.top),(C.left+h.parent()[0].offsetWidth<g.left||C.left>g.left+s(window).width())&&s(document).scrollLeft(C.left-m.left)):(g=this.scrollParent.offset(),m=k.offset(),(C.top<g.top||C.top>g.top+u.offsetHeight)&&(u.scrollTop=C.top-m.top),(C.left+h.parent()[0].offsetWidth<g.left||C.left>g.left+u.offsetWidth)&&(u.scrollLeft=C.left-m.left))))),r||("toggle"===I||"range"===I&&!f||"add"===I&&!f||"set"===I&&!t.arrayEqual(A,e))&&(o?S._selNotifyLongDelay(i):S._selNotifyDelay(i))},_selChangeNotify:function(e){this.element.hasClass(o)&&this._trigger(U,e)},_setFocusable:function(e){var t=e[0];t&&(this.lastFocused&&this.lastFocused!==t&&(this.lastFocused.tabIndex=-1),t.tabIndex=0,this.lastFocused=t)},_beginEdit:function(e){this.editMode=!0,apex.tooltipManager&&apex.tooltipManager.disableTooltips(),this._trigger("beginEdit",{},e)},_endEdit:function(e){this.editMode=!1,apex.tooltipManager&&apex.tooltipManager.enableTooltips(),this._trigger("endEdit",{},e)},_mouseCapture:function(e,t){var i,n,o,r=!0,a=this.options;if(e.preventDefault(),this.animating||a.disabled||!a.dragAndDrop||s(e.target).hasClass(f))return!1;if(0===(n=s(e.target).closest(l).children(c)).length)return!1;if(a.dragMultiple&&(n.hasClass(_)?n=this.getSelection():e.ctrlKey&&(n=n.add(this.getSelection()))),!0!==t){for(o=this.getNodes(n),i=0;i<o.length;i++)if(!this.nodeAdapter.allowDrag||!this.nodeAdapter.allowDrag(o[i])){r=!1;break}if(!r)return!1}return this.dragItems=n,!0},_mouseStart:function(e,t,i){var n,o,r=null,l=this.options,a=this;return i||(s("body").on("keydown.treeview",(function(e){e.keyCode!==s.ui.keyCode.ESCAPE?a._dragCopyOrMove(e,!0):a._cancel(e)})).on("keyup.treeview",(function(e){a._dragCopyOrMove(e,!0)})),this._select(this.dragItems,null,!0,!1)),this.helper||(this.helper=this._createHelper(t)),this.margins={left:J(this.dragItems.css("marginLeft"))||0,top:J(this.dragItems.css("marginTop"))||0},this.offset=this.dragItems.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},Q(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset()}),this.helper.css("position","absolute"),this._cacheHelperProportions(),s.ui.ddmanager&&!i&&(this.currentItem=this.dragItems.first(),s.ui.ddmanager.current=this,s.ui.ddmanager.prepareOffsets(this,e)),this.originalPosition=this._generatePosition(t),l.dragCursorAt&&this._adjustOffsetFromHelper(l.dragCursorAt),this.dragItems&&this.dragItems.length>0&&!this.isOver&&((r=this.getNodes(this.dragItems))[0]||(r=null)),this.nodeAdapter.dragOperations?this.dragOperations=this.nodeAdapter.dragOperations(r):this.dragOperations=r?{normal:"move",ctrl:"copy"}:{normal:"add"},this.dragOperation=this.dragOperations.normal,this.dragging=!0,this.lastHover&&(s(this.lastHover).children(p).removeClass(x),this.lastHover=null),l.dragReorder&&(o=this.dragItems.first().outerHeight(),"move"===this.dragOperation&&this.dragItems.parent().hide(),this._createPlaceholder(o),this.initialPlaceholderPos=null),this._initPositions(),this._refreshPositions(),l.dragContainment&&this._setContainment(),i||l.dragCursor&&"auto"!==l.dragCursor&&(n=this.document.find("body"),this.storedCursor=n.css("cursor"),n.css("cursor",l.dragCursor),this.storedStylesheet=s("<style>*{ cursor: "+l.dragCursor+" !important; }</style>").appendTo(n)),l.dragOpacity&&this.helper.css("opacity",l.dragOpacity),l.dragZIndex&&this.helper.css("zIndex",l.dragZIndex),this.helper.addClass("a-TreeView-dragHelper"),this.scrollParent&&this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset(),this.originalScroll={top:this.scrollParent[0].scrollTop,left:this.scrollParent[0].scrollLeft}),apex.tooltipManager&&apex.tooltipManager.disableTooltips(),this._trigger("start",t,this._uiHashDnD()),this._mouseDrag(t),s.ui.ddmanager&&!i&&s.ui.ddmanager.dragStart(this,t),!0},_mouseDrag:function(e){var t={pageX:e.pageX,pageY:e.pageY};return this.position=this._generatePosition(e),this.positionAbs=this._adjustPositionForScroll(),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.dragEventTarget=e.target,this.options.dragScroll&&(this._scrollCheck(t)?this.scrollTimerId||this._scrollStart(t):this.scrollTimerId&&this._scrollStop()),this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",this._dragCopyOrMove(e),this._dragHitCheck(),s.ui.ddmanager&&!this.isOver&&s.ui.ddmanager.drag(this,e),this._trigger("drag",e,this._uiHashDnD()),this.lastPositionAbs=this.positionAbs,!1},_dragHitCheck:function(){var e,t,i,n,o,r,l,a,h,p=this,f=0,u=null,m=this.dropTargetNode?this.dropTargetNode[0].id:null,v=this.options;if(this.scrollParent[0]!==document&&(f=this.scrollParent[0].scrollTop-this.dropPositionsOrigin),(i=this.positionAbs.left+this.offset.click.left)>this.containerCache.left&&i<this.containerCache.left+this.containerCache.width)if(this.placeholder&&s(this.dragEventTarget).closest("."+g).length)null===this.initialPlaceholderPos&&(this.initialPlaceholderPos=i),(a=(i-this.initialPlaceholderPos)*this.rtlFactor)>(this.options.dragScrollSensitivity||10)?(this.initialPlaceholderPos=i,this._movePlaceholder({element:this.placeholder.children(c)},"below")):a<(-this.options.dragScrollSensitivity||-10)&&(this.initialPlaceholderPos=i,this._movePlaceholder({element:this.placeholder.children(c)},"above"));else for(this.initialPlaceholderPos=null,n=this.positionAbs.top+this.offset.click.top+f,e=0;e<this.dropPositions.length;e++)if(n>=(t=this.dropPositions[e]).top&&n<=t.bottom){u=t.nodeId,r=n>t.top+(t.bottom-t.top)/2?"bottom":"top";break}m===u&&r===this.lastLocation||(p.delayExpandTimer&&(clearTimeout(p.delayExpandTimer),p.delayExpandTimer=null),this.element.find("."+L).removeClass(L),u?(o=s("#"+u),v.dragExpandDelay>=0&&o.hasClass(N)&&(this.delayExpandTimer=setTimeout((function(){p.delayExpandTimer=null,p._expandNode(o,(function(){p._initPositions(o),p._refreshPositions()}))}),v.dragExpandDelay)),t.canAdd?(this.dropTargetNode=o,this.placeholder?(l=0!=(h=p.positionAbs.top-p.lastPositionAbs.top)&&(h>0?"down":"up"),"top"===r&&"up"===l?this._movePlaceholder(t,"before"):"bottom"===r&&"down"===l&&(t.canAddChild?(this.initialPlaceholderPos=i,this._movePlaceholder(t,"after"),this._movePlaceholder({element:this.placeholder.children(c)},"below")):this._movePlaceholder(t,"after"))):this.dropTargetNode.children(c+","+d).addClass(L)):t.canAddChild&&this.placeholder&&(this.initialPlaceholderPos=i,this._movePlaceholder(t,"after"),this._movePlaceholder({element:this.placeholder.children(c)},"below"))):this.dropTargetNode=null),this.lastLocation=r},_mouseStop:function(e,t){var i,n=this;return this.delayExpandTimer&&(clearTimeout(this.delayExpandTimer),this.delayExpandTimer=null),this._scrollStop(),s.ui.ddmanager&&!t&&s.ui.ddmanager.dragStop(this,e),t||s("body").off(".treeview"),this._deactivate(),this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),s.ui.ddmanager&&!t&&s.ui.ddmanager.drop(this,e)?(this.placeholder&&(this.dragItems.parent().show(),this._removePlaceholder()),this.dragging=!1,this.dragItems=null,this.currentItem=null,this.helper.remove(),this.helper=null,void this._stop(e)):e.target?void(this.options.dragAnimate?(i=this._getAnimation(),this.animating=!0,this.helper.animate(i,J(this.options.dragAnimate)||500,(function(){n._finishDrag(e)}))):this._finishDrag(e)):(this.fromOutside=!1,void(this.dragging=!1))},_scrollCheck:function(e,t){var i,n,o,r=0,l=0,a=this.options,d=this.scrollParent[0];return d&&d!==document&&"HTML"!==d.tagName?(this.overflowOffset.top+d.offsetHeight-e.pageY<a.dragScrollSensitivity?r=a.dragScrollSpeed:e.pageY-this.overflowOffset.top<a.dragScrollSensitivity&&(r=-a.dragScrollSpeed),t&&r&&((i=d.scrollTop+r)<0?(d.scrollTop=0,r=0):i>d.scrollHeight-d.clientHeight?(d.scrollTop=d.scrollHeight-d.clientHeight,r=0):d.scrollTop=i),this.overflowOffset.left+d.offsetWidth-e.pageX<a.dragScrollSensitivity?l=a.dragScrollSpeed:e.pageX-this.overflowOffset.left<a.dragScrollSensitivity&&(l=-a.dragScrollSpeed),t&&l&&((n=d.scrollLeft+l)<0?(d.scrollLeft=0,l=0):n>d.scrollWidth-d.clientWidth?(d.scrollLeft=d.scrollWidth-d.clientWidth,l=0):d.scrollLeft=n),o=!(!l&&!r)):(i=s(document).scrollTop(),n=s(document).scrollLeft(),e.pageY-i<a.dragScrollSensitivity?r=-a.dragScrollSpeed:s(window).height()-(e.pageY-i)<a.dragScrollSensitivity&&(r=a.dragScrollSpeed),t&&r&&((i+=r)<0?(s(document).scrollTop(0),r=0):i>s(document).height()-s(window).height()?(s(document).scrollTop(s(document).height()-s(window).height()),r=0):(e.pageY+=r,s(document).scrollTop(i))),e.pageX-n<a.dragScrollSensitivity?l=-a.dragScrollSpeed:s(window).width()-(e.pageX-n)<a.dragScrollSensitivity&&(l=a.dragScrollSpeed),t&&l&&((n+=l)<0?(s(document).scrollLeft(0),l=0):n+this.helper.width()>s(document).width()-s(window).width()?(s(document).scrollLeft(s(document).width()-s(window).width()-this.helper.width()),l=0):(e.pageX+=l,s(document).scrollLeft(n))),(o=!(!l&&!r))&&t&&(this.position=this._generatePosition(e),this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",s.ui.ddmanager&&s.ui.ddmanager.prepareOffsets(this,e))),o},_scrollStart:function(e){var t=this,i=0,n=[150,125,100,99,96,91,84,75,64,51,36];this.scrollTimerId&&this._scrollStop(),function s(){t.scrollTimerId=setTimeout((function(){t._scrollCheck(e,!0)?(t._dragHitCheck(),s()):t._scrollStop()}),n[i]),i<n.length-1&&(i+=1)}()},_scrollStop:function(){clearTimeout(this.scrollTimerId),this.scrollTimerId=null},_getAnimation:function(){var e,t,i={};return this.placeholder||this.dropTargetNode?(e=this.placeholder?(t=this.placeholder).offset():(t=this.dropTargetNode).offset(),i.left=e.left-this.offset.parent.left-this.margins.left,i.top=e.top-this.offset.parent.top-this.margins.top):(t=this.dragItems.eq(0),e=this.originalPosition,i.left=e.left-this.margins.left,i.top=e.top-this.margins.top,this.scrollParent[0]!==document&&(i.left+=this.originalScroll.left-this.scrollParent[0].scrollLeft,i.top+=this.originalScroll.top-this.scrollParent[0].scrollTop)),-1===this.rtlFactor&&(i.left+=t.width()-this.helper.width()),i},_initPositions:function(e){const t=this,i=t.options.dragReorder,n=t.nodeAdapter;let o,r=[];if(e&&this.dropPositions){let t=e[0].id;for(o=0;o<this.dropPositions.length&&t!==this.dropPositions[o].nodeId;o++);}else r=this.dropPositions=[],e=this.element;let a=[];if(e.find(l).each((function(){const e=s(this);let o=null,h=!1;if(!e.is(D)||e.is("."+g))return;if(i){const i=e.parent().closest(l);i.length?o=t.treeMap[se(i)]:t.options.showRoot||(o=n.root())}else o=t.treeMap[se(e)];const c=t._getDragNodes();if(!i&&"move"===t.dragOperation&&(c.includes(o)||a.includes(e.parent().closest(l)[0])))return void a.push(this);let p=o&&n.allowAdd(o,t.dragOperation,c);i&&(h=n.allowAdd(t.treeMap[se(e)],t.dragOperation,c)),(p||h||e.hasClass(N))&&r.push({canAdd:p,canAddChild:h,element:s(this).children(d),nodeId:this.id,top:0,bottom:0})})),void 0!==o&&r.length)for(let e=0;e<r.length;e++)this.dropPositions.splice(o+e,0,r[e])},_refreshPositions:function(){var e,t,i,n,s;for(e=0;e<this.dropPositions.length;e++)n=(t=this.dropPositions[e]).element.outerHeight(),i=t.element.offset(),t.top=i.top,t.bottom=i.top+n;this.dropPositionsOrigin=0,(s=this.scrollParent)&&s[0]!==document?this.dropPositionsOrigin=s[0].scrollTop:s=this.element,i=s.offset(),this.containerCache.left=i.left,this.containerCache.top=i.top,this.containerCache.width=s.outerWidth(),this.containerCache.height=s.outerHeight()},_makeTempDragItem:function(){var e,i,n,o=t.htmlBuilder();for(o.markup("<li").attr(E,r).markup("><div").attr(E,a).markup("></div><div").attr(E,h).markup(">unseen content</div></li>"),i=s(o.toString()),e=0;e<this.dropPositions.length;e++)if(this.dropPositions[e].canAdd){n=s(this.dropPositions[e].nodeId).parent();break}n||(n=this.element.children("ul")),n.append(i),this.dragItems=i.children(c)},_createPlaceholder:function(e){this.placeholder=s("<li class='"+r+" "+g+"'><div class='"+a+"'></div><div class='"+h+"'>&nbsp;</div></li>"),this.dragItems.first().parent().before(this.placeholder),e&&this.placeholder.height(e)},_movePlaceholder:function(e,t){const i=this,n=i.placeholder.parent(),r=i.nodeAdapter,a=i._getDragNodes();let d=e.element.parent(),h=d[0];if("after"===t&&d.hasClass(I)&&r.allowAdd(i.treeMap[se(d)],i.dragOperation,a)&&(h=d.children("ul").children()[0],t="before"),"above"===t){if(d.next(D).length)return;h=d.parent().parent()[0],d=s(h);let e=d.parent().closest(l),n=null;if(e.length?n=i.treeMap[se(e)]:i.options.showRoot||(n=r.root()),d.hasClass(o)||null===n)return;if(!r.allowAdd(n,i.dragOperation,a))return;t="after"}if("below"===t){let e=d.prevAll(D).first(),t=!1;if(e.hasClass(I)&&(e=e.children("ul").children().last(),t=!0),0===e.length)return;const n=r.allowAdd(i.treeMap[se(e)],i.dragOperation,a);if(!t&&e.hasClass(k)&&n&&this._makeParentIfNeeded(e.children(c)),e.hasClass(N))return void this._expandNode(e,(function(){i._initPositions(e),i._refreshPositions(),n&&e.children("ul")[0].appendChild(i.placeholder[0])}));n&&e[0].parentNode.appendChild(this.placeholder[0])}else"after"!==t||h.nextSibling?h.parentNode.insertBefore(this.placeholder[0],"before"===t?h:h.nextSibling):h.parentNode.appendChild(this.placeholder[0]);0===n.children().length&&this._makeLeafIfNeeded(n.parent().find(c)),this._refreshPositions()},_removePlaceholder:function(){var e=this.placeholder.parent();this.placeholder.remove(),this.placeholder=null,0===e.children().length&&this._makeLeafIfNeeded(e.parent().find(c))},_createHelper:function(e){var t,i=this.options;return"function"==typeof i.dragHelper?t=s(i.dragHelper.apply(this.element[0],[e,this.dragItems])):1===this.dragItems.length?t=this.dragItems.clone().removeAttr("id").removeClass(_):(t=s("<div></div>")).html(this.dragItems.clone().removeClass(_)),t.parents("body").length||t.appendTo("parent"===i.dragAppendTo?this.element[0].parentNode:i.dragAppendTo),/(fixed|absolute)/.test(t.css("position"))||t.css("position","absolute"),t},_adjustOffsetFromHelper:function(e){"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e;return this.offsetParent=this.helper.offsetParent(),e=this.offsetParent[0]===document||this.offsetParent[0]===document.firstElementChild?{left:0,top:0}:this.offsetParent.offset(),this.scrollParent&&this.scrollParent[0]!==document&&s.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&s.ui.ie)&&(e={top:0,left:0}),{top:e.top+(J(this.offsetParent.css("borderTopWidth"))||0),left:e.left+(J(this.offsetParent.css("borderLeftWidth"))||0)}},_generatePosition:function(e){var t=e.pageX,i=e.pageY,n=this.scrollParent&&this.scrollParent[0]!==document&&s.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return this.dragging||this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(t=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(i=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(t=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(i=this.containment[3]+this.offset.click.top)),{top:i-this.offset.click.top-this.offset.parent.top+(o?0:n.scrollTop()),left:t-this.offset.click.left-this.offset.parent.left+(o?0:n.scrollLeft())}},_adjustPositionForScroll:function(){var e=this.position,t=this.scrollParent&&this.scrollParent[0]!==document&&s.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(t[0].tagName);return{top:e.top+this.offset.parent.top-(i?0:t.scrollTop()),left:e.left+this.offset.parent.left-(i?0:t.scrollLeft())}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,i,n=this.options;"parent"===n.dragContainment&&(n.dragContainment=this.helper[0].parentNode),"document"!==n.dragContainment&&"window"!==n.dragContainment||(this.containment=[0-this.offset.parent.left,0-this.offset.parent.top,s("document"===n.dragContainment?document:window).width()-this.helperProportions.width-this.margins.left,(s("document"===n.dragContainment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.dragContainment)||(e=s(n.dragContainment)[0],t=s(n.dragContainment).offset(),i="hidden"!==s(e).css("overflow"),this.containment=[t.left+(J(s(e).css("borderLeftWidth"))||0)+(J(s(e).css("paddingLeft"))||0)-this.margins.left,t.top+(J(s(e).css("borderTopWidth"))||0)+(J(s(e).css("paddingTop"))||0)-this.margins.top,t.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(J(s(e).css("borderLeftWidth"))||0)-(J(s(e).css("paddingRight"))||0)-this.helperProportions.width-this.margins.left,t.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(J(s(e).css("borderTopWidth"))||0)-(J(s(e).css("paddingBottom"))||0)-this.helperProportions.height-this.margins.top])},_intersectsWith:function(e){var t=this.positionAbs.left,i=this.positionAbs.top,n=e.left,s=n+e.width,o=e.top,r=o+e.height,l=this.offset.click.top,a=this.offset.click.left;return i+l>o&&i+l<r&&t+a>n&&t+a<s},_dragCopyOrMove:function(e,t){var i,n;e.ctrlKey?i="ctrl":e.altKey?i="alt":e.shiftKey?i="shift":e.metaKey&&(i="meta"),n=this.dragOperations[i]||this.dragOperations.normal,this.dragOperation!==n&&(this.dragOperation=n,this.placeholder&&this.dragItems.parent().toggle("move"!==n),this._initPositions(),this._refreshPositions(),t&&this._trigger("drag",e,this._uiHashDnD()))},_cancel:function(e,t){var i,n=this;function o(){n.animating=!1,n.helper&&n.helper[0].parentNode&&n.helper.remove(),n.helper=null,n.dragging=!1,n.dragItems=null,n.currentItem=null,n._stop(e)}this.dragging&&(this.positionAbs.top=-99999,this._mouseUp(s.Event("mouseup",{target:null})),this.placeholder&&this.dragItems.parent().show()),this.dropTargetNode=null,this.placeholder&&this._removePlaceholder(),this.options.dragAnimate&&!t?(i=this._getAnimation(),this.animating=!0,this.helper.animate(i,J(this.options.dragAnimate)||500,(function(){o()}))):o()},_deactivate:function(){this.element.find("."+L).removeClass(L)},_finishDrag:function(e){const t=this.nodeAdapter;this.animating=!1;let n=this.dropTargetNode,s=0;if(this.placeholder&&(n=this.placeholder.parent().closest(l),this.dragItems.parent().show(),s=ne(this.placeholder),"move"===this.dragOperation&&this.dragItems.parent().hide()),this.fromOutside){if(this.dragItems.parent().remove(),"add"===this.dragOperation&&t.addNode)try{this.placeholder&&this._removePlaceholder(),this._add(e,n.children(c),s,null,!0)}catch(e){i.error("Error in drop add action.",e)}}else if(("copy"===this.dragOperation||"move"===this.dragOperation)&&t.allowAdd&&t["copy"===this.dragOperation?"copyNodes":"moveNodes"]&&("copy"===this.dragOperation||t.allowDelete))try{let i=!0;if("object"==typeof n&&null!==n){let o;o=n.length||this.options.showRoot?this.treeMap[se(n)]:t.root();const r=this._getDragNodes();if(t.allowAdd(o,this.dragOperation,r)&&"move"===this.dragOperation)for(let e=0;e<r.length;e++)if(!t.allowDelete(r[e])){i=!1;break}if(i&&"move"===this.dragOperation)if(this.placeholder){if(this.dragItems.last().closest(l).next()[0]===this.placeholder[0]){i=!1;for(let e=0;e<this.dragItems.length-1;e++)if(this.dragItems.eq(e).closest(l).next()[0]!==this.dragItems.eq(e+1).closest(l)[0]){i=!0;break}}else if(this.dragItems.first().closest(l).prev()[0]===this.placeholder[0]){i=!1;for(let e=1;e<this.dragItems.length;e++)if(this.dragItems.eq(e).closest(l).prev()[0]!==this.dragItems.eq(e-1).closest(l)[0]){i=!0;break}}}else{i=!1;for(let e=0;e<this.dragItems.length;e++)if(this.dragItems.eq(e).closest(l).parent().closest(l)[0]!==n[0]){i=!0;break}}i?(this.placeholder&&this._removePlaceholder(),this._moveOrCopy(e,n.children(c),s,this.dragItems,"copy"===this.dragOperation,!0)):this.dragItems.parent().show()}}catch(e){this.dragItems.parent().show(),i.error("Error in drop "+this.dragOperation+" action.",e)}this.dragging=!1,this._trigger("beforeStop",e,this._uiHashDnD()),this.dragItems=null,this.currentItem=null,this.placeholder&&this._removePlaceholder(),this.helper.remove(),this.helper=null,this.fromOutside&&this._trigger("deactivate",e,this._uiHashDnD(this)),this._stop(e),this.fromOutside=!1},_stop:function(e){apex.tooltipManager&&apex.tooltipManager.enableTooltips(),this._trigger("stop",e,this._uiHashDnD())},_add:function(e,i,n,o,r){var l,a,d=this,h=this.nodeAdapter;i&&i.length?(l=this.treeMap[se(i.parent())],a=re(i,this.labelSelector)+1):(i=null,l=h.root(),a=1),h.addNode(l,n,null,o,(function(o,h){var p,f,u,g=t.htmlBuilder(),m={parentNode:l,parent$:i,node:o,index:h};function v(){d._select(m.node$,e,r),d._trigger("added",e,m)}if(!(!1===o||null===o||h<0)){if(i){if(d._makeParentIfNeeded(i),0===(f=i.parent().children("ul")).length)return void d._expandNode(i.parent(),(function(){f=i.parent().children("ul"),m.node$=f.children().eq(n).children(c),v()}))}else f=d.element.children("ul");d._renderNode(o,a,g),p=s(g.toString()),m.node$=p.children(c),h>=(u=f.children()).length?f.append(p):u.eq(h).before(p),v()}}))},_moveOrCopy:function(e,i,n,o,r,a){var d,h,p=this,f=this.getNodes(o),u=r?"copyNodes":"moveNodes",g=this.nodeAdapter;i&&i.length?(d=this.treeMap[se(i.parent())],h=re(i,this.labelSelector)+1):(i=null,d=g.root(),h=1),g[u](d,n,f,(function(n){var f,u,m,v,_,w,b,y,C=t.htmlBuilder(),x=[],N=[],I={parentNode:d,parent$:i,items:x};function S(){for(f=0;f<x.length;f++)w=x[f],m=g.child(d,w.toIndex),w.toNode=m,C.clear(),p._renderNode(m,h,C),v=s(C.toString()),w.toNode$=v.children(c),y=b.children(D),w.toIndex>=y.length?b.append(v):y.eq(w.toIndex).before(v),N.push(w.toNode$[0]),r||(_=w.fromNode$.parent().parent().closest(l).children(c),w.fromParent$=_,w.fromIndex=w.fromNode$.parent().parent().children().index(w.fromNode$.parent()),w.fromNode$.parent().remove(),p._makeLeafIfNeeded(_));p._select(s(N),e,a),p._trigger(r?"copied":"moved",e,I)}if(n){for(f=0;f<n.length;f++)(u=n[f])>=0&&x.push({fromNode$:o.eq(f),toIndex:u});if(x.sort((function(e,t){return e.toIndex-t.toIndex})),i)return p._makeParentIfNeeded(i),b=i.parent().children("ul"),void p._expandNode(i.parent(),(function(){S()}));b=p.element.children("ul"),S()}}))},_uiHashDnD:function(e){var t=e||this;return{helper:t.helper,placeholder:t.dropTargetNode||t.placeholder||s([]),position:t.position,originalPosition:t.originalPosition,offset:t.positionAbs,items:t.dragItems,operation:t.dragOperation,sender:e?e.element:null}},_getDragNodes:function(){let e=[];return this.dragItems&&this.dragItems.length>0&&(e=this.getNodes(this.dragItems),e[0]||(e=[])),e}},apex.widget.contextMenuMixin));const ue={root:function(){return this.data},getLabel:function(e){return e.label},getIcon:function(e){var t=this.getType(e),i=null;return e.icon||null===e.icon?i=e.icon:t.icon||null===t.icon?i=t.icon:void 0!==this.types.default.icon&&(i=this.types.default.icon),i},getClasses:function(e){let t=this.getType(e),i=null;return t.classes?i=t.classes:this.types.default.classes&&(i=this.types.default.classes),e.classes&&(i?i+=" "+e.classes:i=e.classes),i},getLink:function(e){return e.link},getLinkTarget:function(e){return e.linkTarget},isDisabled:function(e){let t=this.getType(e),i=!1;return void 0!==e.isDisabled?i=e.isDisabled:void 0!==t.isDisabled?i=t.isDisabled:void 0!==this.types.default.isDisabled&&(i=this.types.default.isDisabled),i},child:function(e,t){if(e.children)return e.children[t]},childCount:function(e){return e.children?e.children.length:0},hasChildren:function(e){return!!e.children&&e.children.length>0},allowAdd:function(e,t,i){let n,s=this.getType(e),o=!!e.children&&this.check("canAdd",e,t,i);if(o&&i)if("function"==typeof s.validChildren)o=s.validChildren(e,i);else if(void 0!==s.validChildren?n=s.validChildren:void 0!==this.types.default.validChildren&&(n=this.types.default.validChildren),!0!==n)for(let e=0;e<i.length;e++)if(!n.includes(i[e].type)){o=!1;break}return o},allowRename:function(e){return this.check("canRename",e)},allowDelete:function(e){return e!==this.data&&this.check("canDelete",e)},allowDrag:function(e){return this.check("canDrag",e)},dragOperations:function(e){var t,i,n;if(e){if(e.length>0){for(n=e[0].type||"default",t=1;t<e.length;t++)if(e[t].type!==n){n="default";break}}else n="default";i=this.types[n].operations&&void 0!==this.types[n].operations.drag?this.types[n].operations.drag:this.types.default.operations.drag}else i=this.types.default.operations.externalDrag;return i},addNode:function(e,t,i,n,s){var o,r=Q(!0,{},n||this.newNode(e));i&&(r.label=i),this.sortCompare?e.children.push(r):e.children.splice(t,0,r),r._parent=e,void 0!==this._nextId&&(void 0===r.id?r.id=this.nextId():this._nextId+=1),this.sortCompare&&e.children.sort(this.sortCompare),o=e.children.indexOf(r),this.validateAdd(r,o,(function(t){"string"==typeof t||!1===t?(e.children.splice(o,1),s(!1===t&&null)):t&&s(r,o)}))},renameNode:function(e,t,i){var n,s=e.label;e.label=t,e._parent?(this.sortCompare&&e._parent.children.sort(this.sortCompare),n=e._parent.children.indexOf(e)):n=0,this.validateRename(e,n,(function(t){"string"==typeof t||!1===t?(e.label=s,i(!1===t&&null)):t&&i(e,n)}))},deleteNode:function(e,t,i){var n=e._parent,s=e._parent.children.indexOf(e);n.children.splice(s,1),delete e._parent,this.validateDelete(e,i,(function(i){i||(e._parent=n,n.children.splice(s,0,e)),t(i)}))},moveNodes:function(e,t,i,n){var s,o,r,l,a=[];for(s=0;s<i.length;s++)l=(r=(o=i[s])._parent).children.indexOf(o),r.children.splice(l,1),e===r&&l<t&&(t-=1),this.sortCompare?e.children.push(o):(e.children.splice(t,0,o),t+=1),o._parent=e;for(this.sortCompare&&e.children.sort(this.sortCompare),s=0;s<i.length;s++)a[s]=e.children.indexOf(i[s]);this.validateMove(e,i,a,(function(e){n(!!e&&a)}))},copyNodes:function(e,t,i,n){var s,o,r=this,l=[],a=[];function d(e,t){var i,n=Q({},e);if(n._parent=t,void 0!==r._nextId&&(n.id=r.nextId()),e.children)for(n.children=[],i=0;i<e.children.length;i++)n.children.push(d(e.children[i],n));return n}for(s=0;s<i.length;s++)o=d(i[s],e),l[s]=o,this.sortCompare?e.children.push(o):(e.children.splice(t,0,o),a[s]=t,t+=1);if(this.sortCompare)for(e.children.sort(this.sortCompare),s=0;s<l.length;s++)a[s]=e.children.indexOf(l[s]);this.validateCopy(e,l,a,(function(e){n(!!e&&a)}))},sortCompare:function(e,t){return e.label>t.label?1:e.label<t.label?-1:0},nextId:function(){var e=this._nextId;return this._nextId+=1,"tn"+e},newNode:function(e){var t,i={},n=!0,s=this.getType(e);return void 0!==this._nextId&&(i.id=this.nextId()),Array.isArray(s.validChildren)?(i.type=s.validChildren[0],(t=this.types[i.type])&&t.operations&&void 0!==t.operations.canAdd?n=s.operations.canAdd:void 0!==this.types.default.operations.canAdd&&(n=this.types.default.operations.canAdd),t&&void 0!==t.defaultLabel?i.label=t.defaultLabel:void 0!==this.types.default.defaultLabel&&(i.label=this.types.default.defaultLabel)):void 0!==this.types.default.defaultLabel&&(i.label=this.types.default.defaultLabel),n&&(i.children=[]),i},extraCheck:function(e){return e},validateAdd:function(e,t,i){i(!0)},validateRename:function(e,t,i){i(!0)},validateDelete:function(e,t,i){i(!0)},validateMove:function(e,t,i,n){n(!0)},validateCopy:function(e,t,i,n){n(!0)},getType:function(e){var t="default";return e.type&&(t=e.type),this.types[t]||this.types.default},check:function(e,t,i,n){var s=!1,o=this.getType(t);return t.operations&&void 0!==t.operations[e]?s=t.operations[e]:o.operations&&void 0!==o.operations[e]?s=o.operations[e]:void 0!==this.types.default.operations[e]&&(s=this.types.default.operations[e]),"function"==typeof s&&(s=s.call(this,t,i,n)),this.extraCheck(s,e,t,i,n)}};if(s.apex.treeView.makeDefaultNodeAdapter=function(e,t,i,n){let o=Object.create(ue);return Array.isArray(i)&&(n=i,i=!0),null==i&&(i=!0),i&&(s.apex.treeView.addViewStateMixin(o,"id",n),o._nextId=1),o.data=e,o.types=Q(!0,{},{default:{isDisabled:!1,validChildren:!0,operations:{canAdd:!0,canRename:!0,canDelete:!0,canDrag:!0,drag:{normal:"move",ctrl:"copy"},externalDrag:{normal:"add"}}}},t),o.data&&function e(t,n){if(t._parent=n,i&&(o._nextId+=1),t.children)for(let i=0;i<t.children.length;i++)e(t.children[i],t)}(o.data,null),o},s.apex.treeView.makeModelNodeAdapter=function(e,t,i){let n,o;if(!apex.model)throw new Error("Missing module apex.model");return t.shape="tree",n=apex.model.create(e,t,i),o=t.labelField||"label",n._labelKey=n.getFieldKey(o),t.hasIdentity&&s.apex.treeView.addViewStateMixin(n,(function(e){return n.getRecordId(e)}),t.initialExpandedNodeIds),(!i||t.editable||t.visibilityFilter)&&(n.setView=function(t){s.apex.treeView.treeModelListener(e,t)}),n.getType=n._getType,n.getLabel=function(e){return e[this._labelKey]},(t.iconField||t.typeField)&&(t.iconField&&(n._iconKey=n.getFieldKey(t.iconField)),n.getIcon=function(e){let t=this.getType(e),i=this._options,n=null;return this._iconKey&&(e[this._iconKey]||null===e[this._iconKey])?n=e[this._iconKey]:t.icon||null===t.icon?n=t.icon:void 0!==i.types.default.icon&&(n=i.types.default.icon),n}),(t.classesField||t.typeField)&&(t.classesField&&(n._classesKey=n.getFieldKey(t.classesField)),n.getClasses=function(e){let t=this.getType(e),i=this._options,n=null;return t.classes?n=t.classes:i.types.default.classes&&(n=i.types.default.classes),this._classesKey&&e[this._classesKey]&&(n?n+=" "+e[this._classesKey]:n=e[this._classesKey]),n}),n.isHidden=function(e){let t=!1,i=this.getRecordMetadata(this.getRecordId(e));return i&&i.hidden&&(t=!0),t},t.linkField&&(n._linkKey=n.getFieldKey(t.linkField),n.getLink=function(e){return this._linkKey?e[this._linkKey]:null}),t.linkTargetField&&(n._linkTargetKey=n.getFieldKey(t.linkTargetField),n.getLinkTarget=function(e){return this._linkTargetKey?e[this._linkTargetKey]:null}),n.allowRename=n.allowEdit,n.addNode=function(e,t,i,n,s){let o,r,l,a=null,d=this._initRecord(n,null,e);r=e[this._childrenKey],t>=0&&t<r.length&&(a=r[t]),i&&(d[this._labelKey]=i),l=this.insertNewRecord(e,a,d),d=this.getRecord(l),o=r.indexOf(d),s(d,o)},n.renameNode=function(e,t,i){let n,s;this.setValue(e,o,t),s=this.parent(e),n=s?s[this._childrenKey].indexOf(e):0,i(e,n)},n.deleteNode=function(e,t){t(1===this.deleteRecords([e]))},n.moveNodes=function(e,t,i,n){let s,o=[],r=null,l=e[this._childrenKey];(t-=1)>=0&&t<l.length&&(r=l[t]),s=this.moveRecords(i,e,r);for(let e=0;e<s.length;e++){let t=this.getRecord(s[e]);o[e]=l.indexOf(t)}n(o)},n.copyNodes=function(e,t,i,n){let s,o=[],r=null,l=e[this._childrenKey];(t-=1)>=0&&t<l.length&&(r=l[t]),s=this.copyRecords(i,e,r);for(let e=0;e<s.length;e++){let t=this.getRecord(s[e]);o[e]=l.indexOf(t)}n(o)},n},s.apex.treeView.treeModelListener=function(e,t){let i,n=t.data("apex-treeView"),o=n.getNodeAdapter();if(i=n.option("treeModel"),i){i.unSubscribe(n.option("modelViewId"));let t=n.option("modelId");t!==e&&apex.model.release(t),n.option("modelId",null),n.option("treeModel",null),n.option("modelViewId",null)}if(e){if(i=apex.model.get(e),!i)throw new Error("TreeView model not found: "+e);n.option("modelId",e),n.option("treeModel",i),n.option("modelViewId",i.subscribe({onChange:function(e,t){let i;function r(e){let t=[];for(let i=0;i<e.length;i++){let r=o.getViewId(n.baseId,e[i]);null!=r&&t.push(s("#"+n.baseId+r).children(c)[0])}return s(t)}if("refresh"===e)n.refresh();else if("addData"===e)null===t.parentNode&&n.refresh();else if("refreshRecords"===e||"revert"===e);else if("move"===e);else if("copy"===e);else if("insert"===e){const e=o.parent(t.record);o._nodesToRefresh||(o._nodesToRefresh=[]),o._nodesToRefresh.includes(e)||o._nodesToRefresh.push(e),1===o._nodesToRefresh.length&&queueMicrotask((()=>{for(const e of o._nodesToRefresh)e===o.root()?n.refresh():(i=r([e]),n.refresh(i));o._nodesToRefresh.length=null}))}else if("clearChanges"===e);else if("delete"===e){i=r(t.records);for(let e=0;e<t.records.length;e++)o.clearViewId(n.baseId,t.records[e]);n.deleteTreeNodes(i)}else if(("set"===e||"metaChange"===e)&&(i=r([t.record]),i[0])){let s="metaChange"===e&&"hidden"===t.property||"set"===e&&t.field===o._options.classesField;n.update(i,!s)}},progressView:n.element}))}},s.apex.treeView.addViewStateMixin=function(e,t,i){Q(e,{_state:{},isExpanded:function(e,t){return this._getExpandedNodes(e)[this._getIdentity(t)]||!1},setExpanded:function(e,t,i){this._getExpandedNodes(e)[this._getIdentity(t)]=i},getExpandedNodeIds:function(e){var t,i=[],n=this._getExpandedNodes(e);for(t in n)Z(n,t)&&!0===n[t]&&i.push(t);return i},getExpandedState:function(e){var t=this._getExpandedNodes(e);return Q({},t)},getViewId:function(e,t){const i=this._state[e]&&this._state[e].nodeMap;return i&&i[this._getIdentity(t)]},setViewId:function(e,t,i){var n=this._state[e]&&this._state[e].nodeMap;n||(n={},this._state[e]||(this._state[e]={}),this._state[e].nodeMap=n),n[this._getIdentity(t)]=i},clearViewId:function(e,t){var n=this._state[e]&&this._state[e].nodeMap,s=this._state[e]&&this._state[e].expandedNodes;n&&(t?(delete n[this._getIdentity(t)],s&&delete s[this._getIdentity(t)]):(i=this.getExpandedNodeIds(e),this._state[e].nodeMap={},delete this._state[e].expandedNodes))},_getExpandedNodes:function(e){let t=this._state[e]&&this._state[e].expandedNodes;if(!t&&(this._state[e]||(this._state[e]={}),t={},this._state[e].expandedNodes=t,i))for(let e=0;e<i.length;e++)t[i[e]]=!0;return t}}),e._getIdentity||(e._getIdentity="function"==typeof t?t:function(e){return e[t]})},s.ui.draggable&&(s.ui.plugin.add("draggable","connectToTreeView",{start:function(e,t){var n=s(this).data("ui-draggable"),o=n.options,r=Q({},t,{item:n.element});s("body").on("keydown.treeviewplug",(function(e){e.keyCode===s.ui.keyCode.ESCAPE&&(n.dropped=!1,n.cancel())})),n.trees=[],s(o.connectToTreeView).each((function(){var t=s.data(this,"apex-treeView");t&&!t.options.disabled&&t.options.dragAndDrop?(n.trees.push({instance:t}),t._initPositions(),t._refreshPositions(),t._trigger("activate",e,r)):i.warn("Draggable connectToTreeView matches an element that is not a treeView, is disabled, or doesn't support drag and drop.")}))},stop:function(e){var t=s(this).data("ui-draggable");s("body").off(".treeviewplug"),t.trees.forEach((function(i){i.instance.isOver&&!i.invalid?(i.instance.isOver=!1,t.cancelHelperRemoval=!0,i.instance._mouseStop(e,!0),e.target||(i.instance._trigger("deactivate",e,i.instance._uiHashDnD(i.instance)),i.instance.dragItems.parent().remove(),i.instance._cancel(e,!0))):(i.instance._deactivate(),i.instance._trigger("deactivate",e,i.instance._uiHashDnD(i.instance)),i.instance.dragItems&&(i.instance.dragItems.parent().remove(),i.instance._cancel(e,!0)))}))},drag:function(e,t){var i=s(this).data("ui-draggable");for(let s of i.trees){var n=!1;if(!s.invalid)if(s.instance.positionAbs=i.positionAbs,s.instance.helperProportions=i.helperProportions,s.instance.offset.click=i.offset.click,s.instance._intersectsWith(s.instance.containerCache)&&(n=!0),n){if(!s.instance.isOver){if(s.instance.isOver=!0,s.instance._makeTempDragItem(),s.instance.helper=t.helper,s.instance.helper.css("position","relative"),e.target=s.instance.dragItems.parent().children(d)[0],!s.instance._mouseCapture(e,!0)){s.instance.isOver=!1,s.invalid=!0;continue}s.instance._trigger("over",e,s.instance._uiHashDnD(s.instance)),s.instance._mouseStart(e,e,!0),s.instance.offset.click.top=i.offset.click.top,s.instance.offset.click.left=i.offset.click.left,s.instance.offset.parent.left-=i.offset.parent.left-s.instance.offset.parent.left,s.instance.offset.parent.top-=i.offset.parent.top-s.instance.offset.parent.top,i.dropped=s.instance.element,i.currentItem=i.element,s.instance.fromOutside=i}s.instance.dragItems&&s.instance._mouseDrag(e)}else s.instance.isOver&&(s.instance.isOver=!1,s.instance._trigger("out",e,s.instance._uiHashDnD(s.instance)),e.target=null,s.instance._mouseStop(e,!0),s.instance.dragItems.parent().remove(),s.instance.placeholder&&s.instance._removePlaceholder(),i.dropped=!1)}}}),s.ui.plugin.add("draggable","cursor2",{start:function(){var e=s("body"),t=s(this).data("ui-draggable"),i=t.options;i.cursor2&&"auto"!==i.cursor2&&(t.storedCursor=e.css("cursor"),e.css("cursor",i.cursor2),t.storedStylesheet=s("<style>*{ cursor: "+i.cursor2+" !important; }</style>").appendTo(e))},stop:function(){var e=s(this).data("ui-draggable");e.storedCursor&&(s("body").css("cursor",e.storedCursor),e.storedStylesheet.remove())}})),apex.widget){var ge={default:{operations:{canAdd:!1,canDelete:!1,canRename:!1,canDrag:!1}}};apex.widget.tree={init:function(i,n,o,r){var l=s("#"+t.escapeCSS(i),apex.gPageContext$);function a(t,i,n,s){e.plugin(i,{pageItems:n},{dataType:"json",refreshObject:t,loadingIndicator:t,loadingIndicatorPosition:"centered",success:function(e){s(e)}})}function d(e,t){var i;Array.isArray(t)&&t.length>0?e.treeView("setSelectedNodes",t,!1,!0):(i=e.treeView("find",{depth:-1,findAll:!1,match:function(e){return e.id===t}})).length>0&&e.treeView("setSelection",i)}r.regionStaticId&&r.lazyLoading?apex.widget.util.whenBecomesVisible(l,(function(e){!function(e,t,i,n){a(e,i,n,(function(i){var n=i.data||{},o=i.showRoot||!1,r=i.navigation||!1,l=i.hasIdentity||!0,a=Q(!0,{},ge),h=t.initialSelectedNodeId,c=t.nodeHasTooltip;t.defaultIcon&&(a.default.icon=t.defaultIcon),t=Q({getNodeAdapter:function(){return(t.makeNodeAdapter||s.apex.treeView.makeDefaultNodeAdapter)(n,a,l)},tooltip:c?{show:apex.tooltipManager.defaultShowOption(),content:function(e,t){return t?t.tooltip:null}}:null,navigation:r,showRoot:o},t),e.treeView(t),d(e,h)}))}(e,r,r.ajaxIdentifier,r.itemsToSubmit)})):function(e,t,i,n){var o=Q(!0,{},ge),r=t.initialSelectedNodeId,l=t.nodeHasTooltip;t.defaultIcon&&(o.default.icon=t.defaultIcon),t=Q({getNodeAdapter:function(){return(t.makeNodeAdapter||s.apex.treeView.makeDefaultNodeAdapter)(i,o,n)},tooltip:l?{show:apex.tooltipManager.defaultShowOption(),content:function(e,t){return t?t.tooltip:null}}:null,navigation:!0},t),e.treeView(t),d(e,r)}(l,r,n,o),r.regionStaticId&&apex.region.create(r.regionStaticId,{type:"Tree",widgetName:"treeView",refresh:function(){var e,t,i;e=l,t=r.ajaxIdentifier,i=r.itemsToSubmit,a(e,t,i,(function(t){var i,n=t.data||{},o=t.showRoot||!1,r=t.navigation||!1,l=t.hasIdentity||!0,a=e.treeView("getNodeAdapter"),h=function(e){return e.treeView("getSelectedNodes")}(e);a.getExpandedState?i=e.treeView("getExpandedNodeIds"):s.apex.treeView.addViewStateMixin(a,l,h),a.data=n,e.treeView("getNodeAdapter",(function(){return a})),e.treeView("option","showRoot",o),e.treeView("option","navigation",r),e.treeView("refresh"),function(e,t){if(t)for(let i=0;i<t.length;i++){let n=e.treeView("find",{depth:-1,findAll:!1,match:function(e){return e.id===t[i]}});n.length>0&&e.treeView("expand",n)}}(e,i),d(e,h)}))},focus:function(){l.treeView("focus")},widget:function(){return l}})},expand_all:function(e){s("#"+t.escapeCSS(e),apex.gPageContext$).treeView("expandAll")},collapse_all:function(e){s("#"+t.escapeCSS(e),apex.gPageContext$).treeView("collapseAll")},reset:function(e){var i=s("#"+t.escapeCSS(e),apex.gPageContext$);i.treeView("collapseAll").treeView("expand",i.children().children("li").first())}}}}(apex.server,apex.util,apex.debug,apex.actions,apex.jQuery);
!function(t,e,s,i,n){"use strict";var o="a-IconList",a="a-IconList-item",r="."+a,l="u-selector",c=l+" "+l+"--single",h="."+l,d="is-selected",u="."+d+r,f="is-focused",m="is-disabled",g="a-IconList-itemWrap",p="js-mouse-detector",v="aria-selected",C="aria-multiselectable",b="aria-labelledby",w="aria-description",_="aria-orientation",I="role",y="tabindex",F="u-RTL",T=n.ui.keyCode,x=0;function S(t){return t.parent().children().index(t)}function A(t){var e=t.find("a");return e.length?e[0]:t[0]}function N(t){return n(t).closest(r)}var L={begin:function(){this.text="<ul>\r\n"},item:function(t,e,s){this.text+="<li>"+i.escapeHTML(s)+"</li>\r\n"},end:function(){this.text+="</ul>\r\n"},toString:function(){return this.text}};n.widget("apex.iconList",n.extend(!0,{widgetEventPrefix:"iconlist",options:{multiple:!1,itemSelector:!1,addItemSelector:!0,label:!0,navigation:!1,tabbableContent:null,noNavKeyContent:null,allowCopy:!0,dataTransferFormats:[{format:"text/plain",writer:Object.create({begin:function(){this.text=""},item:function(t,e,s){e>0&&(this.text+="\r\n"),this.text+=s},end:function(){},toString:function(){return this.text}})},{format:"text/html",writer:Object.create(L)}],selectionChange:null,activate:null},_create:function(){const t=this,s=this.options,r=this.element;if(this.columns=0,this.rows=0,this.searchString="",this.searchTimerId=null,s.navigation&&(s.multiple=!1),r.addClass(o).attr(I,"listbox"),s.navigation&&r.children().wrapInner("<div>").children().addClass(g).attr("style","width:100%;height:100%"),s.multiple&&r.attr(C,"true"),this.forwardKey=T.RIGHT,this.backwardKey=T.LEFT,"rtl"===r.css("direction")&&(r.addClass(F),this.forwardKey=T.LEFT,this.backwardKey=T.RIGHT),r.attr(b)){let t=n("#"+r.attr(b).split(" ").join(",#")).last();t.attr("aria-hidden","true"),this.infoId=t.attr("id")+"_info",r.before("<span id='"+this.infoId+"' class='u-DisplayNone'></span>"),r.attr("aria-describedby",this.infoId)}else x+=1,this.infoId=(r.attr("id")||"il"+x)+"_info",r.before("<span id='"+this.infoId+"' class='u-DisplayNone'></span>"),r.attr(b,this.infoId),this.addedLabel=!0;this._initContextMenu(a,(function(){return!1}),(function(e){var s=N("keydown"===e.type&&t.lastFocused?t.lastFocused:e.target);return!!s.length&&(!!s.hasClass(d)||s)})),this._on(this._eventHandlers),s.allowCopy&&e.addHandler(r[0],(function(e){return t._copy(e),!0})),this._selNotifyDelay=i.debounce(this._selChangeNotify,1),this._selNotifyLongDelay=i.debounce(this._selChangeNotify,350),this.refresh(),s.disabled&&this._setOption("disabled",s.disabled)},_eventHandlers:{resize:function(t){t.target===this.element[0]&&(this._dim(),t.stopPropagation())},click:function(t){const e=this.options,s=e.navigation,i=n(t.target);let o,a=!1,l=!1,c=!1;if(this.lastEnterDownTime&&this.lastEnterDownTime===t.timeStamp&&(l=!0),this.focusinMousedownTime){const e=t.timeStamp-this.focusinMousedownTime;e>=0&&e<=100&&(a=!0)}return a&&!l&&s&&"A"===t.target.tagName&&"0"===i.attr(y)&&!i.hasClass(p)?(t.preventDefault(),!1):(a&&!l&&s&&"LI"===t.target.tagName&&"0"===i.attr(y)&&(c=!0,0===i.children("div."+g).length&&(c=!1),c&&i.closest("[role='application']").length>0&&(c=!1)),c?(t.stopPropagation(),!1):void(s&&i.closest("a").length>0&&(t.shiftKey||t.ctrlKey)||(o=i.closest(r),o.length&&(e.itemSelector&&i.closest(h).length&&(t.ctrlKey=!0,t.shiftKey=!1),this._select(o,t,!0,!1),s&&this._activate(t),!s&&e.tabbableContent&&i.closest(e.tabbableContent).length?e.tabbableContent&&i.closest(e.tabbableContent).length&&i.trigger("focus"):t.preventDefault()))))},dblclick:function(t){this.options.navigation||N(t.target).length&&this._activate(t)},mouseenter:function(t){const e=this.options.navigation,s=n(t.target);e&&"A"===t.target.tagName&&"0"===s.attr(y)&&s.addClass(p)},mouseleave:function(t){const e=this.options.navigation,s=n(t.target);e&&"A"===t.target.tagName&&s.removeClass(p)},mousedown:function(t){this.hasFocusinTriggered&&(this.focusinMousedownTime=t.timeStamp,this.hasFocusinTriggered=!1),t.preventDefault()},keydown:function(t){const e=this,i=this.element,o=this.options,a=n(t.target),r=t.which,l=i.children();let c,h,d=null;function u(t,i){const n=o.prevPosDesc?o.prevPosDesc.column:-1,a=o.prevPosDesc?o.prevPosDesc.row:-1,r=e._index2RowCol(l.index(t));let c;o.descTimerId&&(clearTimeout(o.descTimerId),o.descTimerId=null),o?.prevPosDesc?.el$&&o.prevPosDesc.el$.find("a[role='option']").addBack().removeAttr(w),1===t.length&&(1===e.columns&&e.rows>1||(c=i?"ALL"===i?s.formatMessage("APEX.ICON_LIST.COLUMN_AND_ROW",r.column+1,r.row+1):s.formatMessage("APEX.ICON_LIST."+i,r.column+1,r.row+1):n!==r.column&&a===r.row?e.rows>1?s.formatMessage("APEX.ICON_LIST.COLUMN",r.column+1):null:n===r.column&&a!==r.row?s.formatMessage("APEX.ICON_LIST.ROW",r.row+1):s.formatMessage("APEX.ICON_LIST.COLUMN_AND_ROW",r.column+1,r.row+1),c&&(o.descTimerId=setTimeout((function(){o.descTimerId=null,t.find("a[role='option']").addBack().filter("[role='option']").attr(w,c)}),500)),o.prevPosDesc={el$:t,column:r.column,row:r.row}))}!o.navigation&&o.noNavKeyContent&&a.closest(o.noNavKeyContent).length||(r===T.HOME?d=l.first():r===T.END?d=l.last():r===T.DOWN?this.lastFocused&&(c=this._index2RowCol(S(N(this.lastFocused))),c.row<Math.floor((l.length-1)/this.columns)?(h=this._rowCol2Index(c.row+1,c.column),h>=l.length&&(h=l.length-1),d=l.eq(h)):u(N(this.lastFocused),"LAST_ROW")):r===T.UP?this.lastFocused&&(c=this._index2RowCol(S(N(this.lastFocused))),h=this._rowCol2Index(c.row-1,c.column),h>=0&&(d=l.eq(h)),d?t.stopPropagation():u(N(this.lastFocused),"FIRST_ROW")):r===this.backwardKey?this.lastFocused&&(d=N(this.lastFocused).prev(),0===d.length&&u(N(this.lastFocused),"FIRST_COLUMN")):r===this.forwardKey?this.lastFocused&&(d=N(this.lastFocused).next(),0===d.length&&u(N(this.lastFocused),"LAST_COLUMN")):r===T.SPACE?this.lastFocused&&!this.searchTimerId&&(d=N(this.lastFocused)):r===T.ENTER&&(e.lastEnterDownTime=t.timeStamp,"A"!==t.target.nodeName&&this._activate(t)),d&&d[0]&&(u(d,r===T.HOME||r===T.END?"ALL":null),this._select(d,t,!0,!0),t.preventDefault()))},keypress:function(t){var e,s,i=this.options,o=this;if(0!==t.which&&i.label&&!t.altKey&&!t.ctrlKey&&(i.navigation||!i.noNavKeyContent||!n(t.target).closest(i.noNavKeyContent).length)){if(e=String.fromCharCode(t.which).toLowerCase(),this.searchTimerId)e!==this.searchString&&(this.searchString+=e),clearTimeout(this.searchTimerId),this.searchTimerId=null;else{if(" "===e)return;this.searchString=e}this.searchTimerId=setTimeout((function(){o.searchTimerId=null}),500),(s=this._findItem(this.searchString))&&this._select(s,t,!0,!0)}},focusin:function(t){const e=N(t.target);0!==e.length&&(this.hasFocusinTriggered=!0,e.addClass(f),this._setFocusable(t.target))},focusout:function(t){N(t.target).removeClass(f),this.hasFocusinTriggered=!1}},_destroy:function(){const t=this.element,s=this.options;t.removeClass(o+" "+m+" "+F).removeAttr(I).removeAttr(C).children().removeClass(a).removeAttr(I).removeAttr(v).removeAttr(y),t.find("a").removeAttr(y).removeAttr(I),s.itemSelector&&s.addItemSelector&&t.find(h).remove(),e.removeHandler(t[0]),this._destroyContextMenu(),n("#"+this.infoId).remove(),this.addedLabel&&t.removeAttr(b)},_setOption:function(t,e){var s,i,n=this.options,o=this.element;if(this._checkContextMenuOptions(t,e),"multiple"===t)n.navigation&&(e=!1);else if("allowCopy"===t||"addItemSelector"===t||"navigation"===t)throw new Error("IconList "+t+" option cannot be set");this._super(t,e),"disabled"===t?(o.toggleClass(m+" ui-state-disabled",e).attr("aria-disabled",e),this.lastFocused&&(e?this.lastFocused&&((s=!n.navigation&&n.tabbableContent)?(i=N(this.lastFocused)).add(i.find(s).not(":disabled")).prop("tabIndex",-1):this.lastFocused.tabIndex=-1):this._setFocusable(this.lastFocused)),e&&this._dim()):"multiple"===t?e?o.attr(C,"true"):o.removeAttr(C):"itemSelector"===t&&this.refresh()},refresh:function(){var t,e,s,i=this.options,o=this.element;i.multiple&&!i.itemSelector&&apex.userHasTouched()&&(i.itemSelector=!0,i.addItemSelector=!0),o.find("a").attr(y,-1).attr(I,"option").closest("li").attr(I,"none"),o.find(i.tabbableContent).attr(y,-1),(s=o.children().not(".js-ScrollFiller")).addClass(a).filter((function(){return 0===n(this).find("a").length})).attr(I,"option").attr(y,-1),i.addItemSelector&&(i.itemSelector?(e=n("<span class='"+(i.multiple?l:c)+"'></span>"),s.filter((function(){return n(this).find(h).length<=0})).prepend(e)):o.find(h).remove()),this._dim(),(t=o.find(u)).length>0?this.setSelection(t,!1):(this.lastFocused&&n(this.lastFocused).is(":visible")||(this.lastFocused=A(o.children().first())),this.selectAnchor=this.lastFocused,this.lastFocused&&!i.disabled&&this._setFocusable(this.lastFocused))},resize:function(){this._dim()},focus:function(){this.lastFocused&&this.lastFocused.focus()},getColumns:function(){return this.columns},getRows:function(){return this.rows},getSelection:function(){return this.element.find(u)},getSelectionValues:function(){var t=[];return this.getSelection().each((function(){t.push(n(this).attr("data-value"))})),t},setSelection:function(t,e,s){e=!!e,this._select(t,null,e,!1,s)},_copy:function(t){var e,s,i=this.getSelection(),n=this.options.dataTransferFormats;if(i.length){for(n.forEach((function(t){t.writer.begin(i)})),e=0;e<i.length;e++)s=i.eq(e),n.forEach((function(t){t.writer.item(s,e,s.text())}));n.forEach((function(e){e.writer.end(),t.setData(e.format,e.writer.toString())}))}},_rowCol2Index:function(t,e){return t*this.columns+e},_index2RowCol:function(t){var e=Math.floor(t/this.columns);return{row:Math.floor(t/this.columns),column:t-e*this.columns}},_dim:function(){const t=this,e=this.element,i=e.width(),o=e.children(),a=o.length;let r,l,c;a&&(r=o.first().position().top,c=o.first().outerWidth()),this.columns=a,o.each((function(e){var s=n(this).position().top;if(s>r)return r=s,t.columns=e,!1})),this.rows=a>0?Math.floor((a+this.columns-1)/this.columns):0,1===this.rows&&(this.columns=Math.floor(i/c)),l=1===this.columns?s.formatMessage("APEX.ICON_LIST.LIST_DIM",this.rows):s.formatMessage("APEX.ICON_LIST.GRID_DIM",this.columns,this.rows),n("#"+this.infoId).text(l),1===this.columns&&this.rows>1?e.attr(_,"vertical"):this.columns>1&&1===this.rows?e.attr(_,"horizontal"):e.attr(_,"undefined")},_findItem:function(t){var e,s,i=this.element,n=t.length,o=this.options.label;for(e=s=N(this.lastFocused),1===n&&(e=e.next()),0===e.length&&(e=i.children().first());e.length>0;){if((!0===o?e.text().trim():e.find(o).text()).substring(0,n).toLowerCase()===t)return e;if(0===(e=e.next()).length&&(e=i.children().first()),e[0]===s[0])break}return null},_setFocusable:function(t){const e=this.options,s=!e.navigation&&e.tabbableContent;if(this.lastFocused&&this.lastFocused!==t)if(s){const t=N(this.lastFocused);t.add(t.find(s).not(":disabled")).attr(y,"-1").removeAttr(v)}else n(this.lastFocused).attr(y,-1).removeAttr(v);if(s){const e=N(t);e.find(s).not("disabled").prop("tabIndex",0).length||e.attr(y,"0").attr(v,"true")}else n(t).attr(y,0).attr(v,"true");this.lastFocused=t},_activate:function(t){var e,s;this._trigger("activate",t,{values:this.getSelectionValues()}),this.options.navigation&&!t.isDefaultPrevented()&&(s=(e=this.getSelection()).attr("href")||e.find("a").attr("href"))&&(t.preventDefault(),apex.navigation.redirect(s))},_select:function(t,e,s,o,a){var r,l,c,f,m,g,p,C,b,w="set",_=this.element,I=this.options,y=_.find(u);t=t.filter(":visible"),e&&I.multiple&&("click"===e.type?e.ctrlKey||e.metaKey?w="toggle":e.shiftKey&&(w="range"):"keydown"===e.type&&(e.keyCode===n.ui.keyCode.SPACE?w=e.ctrlKey?"toggle":e.shiftKey?"range":"add":e.ctrlKey?w="none":e.shiftKey&&(w="range"))),"range"!==w||this.selectAnchor||(w="set"),"set"!==w&&"range"!==w||y.removeClass(d).removeAttr(v).find(h).removeClass(d),r=t.hasClass(d),"set"===w||"add"===w||"toggle"===w&&!r?(t.addClass(d).attr(v,!0).find(h).addClass(d),this.selectAnchor=t[0]):"range"===w?(_.children().removeClass(d).removeAttr(v).find(h).removeClass(d),g=S(n(this.selectAnchor)),p=S(t.last()),g>p&&(C=p,p=g,g=C),_.children().filter((function(t){return t>=g&&t<=p})).addClass(d).attr(v,!0).find(h).addClass(d)):"toggle"===w&&r&&(t.removeClass(d).removeAttr(v).find(h).removeClass(d),this.selectAnchor=t[0]),t.length>0&&(b=A(t.first()),s?(b.tabIndex=0,b.focus()):this._setFocusable(b),(f=(c=_.scrollParent())[0]===document?{left:0,top:0}:c.offset())&&(m=_.offset(),((l=t.first().offset()).top<f.top||l.top>f.top+c[0].offsetHeight)&&(c[0].scrollTop=l.top-m.top),(l.left+t[0].offsetWidth<f.left||l.left>f.left+c[0].offsetWidth)&&(c[0].scrollLeft=l.left-m.left))),a||I.navigation&&e&&"click"===e.type||("toggle"===w||"range"===w&&!r||"add"===w&&!r||"set"===w&&!i.arrayEqual(y,t))&&(o?this._selNotifyLongDelay(e):this._selNotifyDelay(e))},_selChangeNotify:function(t){this.element.hasClass(o)&&this._trigger("selectionChange",t)}},apex.widget.contextMenuMixin))}(apex.debug,apex.clipboard,apex.lang,apex.util,apex.jQuery);
!function(n,e,o){"use strict";var r=function(){var n=[],r=-1,t=null,c={execute:function(){},undo:function(){},redo:function(){return this.execute()},label:function(){return""}};function u(){if(r<0)throw new Error("Command history nothing to undo")}function i(){if(r>=n.length-1)throw new Error("Command history nothing to redo")}return{clear:function(){n=[],r=-1,o(document).trigger("commandHistoryChange")},execute:function(c){try{e.info("Execute command: "+c.label()),c.execute()}catch(n){return e.error("Exception during execute command.",n),void(t&&t("execute",c,n))}(r+=1)<n.length&&(n.length=r),n.push(c),o(document).trigger("commandHistoryChange")},undo:function(){u();try{e.info("Undo command: "+n[r].label()),n[r].undo()}catch(o){e.error("Exception during undo command.",o),t&&t("undo",n[r],o),n.length=r}r-=1,o(document).trigger("commandHistoryChange")},redo:function(){i(),r+=1;try{e.info("Redo command: "+n[r].label()),n[r].redo()}catch(o){e.error("Exception during redo command.",o),t&&t("redo",n[r],o),n.length=r,r-=1}o(document).trigger("commandHistoryChange")},canUndo:function(){return r>=0},canRedo:function(){return r<n.length-1},undoLabel:function(){return u(),n[r].label()},redoLabel:function(){return i(),n[r+1].label()},setErrorHandler:function(n){t=n},getErrorHandler:function(){return t},baseCommand:function(){return Object.create(c)}}};n.commandHistory=r(),n.commandHistory.newCommandHistory=r}(apex,apex.debug,apex.jQuery);
!function(e,t){"use strict";var a={};const l=t.util.hasOwnProperty;t.templateOptionsHelper={getValuesFromDialog:function(t,a){let l=[];function r(t){for(let r=0;r<t.length;r++){let u=a.propertyEditor("getPropertyValue",t[r].propertyName);e.isEmptyObject(u)||l.push(u)}}return r(t.common),r(t.advanced),l},getProperties:function(r,u,i,o){let n,p,s,d,c,m,f,h,v,g,y=[],E={},T=[],O=[],D={},V={common:[],advanced:[]},x="";for(o&&(x=o.propertyName,v=e.isEmptyObject(o.value),g=!(!o.metaData||!o.metaData.multiSelectData)),n=0;n<r.values.length;n++)m=r.values[n],m.groupId?(p=m.groupId,l(E,p)?s=E[p]:(d=r.groups[p],y.push({title:d.title,seq:d.seq,nullText:d.nullText,isAdvanced:d.isAdvanced,isRequired:!1,lovValues:[],value:""}),s=y.length-1,E[p]=s),r.presetValues.includes(m.r)&&(""===y[s].value&&(y[s].value=m.r),d.nullText||(y[s].isRequired=!0)),u.includes(m.r)&&(y[s].value=m.r),y[s].lovValues.push({r:m.r,d:m.d})):(O.push(m),u.includes(m.r)&&T.push(m.r));for(f=v?a:T.join(":"),y.sort((function(e,t){return e.seq===t.seq?e.title.localeCompare(t.title):e.seq-t.seq})),h={type:"TEMPLATE OPTIONS GENERAL",prompt:t.lang.getMessage("TEMPLATE_OPTIONS.GENERAL"),isReadOnly:!!i,isRequired:!1,lovValues:O,displayGroupId:"common",defaultTemplateOptions:r.defaultValues},g&&(h.multiSelectData=o.metaData.multiSelectData),V.common[0]={propertyName:"general",propertyId:x,value:f,oldValue:f,originalValue:f,metaData:h,errors:[],warnings:[]},n=0;n<y.length;n++)d=y[n],c=d.isAdvanced?"advanced":"common",D=d.value?d.value:"",h={type:e.apex.propertyEditor.PROP_TYPE.SELECT_LIST,prompt:d.title,isReadOnly:!!i,isRequired:d.isRequired,nullText:d.nullText,lovValues:d.lovValues,displayGroupId:c},g&&(h.multiSelectData=o.metaData.multiSelectData),V[c].push({propertyName:"grp"+n,value:D,oldValue:D,originalValue:D,metaData:h,errors:[],warnings:[]});return V},addGeneralPropertyType:function(){e.apex.propertyEditor.addPropertyType("TEMPLATE OPTIONS GENERAL",{init:function(a,l){let r=e();this.super("init",a,l);let u=a.find("input[type=checkbox]"),i=u.filter("[value='#DEFAULT#']");for(let e=0;e<l.metaData.defaultTemplateOptions.length;e++)r=r.add(u.filter("[value='"+t.util.escapeCSS(l.metaData.defaultTemplateOptions[e])+"']"));i.on("click setdefaultcheckboxes",(function(){let t=e(this).prop("checked");t&&r.prop("checked",!0),r.prop("disabled",t)})).trigger("setdefaultcheckboxes")},getValue:function(e){let t=[];return e.find("input[type=checkbox]").filter(":checked:not(:disabled)").each((function(){t.push(this.value)})),t.join(":")},setValue:function(e,t,a){this.super("setValue",e,t,a),e.find("input[type=checkbox]").filter("[value='#DEFAULT#']").trigger("setdefaultcheckboxes")}},"CHECKBOXES")}}}(apex.jQuery,apex);
window.pe=function(e,t,_,r,n,i){"use strict";var o={APPLICATION:"1000",THEME:"2000",PAGE_TEMPLATE:"2510",FIELD_TEMPLATE:"2520",BUTTON_TEMPLATE:"2530",REGION_TEMPLATE:"2540",LIST_TEMPLATE:"2550",BREADCRUMB_TEMPLATE:"2560",CALENDAR_TEMPLATE:"2570",REPORT_TEMPLATE:"2580",APP_ITEM:"3010",APP_COMPUTATION:"3020",APP_PROCESS:"3030",BUILD_OPTION:"3040",AUTHENTICATION:"3050",AUTHORIZATION:"3060",WEB_SRC_MODULE:"3080",WEB_SRC_MOD_PARAM:"3082",WEB_SRC_OPERATION:"3088",WEB_SRC_OPER_PARAM:"3090",AI_CONFIG:"3400",BREADCRUMB:"3510",LIST:"3520",LOV:"3530",WS_REF:"3540",WS_REF_OPER:"3541",WS_REF_OPER_P_I:"3545",WS_REF_OPER_P_O:"3546",WS_REF_OPER_P_A:"3547",WS_REF_OPER_P_H:"3548",DATA_LOAD_TABLE:"3550",TAB_SET:"3560",REPORT_QUERY:"3580",EMAIL_TEMPLATE:"3630",DATA_LOAD_DEF:"3640",TASK_DEFINITION:"3700",TASK_DEF_PARAM:"3705",SEARCH_CONFIG:"3910",PAGE:"5000",REGION:"5110",PAGE_ITEM:"5120",BUTTON:"5130",DA_EVENT:"5140",DA_ACTION:"5150",META_TAG:"5160",VALIDATION:"5510",PAGE_COMPUTATION:"5520",PAGE_PROCESS:"5530",PAGE_PROC_WS_PARAM:"5531",BRANCH:"5540",REGION_PLUGIN_ATTR:"7000",IR_ATTRIBUTES:"7010",IR_SAVED_REPORT:"7020",IR_COLUMN_GROUP:"7030",IR_COLUMN:"7040",IR_PRINT_ATTR:"7050",PAGE_PROC_WS_P_I:"7110",PAGE_PROC_WS_P_O:"7120",PAGE_PROC_WS_P_A:"7130",PAGE_WS_PARAM:"7150",PAGE_PROC_API_PARAM:"7152",REGION_WS_PARAM:"7160",CLASSIC_REPORT:"7310",CLASSIC_RPT_COLUMN:"7320",CLASSIC_RPT_PRINT:"7330",TABULAR_FORM:"7410",TAB_FORM_COLUMN:"7420",TAB_FORM_PRINT:"7430",CLASSIC_CALENDAR:"7610",REGION_COLUMN:"7710",REGION_TMPL_COLUMN:"7720",JET_CHART:"7810",JET_CHART_SERIES:"7820",JET_CHART_AXES:"7830",JET_CHART_WS_PARAM:"7840",IG_ATTRIBUTES:"7910",IG_SAVED_REPORT:"7920",IG_COLUMN_GROUP:"7930",IG_COLUMN:"7940",IG_PRINT:"7950",FACET:"8010",FACET_GROUP:"8020",FACET_GROUP_ITEM:"8030",SFILTER:"8050",SFILTER_GROUP:"8051",SFILTER_GROUP_ITEM:"8052",CARD:"8110",CARD_ACTION:"8120",MAP_REGION:"8210",MAP_LAYER:"8220",MAP_LAYER_WS_PARAM:"8230",PAGE_PROCESS_TASK_PARAM:"8400",SEARCH_REGION_SOURCE:"8520",REGION_ACTION:"8610",IR_COLUMN_ACTION:"8615",REGION_ACTION_MENU_ENTRY:"8710",IR_COL_ACTION_MENU_ENTRY:"8715",WORKFLOW:"8800",WORKFLOW_PARAM:"8810",WORKFLOW_VERSION:"8820",WORKFLOW_ACTIVITY:"8830",WORKFLOW_VARIABLE:"8840",WORKFLOW_ACT_VAR:"8850",WORKFLOW_PARTICIP:"8860",WORKFLOW_TRANS:"8870",WORKFLOW_BRANCH:"8880",PAGE_PROCESS_WF_PARAM:"8900",WF_ACTIVITY_TASK_PARAM:"8950",WF_ACTIVITY_API_PARAM:"9000",WF_ACTIVITY_WS_PARAM:"9050",WF_ACTIVITY_WF_PARAM:"9100"},E={NAME:"1",ERROR_MESSAGE:"6",PAGE_GROUP:"9",PAGE_MODE:"10",PAGE_TEMPLATE:"11",STANDARD_TAB_SET:"12",TITLE:"13",JS_FUNCTION_AND_GLOBAL_VARIABLE_DECLARATION:"16",AUTHORIZATION_SCHEME:"24",PAGE_AUTHENTICATION:"25",HIDDEN_REQUIRED_VALUE_TYPE:"31",API_DIRECTION:"34",IGNORE_OUTPUT:"35",API_DATA_TYPE:"36",API_CUSTOM_DATA_TYPE:"37",BUILD_OPTION:"38",HIDDEN_VALUE_TYPE:"42",ENABLE_META_TAGS:"43",COMPUTATION_ITEM_NAME:"51",COMPUTATION_TYPE:"52",COMPUTATION_STATIC_VALUE:"53",COMPUTATION_SQL_STATEMENT:"54",COMPUTATION_ITEM_VALUE:"58",COMPUTATION_PREFERENCE_VALUE:"59",EXECUTION_SEQUENCE:"60",COMPUTATION_POINT:"61",EVENT:"62",CUSTOM_EVENT:"63",WHEN_TYPE:"64",WHEN_REGION:"65",WHEN_BUTTON:"66",WHEN_ITEMS:"67",WHEN_DOM_OBJECT:"68",WHEN_JQUERY_SELECTOR:"69",JS_CONDITION:"70",WHEN_IG_REGION:"71",API_VALUE_TYPE_BASIC:"72",API_VALUE_TYPE_BLOB:"73",API_VALUE_TYPE_CUSTOM:"74",DA_EXECUTION_TYPE:"79",DA_EXECUTION_IMMEDIATE:"81",DA_ACTION_TYPE:"82",FIRE_WHEN_EVENT_RESULT_IS:"83",FIRE_ON_PAGE_LOAD:"84",AFFECTED_TYPE:"85",AFFECTED_REGION:"86",AFFECTED_BUTTON:"87",AFFECTED_ITEMS:"88",AFFECTED_DOM_OBJECT:"89",AFFECTED_JQUERY_SELECTOR:"90",ITEM_TYPE:"93",REGION_TYPE:"94",PAGE_PROCESS_TYPE:"95",ITEM_NAME:"96",DISPLAY_SEQUENCE:"97",REGION:"98",ITEM_LABEL:"99",LABEL_ALIGNMENT:"100",FIELD_TEMPLATE:"101",VALUE_REQUIRED:"103",GRID_NEW_GRID:"104",GRID_NEW_ROW:"105",GRID_COLUMN:"106",GRID_NEW_COLUMN:"107",GRID_COLUMN_SPAN:"108",GRID_ROW_SPAN:"109",GRID_COLUMN_ATTRIBUTES:"110",FORMAT_MASK:"111",FORMAT_MASK_DATE:"112",LOV_DISPLAY_EXTRA:"115",LOV_DISPLAY_NULL:"116",LOV_SQL:"122",ELEMENT_FIELD_ALIGNMENT:"123",ELEMENT_WIDTH:"124",ELEMENT_MAX_CHARACTERS:"125",ELEMENT_HEIGHT:"126",CUSTOM_ATTRIBUTES:"129",SOURCE_USED:"133",SOURCE_TYPE:"134",TASK_VALUE_TYPE:"140",SOURCE_DB_COLUMN:"141",ITEM_MAINTAIN_SESSION_STATE:"144",ITEM_DEFAULT_TYPE:"145",ITEM_DEFAULT_STATIC_TEXT:"146",READ_ONLY_HTML_ATTRIBUTES:"171",SESSION_STATE_PROTECTION:"172",BUTTON_NAME:"176",BUTTON_LABEL:"177",HAS_DEFAULT:"178",ALIGNMENT:"179",STATIC_ID:"180",DOM_STATIC_ID:"181",BUTTON_TEMPLATE:"182",BUTTON_IS_HOT:"183",COLUMN_NAME_UPPER:"186",BUTTON_TARGET:"187",PARENT_REGION:"190",SLOT_PLACEHOLDER:"191",PROCESS_POINT:"192",REGION_SQL:"193",REGION_PLUGIN_PLAIN:"194",PLSQL_CODE:"198",REGION_HTML_CODE:"214",REGION_TEMPLATE:"217",ITEM_DISPLAY_POSITION:"218",REGION_DISPLAY_SELECTOR:"219",REGION_IMAGE:"220",REGION_FUNCTION_RETURNING_SQL:"225",BRANCH_TYPE:"226",BRANCH_POINT:"227",TARGET:"228",BRANCH_PAGE_NUMBER:"229",BRANCH_ITEM:"230",WHEN_BUTTON_PRESSED:"234",MENU_ENTRY_TYPE:"238",HIDDEN_PLUGIN_NAME:"239",ACTION_POSITION:"240",TEMPLATE_COMPONENT_TYPE:"243",ALWAYS_EXECUTE:"245",ASSOCIATED_ITEM:"247",ASSOCIATED_COLUMN:"248",EXECUTE_CONDITION:"250",VALIDATION_REGION:"251",BUTTON_ACTION:"252",DIALOG_TEMPLATE:"254",OVERWRITE_NAVIGATION_LIST:"255",NAVIGATION_LIST:"256",NAVIGATION_LIST_TEMPLATE:"257",REGION_ACTION_PARENT_MENU:"258",ACTION_TEMPLATE:"259",HIDDEN_TEMPLATE_ID:"260",COLUMN_NAME:"267",COLUMN_TYPE:"268",IR_COLUMN_DISPLAY_TYPE:"271",COLUMN_HEADING:"272",HEADING_ALIGNMENT:"275",COLUMN_ALIGNMENT:"276",ALLOW_USERS_TO_HIDE:"277",ALLOW_USERS_TO_SORT:"278",ALLOW_USERS_TO_FILTER:"279",ALLOW_USERS_TO_HIGHLIGHT:"280",ALLOW_USERS_TO_CONTROL_BREAK:"281",ALLOW_USERS_TO_AGGREGATE:"282",ALLOW_USERS_TO_COMPUTE:"283",ALLOW_USERS_TO_CHART:"284",ALLOW_USERS_TO_GROUP_BY:"285",IR_COLUMN_FILTER_TYPE:"286",HTML_EXPRESSION:"289",LINK_TEXT:"290",IR_COLUMN_ACTION_PARENT_MENU:"296",WHEN_NO_DATA_FOUND_MESSAGE:"297",HIDDEN_COLUMNS_HAVE_GROUPS:"301",DOWNLOAD_FORMATS:"308",LINK_ICON:"319",SHOW_DOWNLOAD:"352",PROCESS_REGION:"370",DA_EVENT:"371",LOV_TYPE:"373",LOV_STATIC_VALUES:"374",TZ_DEPENDENT:"375",CHART_TITLE:"380",CHANGED_BY:"381",CHANGED_ON:"382",ALLOW_USERS_TO_PIVOT:"383",HAS_GENERIC_COLUMNS:"390",GENERIC_COLUMN_COUNT:"391",CLASSIC_REPORT_COLUMN_TYPE:"398",COLUMN_SORT_SEQUENCE:"406",DISABLE_SORT_COLUMN:"408",INCLUDE_IN_EXPORT_PRINT:"409",HEADINGS_TYPE:"427",HEADING_TYPE_PLSQL_FUNCTION_BODY:"428",NUMBER_OF_ROWS_TYPE:"433",NUMBER_OF_ROWS:"434",NUMBER_OF_ROWS_ITEM:"435",TAB_FORM_COLUMN_TYPE:"452",HIDDEN_TEMPLATE_COMPONENT_TYPE:"456",BRANCH_ACCEPT_REQUEST:"465",QUERY_COLUMN_ID:"466",DERIVED_COLUMN:"467",SERIES_CHART_TYPE:"474",SOURCE_GRAPH_OWNER:"475",SOURCE_GRAPH_NAME:"476",SOURCE_GRAPH_MATCH_CLAUSE:"477",SOURCE_GRAPH_WHERE_CLAUSE:"478",SOURCE_GRAPH_COLUMNS_CLAUSE:"479",SOURCE_GRAPH_STATIC_ORDER_BY:"480",SOURCE_GRAPH_ORDER_BY:"481",SOURCE_GRAPH_ORDER_BY_ITEM:"482",CHART_HEIGHT:"545",VALUE_DECIMAL_PLACES:"588",PRINT_PAGE_SIZE:"700",PRINT_ORIENTATION:"701",PRINT_UNITS:"702",PRINT_WIDTH:"703",PRINT_HEIGHT:"704",PRINT_PAGE_HEADER_TEXT:"712",ENABLE_PRINTING:"729",PLUGIN_ATTR_REGION_TYPE:"737",HIDDEN_REGION_TYPE:"737",IS_VISIBLE:"738",COMPUTATION_SQL_COLON:"744",IS_GLOBAL_PAGE:"749",PARAMETER_ID:"753",PAGE_NAVIGATION_TYPE:"754",AFFECTED_JAVASCRIPT_EXPRESSION:"755",WHEN_JAVASCRIPT_EXPRESSION:"756",NAVIGATION_LIST_POSITION:"757",GRID_LABEL_COLUMN_SPAN:"760",GRID_COLUMN_CSS_CLASSES:"763",JS_COND_VALUE:"766",JS_COND_LIST:"767",MASTER_REGION:"769",IS_EDITABLE:"770",PAGINATION_TYPE:"783",SHOW_TOTAL_ROW_COUNT:"784",ENABLE_DOWNLOAD:"791",IG_DOWNLOAD_FORMATS:"792",ALTERNATIVE_LABEL:"804",COLUMN_FILTER:"807",FILTER_LOV_TYPE:"811",GRID_ROW_CSS_CLASSES:"814",COLUMN_SOURCE_TYPE:"815",SOURCE_SQL_EXPRESSION:"817",DATA_TYPE:"818",IS_QUERY_ONLY:"819",IS_PRIMARY_KEY:"820",MASTER_COLUMN:"821",ENABLE_SORT_GROUP:"822",EXECUTE_READONLY:"828",JET_CHART_TYPE:"829",IS_GROUP:"832",JET_GAUGE_ORIENTATION:"838",VALUE_FORMAT_TYPE:"847",VALUE_FORMAT_SCALING:"850",LEGEND_RENDERED:"857",CHART_MAX_WIDTH:"862",JET_SERIES_TYPE_COMBO:"864",DATA_SOURCE_TYPE:"866",DATA_SOURCE_QUERY:"867",DATA_SOURCE_FUNC_RETURN_SQL:"868",LINK_TARGET_TYPE:"870",RELOAD_ON_SUBMIT:"915",JET_SERIES_TYPE_RANGE:"934",JET_SERIES_TYPE_POLAR:"936",JET_SERIES_TYPE_RADAR:"937",JET_SERIES_TYPE_COLUMN_MAPPING:"932",ASSIGNED_TO_Y2:"907",ITEMS_LABEL_RENDERED:"908",FILTER_DATA_TYPE:"938",ITEM_WARN_ON_UNSAVED_CHANGES:"940",INIT_JAVASCRIPT_FUNCTION:"943",WHEN_COLUMNS:"944",JS_CONDITION_ELEMENT_TYPE:"945",JS_CONDITION_ITEM_WHEN_IG:"946",JS_CONDITION_COLUMN_WHEN_IG:"947",AFFECTED_COLUMNS:"948",IG_REGION:"949",JS_CONDITION_ITEM:"950",JS_CONDITION_WHEN_IG:"951",JS_COND_VALUE_WHEN_IG:"952",JS_COND_LIST_WHEN_IG:"953",SOURCE_LOCATION:"957",SOURCE_REMOTE_DATABASE:"958",SOURCE_QUERY_TYPE:"959",SOURCE_QUERY_OWNER:"960",SOURCE_QUERY_TABLE:"961",SOURCE_QUERY_WHERE:"962",SOURCE_QUERY_ORDER_BY:"963",SOURCE_SQL_QUERY:"964",SOURCE_WEB_SRC_QUERY:"967",SOURCE_WEB_SRC_ARRAY_COL:"969",JET_SERIES_TYPE_BOX_PLOT:"973",OPTIMIZER_HINT:"975",SOURCE_INCLUDE_ROWID_COLUMN:"978",JET_AXIS_SCALE:"983",DIRECTION:"998",IS_STATIC:"1000",PARAMETER_REQUIRED:"1001",PARAMETER_VALUE:"1002",DATABASE_OPERATION:"1003",WEB_SRC_PARAM:"1004",VALUE_TYPE:"1005",OUT_VALUE_TYPE:"1008",VALUE_STATIC_VALUE:"1006",VALUE_ITEM:"1009",HTTP_METHOD:"1013",PLSQL_PROCESS_LOCATION:"1014",CHILD_SOURCE_LOCATION:"1032",SOURCE_POST_PROCESSING:"1034",POST_PROC_WHERE:"1035",POST_PROC_ORDER_BY:"1036",POST_PROC_SQL_QUERY:"1041",DATA_SOURCE_REGION:"1060",DATA_SOURCE_COLUMN:"1061",PROCESS_DATA_SOURCE_REGION:"1062",SOURCE_FILTERED_REGION:"1090",FACET_LOV_TYPE:"1091",FC_ZERO_COUNT_ENTRIES:"1094",FC_SORT_BY_TOP_COUNTS:"1103",DEPENDING_ON_FACET:"1104",WEB_SRC_HAS_LOCAL_TABLE:"1111",WEB_SRC_USE_LOCAL_TABLE:"1112",WEB_SRC_HAS_ARRAY_COLUMNS:"2382",DOC_SRC_HAS_ARRAY_COLUMNS:"53520011",ICON_SOURCE_TYPE:"1151",MEDIA_SOURCE_TYPE:"1163",FACET_GROUP:"1172",HIDDEN_PARENT_REGION:"1173",DEPENDING_ON_FACET_GRP_ITEM:"1175",FC_SHOW_CHART:"1176",CARD_ACTION_TYPE:"1180",ACTION_LINK_TARGET_TYPE:"1182",CARD_USES_BLOB_COLUMN:"1184",MULTI_VALUE_SEPARATOR:"1222",SUGGESTIONS_TYPE:"1226",SFILTER_GROUP:"1233",SOURCE_QUERY_ORDER_BY_TYPE:"1238",SOURCE_QUERY_ORDER_BY_ITEM:"1239",SOURCE_QUERY_STATIC_ORDER_BY:"1246",PLSQL_REMOTE_DATABASE:"1248",SOURCE_REMOTE_DATABASE_TYPE:"1331",IDENTIFICATION_STATIC_ID:"1413",WEB_SRC_PARAM_TYPE:"1416",TASK_DEF_PARAM:"1522",COLUMN_MAPPING_PK_COLUMN:"1532",REGION_IMAGE_URL:"1603",REGION_IMAGE_ALT_TEXT:"1604",REGION_IMAGE_ATTRIBUTES:"1605",DUE_ON_TYPE:"1660",DUE_ON_INTERVAL_VALUE:"1661",DUE_ON_SCHEDULER_VALUE:"1662",DUE_ON_QUERY_VALUE:"1663",NAME_HIDDEN:"1665",USE_LANDMARK:"1669",LANDMARK_TYPE:"1670",META_TAG_NAME:"1672",META_TAG_VALUE:"1673",SIMPLE_SOURCE_QUERY_TYPE:"1718",PARENT_PROCESS:"1759",PAGE_ITEM_DATA_TYPE:"1757",REGION_COLUMN_SESSION_STATE_DATA_TYPE:"1758",WEB_SRC_PARAM_DATA_TYPE:"1768",WF_IDENTIFICATION_STATIC_ID:"2000",WORKFLOW_VALUE_TYPE:"2001",WORKFLOW_PARAM:"2002",WORKFLOW_DATA_TYPE:"2003",STATE:"2004",WORKFLOW_PARTICIPANT_TYPE:"2005",FROM_WORKFLOW_ACTIVITY:"2006",TO_WORKFLOW_ACTIVITY:"2007",TRANSITION_TYPE:"2008",WORKFLOW_VERSION:"2009",SWITCH_TYPE:"2010",WHEN:"2011",OPERATOR:"2012",COMPARE_VALUE:"2013",DIAGRAM:"2015",PARAMETER_VALUE_TYPE:"2021",WF_SOURCE_QUERY_TYPE:"2024",WF_SOURCE_QUERY_OWNER:"2025",WF_SOURCE_QUERY_TABLE:"2026",WF_SOURCE_SQL_QUERY:"2027",PARAMETER_DEFAULT_VALUE:"2202",VALUE_PARENT_COLUMN:"2381",MULTI_VALUE_SEPARATOR_OPTIONAL:"2361",MULTI_VALUE_SEPARATOR_ALWAYS:"2362",MULTI_VALUE_TYPE_OPTIONAL:"2363",PAGE_SUBSCRIBED_FROM:"2392",HIDDEN_SOURCE_LOCATION:"2421",READ_ONLY_TYPE:"5050",COMPUTATION_EXPRESSION_LANG:"5200",COMPUTATION_SQL_EXPRESSION_VARCHAR2:"5201",COMPUTATION_PLSQL_EXPRESSION_VARCHAR2:"5202",COMPUTATION_JS_EXPRESSION_VARCHAR2:"5203",COMPUTATION_JAVA_EXPRESSION_VARCHAR2:"5204",COMPUTATION_PYTHON_EXPRESSION_VARCHAR2:"5205",COMPUTATION_FUNC_BODY_LANG:"5220",COMPUTATION_PLSQL_FUNC_BODY_VARCHAR2:"5221",COMPUTATION_JS_FUNC_BODY_VARCHAR2:"5222",COMPUTATION_JAVA_FUNC_BODY_VARCHAR2:"5223",COMPUTATION_PYTHON_FUNC_BODY_VARCHAR2:"5224",LOV_FUNC_BODY_LANG:"5320",LOV_PLSQL_FUNC_BODY_SQL:"5321",LOV_JS_FUNC_BODY_SQL:"5322",LOV_JAVA_FUNC_BODY_SQL:"5323",LOV_PYTHON_FUNC_BODY_SQL:"5324",SOURCE_QUERY_FUNC_BODY_LANG:"5360",SOURCE_QUERY_PLSQL_FUNC_BODY_SQL:"5361",SOURCE_QUERY_JS_FUNC_BODY_SQL:"5362",SOURCE_QUERY_JAVA_FUNC_BODY_SQL:"5363",SOURCE_QUERY_PYTHON_FUNC_BODY_SQL:"5364",POST_PROC_FUNC_BODY_LANG:"5380",POST_PROC_PLSQL_FUNC_BODY_SQL:"5381",POST_PROC_JS_FUNC_BODY_SQL:"5382",POST_PROC_JAVA_FUNC_BODY_SQL:"5383",POST_PROC_PYTHON_FUNC_BODY_SQL:"5384",VALIDATION_TYPE:"5400",VAL_SQL_STATEMENT:"5401",VAL_ITEM:"5402",VAL_VALUE:"5403",VAL_REGULAR_EXPRESSION:"5404",VAL_FUNC_BODY_LANG_ERROR:"5405",VAL_PLSQL_FUNC_BODY_ERROR:"5406",VAL_JS_FUNC_BODY_ERROR:"5407",VAL_JAVA_FUNC_BODY_ERROR:"5408",VAL_PYTHON_FUNC_BODY_ERROR:"5409",VAL_PLSQL:"5425",VAL_EXPRESSION_LANG:"5426",VAL_SQL_EXPRESSION_BOOLEAN:"5427",VAL_PLSQL_EXPRESSION_BOOLEAN:"5428",VAL_JS_EXPRESSION_BOOLEAN:"5429",VAL_JAVA_EXPRESSION_BOOLEAN:"5430",VAL_PYTHON_EXPRESSION_BOOLEAN:"5431",VAL_FUNC_BODY_LANG:"5446",VAL_PLSQL_FUNC_BODY_BOOLEAN:"5447",VAL_JS_FUNC_BODY_BOOLEAN:"5448",VAL_JAVA_FUNC_BODY_BOOLEAN:"5449",VAL_PYTHON_FUNC_BODY_BOOLEAN:"5450",REGION_VALIDATION_TYPE:"5500",REGION_VAL_SQL_STATEMENT:"5501",REGION_VAL_COLUMN:"5502",REGION_VAL_VALUE:"5503",REGION_VAL_REGULAR_EXPRESSION:"5504",REGION_VAL_FUNC_BODY_LANG_ERROR:"5505",REGION_VAL_PLSQL_FUNC_BODY_ERROR:"5506",REGION_VAL_JS_FUNC_BODY_ERROR:"5507",REGION_VAL_JAVA_FUNC_BODY_ERROR:"5508",REGION_VAL_PYTHON_FUNC_BODY_ERROR:"5509",REGION_VAL_PLSQL:"5525",REGION_VAL_EXPRESSION_LANG:"5526",REGION_VAL_SQL_EXPRESSION_BOOLEAN:"5527",REGION_VAL_PLSQL_EXPRESSION_BOOLEAN:"5528",REGION_VAL_JS_EXPRESSION_BOOLEAN:"5529",REGION_VAL_JAVA_EXPRESSION_BOOLEAN:"5530",REGION_VAL_PYTHON_EXPRESSION_BOOLEAN:"5531",REGION_VAL_FUNC_BODY_LANG:"5546",REGION_VAL_PLSQL_FUNC_BODY_BOOLEAN:"5547",REGION_VAL_JS_FUNC_BODY_BOOLEAN:"5548",REGION_VAL_JAVA_FUNC_BODY_BOOLEAN:"5549",REGION_VAL_PYTHON_FUNC_BODY_BOOLEAN:"5550",CONDITION_TYPE:"5100",CONDITION_SQL_STATEMENT:"5101",CONDITION_VALUE1:"5102",CONDITION_ITEM1:"5103",CONDITION_LIST:"5104",CONDITION_PREFERENCE:"5105",CONDITION_PAGE:"5106",CONDITION_PAGES:"5107",CONDITION_TEXT:"5108",CONDITION_VALUE2:"5109",CONDITION_ITEM2:"5110",CONDITION_TEXT2:"5111",CONDITION_EXPRESSION_LANG:"5112",CONDITION_SQL_EXPRESSION_BOOLEAN:"5113",CONDITION_PLSQL_EXPRESSION_BOOLEAN:"5114",CONDITION_JS_EXPRESSION_BOOLEAN:"5115",CONDITION_JAVA_EXPRESSION_BOOLEAN:"5116",CONDITION_PYTHON_EXPRESSION_BOOLEAN:"5117",CONDITION_FUNC_BODY_LANG:"5132",CONDITION_PLSQL_FUNC_BODY_BOOLEAN:"5133",CONDITION_JS_FUNC_BODY_BOOLEAN:"5134",CONDITION_JAVA_FUNC_BODY_BOOLEAN:"5135",CONDITION_PYTHON_FUNC_BODY_BOOLEAN:"5136",SOURCE_SNIPPET_LANG:"5660",SOURCE_PLSQL_CODE:"5661",SOURCE_JS_CODE:"5662",SOURCE_JAVA_CODE:"5663",SOURCE_PYTHON_CODE:"5664",WF_CONDITION_TYPE:"7000",SOURCE_DUALITY_VIEW:"53520005",SOURCE_DUALITY_VIEW_ARRAY_COL:"53520009",DUALITYVIEW_SOURCE_POST_PROCESSING:"53520012",DUALITYVIEW_POST_PROC_WHERE:"53520013",DUALITYVIEW_POST_PROC_ORDER_BY:"53520014",DUALITYVIEW_POST_PROC_SQL_QUERY:"53520015",DUALITYVIEW_POST_PROC_FUNC_BODY_LANG:"53520100",DUALITYVIEW_POST_PROC_PLSQL_FUNC_BODY_SQL:"53520101",DUALITYVIEW_POST_PROC_JS_FUNC_BODY_SQL:"53520102",DUALITYVIEW_POST_PROC_JAVA_FUNC_BODY_SQL:"53520103",DUALITYVIEW_POST_PROC_PYTHON_FUNC_BODY_SQL:"53520104",SOURCE_JSON_COLLECTION:"53520006",SOURCE_JSON_COLLECTION_ARRAY_COL:"53520010",JSONCOLL_SOURCE_POST_PROCESSING:"53520019",JSONCOLL_POST_PROC_WHERE:"53520020",JSONCOLL_POST_PROC_ORDER_BY:"53520021",JSONCOLL_POST_PROC_SQL_QUERY:"53520022",JSONCOLL_POST_PROC_FUNC_BODY_LANG:"53520120",JSONCOLL_POST_PROC_PLSQL_FUNC_BODY_SQL:"53520121",JSONCOLL_POST_PROC_JS_FUNC_BODY_SQL:"53520122",JSONCOLL_POST_PROC_JAVA_FUNC_BODY_SQL:"53520123",JSONCOLL_POST_PROC_PYTHON_FUNC_BODY_SQL:"53520124",FORM_FETCH_TABLE_NAME:"361800327927635543",FORM_PROCESS_TABLE_NAME:"723641536018615468"},s=[E.POST_PROC_SQL_QUERY,E.POST_PROC_PLSQL_FUNC_BODY_SQL,E.POST_PROC_JS_FUNC_BODY_SQL,E.POST_PROC_JAVA_FUNC_BODY_SQL,E.POST_PROC_PYTHON_FUNC_BODY_SQL,E.JSONCOLL_POST_PROC_SQL_QUERY,E.JSONCOLL_POST_PROC_PLSQL_FUNC_BODY_SQL,E.JSONCOLL_POST_PROC_JS_FUNC_BODY_SQL,E.JSONCOLL_POST_PROC_JAVA_FUNC_BODY_SQL,E.JSONCOLL_POST_PROC_PYTHON_FUNC_BODY_SQL,E.DUALITYVIEW_POST_PROC_SQL_QUERY,E.DUALITYVIEW_POST_PROC_PLSQL_FUNC_BODY_SQL,E.DUALITYVIEW_POST_PROC_JS_FUNC_BODY_SQL,E.DUALITYVIEW_POST_PROC_JAVA_FUNC_BODY_SQL,E.DUALITYVIEW_POST_PROC_PYTHON_FUNC_BODY_SQL,E.SOURCE_QUERY_TABLE,E.SOURCE_GRAPH_COLUMNS_CLAUSE,E.SOURCE_SQL_QUERY,E.SOURCE_WEB_SRC_QUERY,E.SOURCE_DUALITY_VIEW,E.SOURCE_JSON_COLLECTION,E.SOURCE_QUERY_PLSQL_FUNC_BODY_SQL,E.SOURCE_QUERY_JS_FUNC_BODY_SQL,E.SOURCE_QUERY_JAVA_FUNC_BODY_SQL,E.SOURCE_QUERY_PYTHON_FUNC_BODY_SQL,E.REGION_SQL,E.REGION_FUNCTION_RETURNING_SQL],p=[E.SOURCE_QUERY_PLSQL_FUNC_BODY_SQL,E.SOURCE_QUERY_JS_FUNC_BODY_SQL,E.SOURCE_QUERY_JAVA_FUNC_BODY_SQL,E.SOURCE_QUERY_PYTHON_FUNC_BODY_SQL,E.POST_PROC_PLSQL_FUNC_BODY_SQL,E.POST_PROC_JS_FUNC_BODY_SQL,E.POST_PROC_JAVA_FUNC_BODY_SQL,E.POST_PROC_PYTHON_FUNC_BODY_SQL,E.JSONCOLL_POST_PROC_PLSQL_FUNC_BODY_SQL,E.JSONCOLL_POST_PROC_JS_FUNC_BODY_SQL,E.JSONCOLL_POST_PROC_JAVA_FUNC_BODY_SQL,E.JSONCOLL_POST_PROC_PYTHON_FUNC_BODY_SQL,E.DUALITYVIEW_POST_PROC_SQL_QUERY,E.DUALITYVIEW_POST_PROC_PLSQL_FUNC_BODY_SQL,E.DUALITYVIEW_POST_PROC_JS_FUNC_BODY_SQL,E.DUALITYVIEW_POST_PROC_JAVA_FUNC_BODY_SQL],O=[E.SOURCE_QUERY_PLSQL_FUNC_BODY_SQL,E.SOURCE_QUERY_JS_FUNC_BODY_SQL,E.SOURCE_QUERY_JAVA_FUNC_BODY_SQL,E.SOURCE_QUERY_PYTHON_FUNC_BODY_SQL],T=[E.SOURCE_PLSQL_CODE,E.SOURCE_JS_CODE,E.SOURCE_JAVA_CODE,E.SOURCE_PYTHON_CODE,E.PLSQL_CODE],a=[o.CLASSIC_CALENDAR,o.IR_ATTRIBUTES,o.IR_PRINT_ATTR,o.IG_ATTRIBUTES,o.IG_PRINT,o.JET_CHART,o.CLASSIC_REPORT,o.CLASSIC_RPT_PRINT,o.TABULAR_FORM,o.REGION_PLUGIN_ATTR],l=[o.IG_COLUMN,o.FACET,o.FACET_GROUP_ITEM,o.SFILTER,o.SFILTER_GROUP_ITEM],I=[o.WORKFLOW_ACTIVITY],A={CREATE:"create",CHANGE:"change",DELETE:"delete",ERRORS:"errors",NO_ERRORS:"no_errors",WARNINGS:"warnings",NO_WARNINGS:"no_warnings",ADD_PROP:"add_property",REMOVE_PROP:"remove_property",META_DATA:"meta_data",GRID:"grid",DISPLAY_TITLE:"display_title",VALIDATE_COMPONENT:"validate_component"},R={CREATED:"created",CHANGED:"changed",REMOVED:"removed",VALIDATE:"validate",VALIDATE_COMPONENT:"component_validated",PARENT_UPDATE:"parent_updated",INIT:"init"},N={CREATED:"c",UPDATED:"u",DELETED:"d",UNCHANGED:""},C={COMPONENT:"COMPONENT",COMBOBOX:"COMBOBOX",COLOR:"COLOR",CHECKBOXES:"CHECKBOXES",CSS:"CSS",JAVASCRIPT:"JAVASCRIPT",HTML:"HTML",ICON:"ICON",INTEGER:"INTEGER",LINK:"LINK",NUMBER:"NUMBER",ITEM:"ITEM",FACET:"FACET",PAGE:"PAGE",PLSQL:"PLSQL",PLSQL_EXPR_VARCHAR:"PLSQL EXPRESSION VARCHAR2",PLSQL_EXPR_BOOLEAN:"PLSQL EXPRESSION BOOLEAN",PLSQL_EXPR_CUSTOM:"PLSQL EXPRESSION CUSTOM",PLSQL_FUNC_VARCHAR:"PLSQL FUNCTION BODY VARCHAR2",PLSQL_FUNC_CLOB:"PLSQL FUNCTION BODY CLOB",PLSQL_FUNC_BOOLEAN:"PLSQL FUNCTION BODY BOOLEAN",PLSQL_FUNC_CUSTOM:"PLSQL FUNCTION BODY CUSTOM",PLSQL_FUNC_SQL:"PLSQL FUNCTION BODY SQL",CODE_LANGUAGE:"CODE LANGUAGE",MLE_JS:"MLE JAVASCRIPT",MLE_JS_EXPR_VARCHAR:"MLE JAVASCRIPT EXPRESSION VARCHAR2",MLE_JS_EXPR_BOOLEAN:"MLE JAVASCRIPT EXPRESSION BOOLEAN",MLE_JS_EXPR_CUSTOM:"MLE JAVASCRIPT EXPRESSION CUSTOM",MLE_JS_FUNC_VARCHAR:"MLE JAVASCRIPT FUNCTION BODY VARCHAR2",MLE_JS_FUNC_CLOB:"MLE JAVASCRIPT FUNCTION BODY CLOB",MLE_JS_FUNC_BOOLEAN:"MLE JAVASCRIPT FUNCTION BODY BOOLEAN",MLE_JS_FUNC_CUSTOM:"MLE JAVASCRIPT FUNCTION BODY CUSTOM",MLE_JS_FUNC_SQL:"MLE JAVASCRIPT FUNCTION BODY SQL",SELECT_LIST:"SELECT LIST",SQL:"SQL",SQL_EXPR:"SQL EXPRESSION",SQL_EXPR_BOOLEAN:"SQL EXPRESSION BOOLEAN",SQL_EXPR_CUSTOM:"SQL EXPRESSION CUSTOM",SUBSCRIPTION:"SUBSCRIPTION",TEXT:"TEXT",TEXTAREA:"TEXTAREA",TEXT_EDITOR:"TEXT EDITOR",FILE_URLS_JAVASCRIPT:"FILE URLS JAVASCRIPT",FILE_URLS_CSS:"FILE URLS CSS",SUPPORTED_UI:"SUPPORTED UI",YES_NO:"YES NO",PILL_BUTTONS:"PILL BUTTONS",OWNER:"OWNER",TABLE:"TABLE",COLUMN:"COLUMN",REGION_COLUMN:"REGION COLUMN",WHERE_CLAUSE:"WHERE CLAUSE",ORDER_BY_CLAUSE:"ORDER BY CLAUSE",ORDER_BY_ITEM:"ORDER BY ITEM",REST_SOURCE_ID:"REST SOURCE ID",REST_OPERATION_ID:"REST OPERATION ID",TEMPLATE_OPTIONS:"TEMPLATE OPTIONS",PLACEHOLDER_JSON:"PLACEHOLDER JSON",PLSQL_PACKAGE:"PLSQL PACKAGE",PLSQL_METHOD:"PLSQL METHOD",GRAPH:"GRAPH",MEDIA:"MEDIA",SESSION_STATE_VALUE:"SESSION STATE VALUE",WORKFLOW_ITEM:"WORKFLOW ITEM",SWITCH_BUTTON:"SWITCH BUTTON"},L=[C.SQL,C.PLSQL_FUNC_SQL,C.MLE_JS_FUNC_SQL],u=[C.SQL_EXPR_CUSTOM,C.PLSQL_EXPR_CUSTOM,C.PLSQL_FUNC_CUSTOM,C.MLE_JS_EXPR_CUSTOM,C.MLE_JS_FUNC_CUSTOM],P={CHANGE:"CHANGE_ATTRIBUTE",CREATE:"CREATE",DELETE:"DELETE",DUPLICATE:"DUPLICATE",MOVE:"MOVE"},S={WEB_SOURCE:"WEB_SOURCE",DUALITY_VIEW:"DUALITY_VIEW",JSON_COLLECTION:"JSON_COLLECTION"},d={NATIVE:"NATIVE",APPLICATION:"APPLICATION",THEME:"THEME"},c={};c[E.SOURCE_LOCATION]="SOURCE_LOCATION",c[E.SOURCE_QUERY_TABLE]="SOURCE_LOCATION",c[E.SOURCE_GRAPH_NAME]="SOURCE_LOCATION",c[E.SOURCE_SQL_QUERY]="SOURCE_LOCATION",c[E.SOURCE_QUERY_PLSQL_FUNC_BODY_SQL]="SOURCE_LOCATION",c[E.SOURCE_QUERY_JS_FUNC_BODY_SQL]="SOURCE_LOCATION",c[E.SOURCE_QUERY_JAVA_FUNC_BODY_SQL]="SOURCE_LOCATION",c[E.SOURCE_QUERY_PYTHON_FUNC_BODY_SQL]="SOURCE_LOCATION",c[E.SOURCE_WEB_SRC_QUERY]="SOURCE_LOCATION",c[E.SOURCE_DUALITY_VIEW]="SOURCE_LOCATION",c[E.SOURCE_JSON_COLLECTION]="SOURCE_LOCATION",c[E.POST_PROC_SQL_QUERY]="SOURCE_LOCATION",c[E.POST_PROC_PLSQL_FUNC_BODY_SQL]="SOURCE_LOCATION",c[E.POST_PROC_JS_FUNC_BODY_SQL]="SOURCE_LOCATION",c[E.POST_PROC_JAVA_FUNC_BODY_SQL]="SOURCE_LOCATION",c[E.POST_PROC_PYTHON_FUNC_BODY_SQL]="SOURCE_LOCATION",c[E.DUALITYVIEW_POST_PROC_SQL_QUERY]="SOURCE_LOCATION",c[E.DUALITYVIEW_POST_PROC_PLSQL_FUNC_BODY_SQL]="SOURCE_LOCATION",c[E.DUALITYVIEW_POST_PROC_JS_FUNC_BODY_SQL]="SOURCE_LOCATION",c[E.DUALITYVIEW_POST_PROC_JAVA_FUNC_BODY_SQL]="SOURCE_LOCATION",c[E.DUALITYVIEW_POST_PROC_PYTHON_FUNC_BODY_SQL]="SOURCE_LOCATION",c[E.JSONCOLL_POST_PROC_SQL_QUERY]="SOURCE_LOCATION",c[E.JSONCOLL_POST_PROC_PLSQL_FUNC_BODY_SQL]="SOURCE_LOCATION",c[E.JSONCOLL_POST_PROC_JS_FUNC_BODY_SQL]="SOURCE_LOCATION",c[E.JSONCOLL_POST_PROC_JAVA_FUNC_BODY_SQL]="SOURCE_LOCATION",c[E.JSONCOLL_POST_PROC_PYTHON_FUNC_BODY_SQL]="SOURCE_LOCATION",c[E.REGION_SQL]="SOURCE_SQL",c[E.PLSQL_CODE]="SOURCE_PLSQL",c[E.REGION_HTML_CODE]="SOURCE_HTML",c[E.REGION_PLUGIN_PLAIN]="SOURCE_PLAIN",c[E.REGION_FUNCTION_RETURNING_SQL]="SOURCE_PLSQL_FUNCTION",c[E.LOV_TYPE]="LOV",c[E.FACET_LOV_TYPE]="LOV",c[E.LOV_SQL]="LOV",c[E.LOV_PLSQL_FUNC_BODY_SQL]="LOV",c[E.LOV_JS_FUNC_BODY_SQL]="LOV",c[E.LOV_JAVA_FUNC_BODY_SQL]="LOV",c[E.LOV_PYTHON_FUNC_BODY_SQL]="LOV",c[E.INIT_JAVASCRIPT_FUNCTION]="INIT_JAVASCRIPT_CODE",c[E.AFFECTED_TYPE]="REQUIRED",c[E.PROCESS_REGION]="REGION_REQUIRED",c[E.PROCESS_DATA_SOURCE_REGION]="REGION_REQUIRED";var U,h,y,D,g,f,m,M,G,V,Y=["NATIVE_SQL_REPORT","NATIVE_MAP_REGION"],B={},v={},F={},H={},Q=[],W={},b={isInternal:!1,isReadOnly:!1},x=!0,J=t.hasOwnProperty,k={C:"CLIENT",S:"SERVER"},w="BLOB_COLUMN",X="URL_COLUMN";function K(e){return!0===y[e]?.isSharedDesignerComponent}function q(e,t,_){return t.p_arg_names=["FB_FLOW_ID"],t.p_arg_values=[M],n.process(e,t,_)}function $(e){var t=[r.getMessage("MODEL."+e)].concat(Array.prototype.slice.call(arguments,1));return r.format.apply(this,t)}function j(e){var t=[r.getMessage("MODEL."+e)].concat(Array.prototype.slice.call(arguments,1));return r.formatNoEscape.apply(this,t)}function Z(e,t,_){return _?j(e,t):t}function z(e,t){for(var _ in e)J(e,_)&&t(_,e[_])}function ee(e,t){for(let _ in t)J(t,_)&&!J(e,_)&&(e[_]=t[_]);for(let t in e)J(e,t)&&void 0===e[t]&&delete e[t]}function te(e){return/^[ABCDEFGHIJKLMNOPQRSTUVWXYZ]+[ABCDEFGHIJKLMNOPQRSTUVWXYZ0-9_$]*$/.test(e)?e:'"'+e+'"'}function _e(t,_,n){function i(e,t,_,r){let n,i,s;if(r)for(let o=0;o<_.length;o++)if(n=_[o],J(r,n))for(let _=0;_<r[n].length;_++)i=r[n][_],s=e.properties[i].dependingOn[0].values,s.includes(t)||s.push(t);e.id!==o.PAGE_ITEM&&e.id!==o.IG_COLUMN||_.includes("FORMAT_MASK_DATE")||_.includes("FORMAT_MASK_NUMBER")||e.properties[E.FORMAT_MASK].dependingOn[0].values.push(t)}function s(e,t,_){let r={id:"0",type:"LINK",features:["LINK_URL","LINK_ATTR"]};e.actionTemplates=e.actionTemplates||{},e.actionTemplates[_.name]=_.actionTemplates;for(let e=0;e<_.actionTemplates.length;e++)i(t,(n=_.actionTemplates[e]).id,n.features,t.properties[E.HIDDEN_TEMPLATE_ID].featuresProperties),B[n.id]=n;var n;e.actionPositions=e.actionPositions||{},e.actionPositions[_.name]=_.actionPositions;for(let e=0;e<_.actionPositions.length;e++)i(t,_.actionPositions[e].id,_.actionPositions[e].features,t.properties[E.ACTION_POSITION].featuresProperties),v[_.actionPositions[e].id]=_.actionPositions[e],"LINK"===_.actionPositions[e].type&&(J(B,r.id)||(B[r.id]=r),i(t,r.id,r.features,t.properties[E.HIDDEN_TEMPLATE_ID].featuresProperties))}function p(t,_,p,O){let T,a,A,R=y[p],N=R.pluginType;if(N.plugins=N.plugins||{},void 0!==t&&N.typePropertyId)for(let u=0;u<t.length;u++)if(!t[u].themeId||t[u].themeId===n){if(A=[d.NATIVE,d.APPLICATION,d.THEME].includes(t[u].category)?"%0":_,N.plugins[t[u].name]={name:t[u].name,title:r.formatNoEscape(A,t[u].title),category:t[u].category,componentTypes:t[u].componentTypes,templateTypes:t[u].templateTypes,attributes:t[u].attributes,features:t[u].features||[],stdAttributes:t[u].stdAttributes||{},hasActions:J(t[u],"actionPositions")&&t[u].actionPositions.length>0,slots:t[u].slots,defaultSlotButton:t[u].defaultSlotButton,defaultSlotItem:t[u].defaultSlotItem,defaultSlotRegion:t[u].defaultSlotRegion,aboutUrl:t[u].aboutUrl,helpText:t[u].helpText||$("HELP.NO_TEXT"),isQuickPick:t[u].isQuickPick,isDeprecated:t[u].isDeprecated,isLegacy:t[u].isLegacy,isRequired:-1!==e.inArray("SOURCE_REQUIRED",t[u].features)||-1!==e.inArray("LOV_REQUIRED",t[u].features)||-1!==e.inArray("REQUIRED",t[u].features)||-1!==e.inArray("REGION_REQUIRED",t[u].features),themeId:t[u].themeId,cloudOnly:t[u].cloudOnly},J(t[u],"attributeGroups")&&Object.assign(U,t[u].attributeGroups),J(t[u],"features")&&i(R,t[u].name,t[u].features,R.properties[R.pluginType.typePropertyId].featuresProperties),p!==o.REGION){for(let e=0;e<t[u].attributes.length;e++)ee(t[u].attributes[e],{scope:"COMPONENT",defaultValue:"",helpText:""}),T=t[u].attributes[e],(p!==o.REGION_COLUMN&&"COMPONENT"===T.scope||p===o.REGION_COLUMN&&"COLUMN"===T.scope||p===o.REGION_PLUGIN_ATTR&&"REPORT"===T.scope||p===o.REGION_PLUGIN_ATTR&&"REPORT_GROUP"===T.scope)&&(l.includes(p)||I.includes(p)||(h[T.id]={id:T.id,name:p+"_"+t[u].name+"_"+(T.staticId||T.mappingNo),prompt:T.prompt,type:T.type,multiValueDelimiter:T.multiValueDelimiter,displayLen:T.displayLen,maxLen:T.maxLen,textCase:T.textCase,unit:T.unit,hasPlSqlCheck:!1,sqlMinColumns:T.sqlMinColumns,sqlMaxColumns:T.sqlMaxColumns,dataTypes:T.dataTypes||{},displayGroupId:T.displayGroupId,lovType:T.lovType,lovComponentTypeId:T.lovComponentTypeId,lovComponentScope:T.lovComponentScope,lovValues:T.lovValues,isSearchable:T.isSearchable,deprecatedValues:T.deprecatedValues,examples:T.examples,helpText:T.helpText,isTranslatable:T.isTranslatable,isCustomPluginAttribute:/^(PLUGIN|TMPL)/.test(t[u].name)},J(T,"componentTypes")&&(h[T.id].componentTypes=T.componentTypes),h[T.id].type===C.YES_NO&&(h[T.id].yesValue="Y",h[T.id].noValue="N")),a=T.referenceScope,C.ITEM===T.type?p===o.IG_COLUMN?a="ROW":p===o.DA_ACTION&&(a="DEPENDS"):/^(TMPL)/.test(t[u].name)&&[C.TEXT,C.TEXTAREA,C.TEXT_EDITOR,C.HTML,C.LINK,C.MEDIA,C.SESSION_STATE_VALUE].includes(T.type)&&(a="DEPENDS"),R.properties[T.id]={propertyId:T.id,displaySeq:N.attributesSeqOffset+T.displaySeq,isRequired:T.isRequired,isReadOnly:!1,isCommon:T.isCommon,nullText:T.nullText,referenceOnDelete:T.referenceOnDelete,referenceScope:a,supportsSubstitution:T.supportsSubstitution,supportsTemplateDirective:T.supportsTemplateDirective,defaultValue:T.defaultValue,accessibilityHelpText:T.accessibilityHelpText,dependingOn:[{id:N.typePropertyId,hasToExist:!0,type:"EQUALS",expression:t[u].name}]},T.parentAttribute&&(R.properties[T.id].parentProperty=T.parentAttribute),/^(TMPL)/.test(t[u].name)&&["REPORT","REPORT_GROUP"].includes(T.scope)&&R.properties[T.id].dependingOn.push({id:E.TEMPLATE_COMPONENT_TYPE,hasToExist:!0,type:"EQUALS",expression:"REPORT"}),/^(TMPL)/.test(t[u].name)&&"REPORT_GROUP"===T.scope&&R.properties[T.id].dependingOn.push({id:E.HIDDEN_COLUMNS_HAVE_GROUPS,hasToExist:!0,type:"EQUALS",expression:"Y"}),T.dependingOn&&R.properties[T.id].dependingOn.push(T.dependingOn));if(/^(TMPL)/.test(t[u].name)&&(p===o.REGION_PLUGIN_ATTR?s(y[o.REGION],y[o.REGION_ACTION],t[u]):p===o.IR_COLUMN&&s(R,y[o.IR_COLUMN_ACTION],t[u])),O)for(var L=0;L<t[u].events.length;L++)g.component.push({r:t[u].events[L].r,d:t[u].events[L].d+" ["+t[u].title+"]"})}p===o.REGION&&t[u].features&&t[u].features.includes("SUPPORTS_EXTERNAL_FILTERING")&&Y.push(t[u].name)}}for(let e in t)J(t,e)&&(p(t[e],_,e,!l.includes(e)&&!I.includes(e)),e===o.REGION&&(p(t[e],_,o.REGION_PLUGIN_ATTR,!1),p(t[e],_,o.REGION_COLUMN,!0)))}function re(){var e,t,_="ORA_WWV_apex.builder.pageDesigner.model.componentIds";return 0===(e=void 0===(e=localStorage[_])?[]:e.split(",")).length&&q("getNewComponentId",{x01:50},{success:function(t){e=t},async:!1}),t=e[0],0===(e=e.slice(1)).length?delete localStorage[_]:localStorage[_]=e.join(","),t}function ne(){return m.themes[m.userInterface.themeId]}function ie(){var e,t,_=F[o.PAGE][G];return e=ne(),t=ae()?e.defaultTemplates.page:"NORMAL"===_.getProperty(E.PAGE_MODE).getValue()?_.getProperty(E.PAGE_TEMPLATE).getValue()||e.defaultTemplates.page:_.getProperty(E.DIALOG_TEMPLATE).getValue()||e.defaultTemplates.dialog,e.templates[o.PAGE_TEMPLATE][t]}function oe(e){if(e.getPropertyValue(E.REGION_TYPE).startsWith("TMPL"))return e.getChilds(o.REGION_PLUGIN_ATTR)[0]?.getPropertyValue(E.TEMPLATE_COMPONENT_TYPE)}function Ee(e){return y[o.REGION].pluginType.plugins[e]}function se(t){var _,r,n,i=t.component.typeId,s=ne().options||[],p=[],O={};if(i===o.PAGE&&[E.PAGE_TEMPLATE,E.DIALOG_TEMPLATE].includes(y[t.component.typeId].properties[t.id].parentProperty.id))n="PAGE",r=ie();else if((_=t.component.getProperty(y[t.component.typeId].properties[t.id].parentProperty.id))&&""!==_.getValue())switch(r=ne().templates[h[_.id].lovComponentTypeId][_.getValue()],h[_.id].lovComponentTypeId){case o.REGION_TEMPLATE:n="REGION";break;case o.REPORT_TEMPLATE:n="REPORT";break;case o.BREADCRUMB_TEMPLATE:n="BREADCRUMB";break;case o.LIST_TEMPLATE:n="LIST";break;case o.FIELD_TEMPLATE:n="FIELD";break;case o.BUTTON_TEMPLATE:n="BUTTON"}if(void 0===r)return{values:[],valuesMap:{},defaultValues:[],presetValues:[],groups:{}};r&&J(r,"options")&&(p=p.concat(r.options));for(let t=0;t<s.length;t++)-1!==e.inArray(n,s[t].types)&&p.push(s[t]);p.unshift({r:"#DEFAULT#",d:$("LOV.TEMPLATE_OPTIONS.DEFAULT"),description:$("LOV.TEMPLATE_OPTIONS.DEFAULT.DESC")});for(let e=0;e<p.length;e++)O[p[e].r]=p[e];return{values:p,valuesMap:O,defaultValues:r.defaultOptions||[],presetValues:r.presetOptions||[],groups:ne().optionGroups||[]}}function pe(e){let t=e;for(;t&&t.typeId!==o.WORKFLOW_VERSION;)t=t.getParent();return t}function Oe(t,_){return("ROWID"!==t||-1!==e.inArray(t,_))&&(0===_.length||void 0===t||e.inArray("VARCHAR2",_)>=0&&-1===e.inArray(t,["BLOB","BFILE"])||e.inArray("DATE",_)>=0&&e.inArray(t,["DATE","TIMESTAMP","TIMESTAMP_TZ","TIMESTAMP_LTZ"])>=0||e.inArray(t,_)>=0)}function Te(t,_,r){return!(_.componentTypes&&-1===e.inArray(t.typeId,_.componentTypes)||r.isDeprecated&&_.isDeprecated||r.isLegacy&&_.isLegacy)}function ae(){return G===V.globalPageId}function le(){return["FONTAPEX","FONTAPEX_LATEST"].includes(ne()?.icons?.library)}function Ie(_,n){const i=window.gPreferences.CODE_LANGUAGE||"PLSQL";var s=n;function p(e,t){-1!==s.indexOf(e)&&(s=s.replace(e,t()))}return-1!==s.indexOf("#")?(p("#PAGE_ID#",(function(){return G})),p("#PLEASE_CHANGE#",(function(){return $("PLACEHOLDER.PLEASE_CHANGE")})),p("#PRINT_LINK_TEXT#",(function(){return $("PLACEHOLDER.PRINT_LINK_TEXT")})),p("#DEFAULT_REGION_TEMPLATE#",(function(){return ne().defaultTemplates.region})),p("#DEFAULT_FIELD_TEMPLATE#",(function(){return ne().defaultTemplates.field})),p("#DEFAULT_BUTTON_TEMPLATE#",(function(){return ne().defaultTemplates.button})),p("#DEFAULT_REPORT_TEMPLATE#",(function(){return ne().defaultTemplates.report})),p("#DEFAULT_LIST_TEMPLATE#",(function(){return ne().defaultTemplates.list})),p("#DEFAULT_NAV_LIST_TEMPLATE#",(function(){return V.navList.templateId||""})),p("#DEFAULT_BREADCRUMB_TEMPLATE#",(function(){return ne().defaultTemplates.breadcrumb})),p("#DEFAULT_CALENDAR_TEMPLATE#",(function(){return ne().defaultTemplates.calendar})),p("#DEFAULT_NAV_LIST_POSITION#",(function(){return V.navList.position||""})),p("#CURRENT_COLUMN_NAME#",(function(){var t=_.component.getProperty(E.COLUMN_NAME).getValue();return-1!==e.inArray(_.component.typeId,[o.IR_COLUMN,o.CLASSIC_RPT_COLUMN,o.TAB_FORM_COLUMN])?t:te(t)})),p("#PRESET_TEMPLATE_OPTIONS#",(function(){var e=se(_).presetValues;return e.length>0?":"+e.join(":"):""})),p("#LINK_ICON#",(function(){let e='<img src="#APEX_FILES#app_ui/img/icons/apex-edit-pencil.png" class="apex-edit-pencil" alt="">';if(le()){const _="EDIT",n=t.escapeHTMLAttr(r.getMessage(_));e=`<span role="img" aria-label="${n}" class="fa fa-edit" title="${n}"></span>`}return e}))):h[_.id].type===C.CODE_LANGUAGE&&J(m.codeLanguages,i)&&(s=i),s}function Ae(e){const t=y[e.typeId].displayPropertyIds||[];let _;for(let r=0;r<t.length&&(_=e.getProperty(t[r]),!_);r++);return _}function Re(e,t,_,r){var n,i,o,E,s,p=[];for(let O=0;O<e.length;O++)n=e[O].getProperty(t),i=e[O].getProperty(r),o=e[O].getProperty(_).getValue(),E=n?n.getValue():"",s=i?i.getValue():"",p.push({name:o,r:o,label:E,d:E,dataType:s});return p}function Ne(e,t,_){let r,n,i=[];for(r=0;r<t.length;r++)if(n=e.getProperty(t[r]),n){i=n.getColumns(_);break}return i}function Ce(t,_){var r,n,i,p,O={NATIVE_TABFORM:o.TAB_FORM_COLUMN,NATIVE_SQL_REPORT:o.CLASSIC_RPT_COLUMN,NATIVE_IR:o.IR_COLUMN,NATIVE_IG:o.IG_COLUMN},T=[];return(r=me(o.REGION,{id:t})).length>0&&(i=(n=r[0])._properties[E.REGION_TYPE]._value,J(O,i)?(p="NATIVE_IR"===i?n.getChilds(o.IR_ATTRIBUTES)[0].id:n.id,T=Re(r=me(O[i],{parentId:p}),E.COLUMN_HEADING,E.COLUMN_NAME)):T=-1!==e.inArray("COLUMNS",y[o.REGION].pluginType.plugins[i].features)?Re(r=me(o.REGION_COLUMN,{parentId:n.id}),E.COLUMN_HEADING,E.COLUMN_NAME):i.startsWith("TMPL_")?Re(r=me(o.REGION_TMPL_COLUMN,{parentId:n.id}),E.COLUMN_NAME_UPPER,E.COLUMN_NAME_UPPER,E.DATA_TYPE):Ne(n,s,_)),T}function Le(e,t){var _,r=[];return(_=me(o.REGION,{id:e})).length>0&&(r=Ne(_[0],s,t)),r}function ue(e,t,_,r){let n=y[t].properties[_].checkUniqueness,i={properties:[{id:_,value:""}]};if(!r)return"";if("PARENT"===n)i.parentId=e;else if("PAGE"===n)i.pageId=G;else if("WORKFLOW"===n){let e=pe(this);i.filterFunction=function(){let t=pe(this);return e.id===t.id}}i.properties[0].value=r;for(let e=1;e<1e4;e++){if(_===E.ITEM_NAME&&0===me(o.PAGE_ITEM,i,!1).length&&0===me(o.FACET,i,!1).length&&0===me(o.FACET_GROUP_ITEM,i,!1).length&&0===me(o.SFILTER,i,!1).length&&0===me(o.SFILTER_GROUP_ITEM,i,!1).length||i.filterFunction&&_===E.WF_IDENTIFICATION_STATIC_ID&&0===me(o.WORKFLOW_VARIABLE,i,!1).length&&0===me(o.WORKFLOW_ACT_VAR,i,!1).length||_!==E.ITEM_NAME&&(_!==E.WF_IDENTIFICATION_STATIC_ID||_===E.WF_IDENTIFICATION_STATIC_ID&&!i.filterFunction)&&0===me(t,i,!1).length)return i.properties[0].value;i.properties[0].value=r+"_"+e}throw new Error(`Unable to generate a unique value for property '${h[_].prompt}' (${_})!`)}function Pe(e){let t="";return e.typeId===o.REGION?t=e.getProperty(E.PARENT_REGION).getValue():(e.typeId===o.PAGE_ITEM||e.typeId===o.BUTTON)&&(t=e.getProperty(E.REGION).getValue()),t}function Se(e){const{componentTypeId:t,regionTemplateId:_,supportedItemType:r,supportedRegionType:n}=e;let{componentTypes:i,regionId:s,component:p,regionType:O,templateComponentType:T}=e,a=[];if(s&&!p&&(p=F[o.REGION][s]),p&&!O&&(O=p.getPropertyValue(E.REGION_TYPE)),p&&!T&&(T=oe(p)),p&&!s&&(s=p.id),O||s)a=function({regionId:e,regionType:t,templateComponentType:_,regionTemplateId:r,supportedItemType:n,supportedRegionType:i}){let o=[],E=[],s=[];const p=Ee(t);if(!p)return o;if(p&&Array.isArray(p.slots)&&(s=p.slots,n&&(s=s.filter((e=>!e.supportedItemTypes||e.supportedItemTypes?.includes(n)))),i&&(s=s.filter((e=>!e.supportedRegionTypes||e.supportedRegionTypes?.includes(i)))),"REPORT"===_&&(s=s.filter((e=>e.positionInReport>0)),s.sort(((e,t)=>e.positionInReport-t.positionInReport))),["PARTIAL","REGION_ONLY"].includes(_)&&(s=s.filter((e=>e.positionInPartial>0)),s.sort(((e,t)=>e.positionInPartial-t.positionInPartial))),s=s.map((e=>({...e,origin:"plugin"})))),p.features.includes("REGION_TEMPLATE")){const t=De({regionId:e,regionTemplateId:r});t&&Array.isArray(t.slots)&&(E=t.slots,E=E.map((e=>({...e,origin:"region"}))))}if(E.length>0&&s.length>0){const e=E.findIndex((e=>"BODY"===e.placeholder));-1!==e?(o=E,o.splice(e+1,0,...s)):o=[...s,...E]}else E.length>0?o=E:s.length>0&&(o=s);return o}({regionId:s,regionType:O,templateComponentType:T,regionTemplateId:_,supportedItemType:r,supportedRegionType:n});else{const e=ie();e&&Array.isArray(e.slots)&&(a=e.slots.map((e=>({...e,origin:"page"}))))}return i=Array.isArray(i)?i:[t],i.includes(o.REGION)&&(a=a.filter((e=>e.hasRegionSupport))),i.includes(o.PAGE_ITEM)&&(a=a.filter((e=>e.hasItemSupport))),i.includes(o.BUTTON)&&(a=a.filter((e=>e.hasButtonSupport))),a}function de(e){const{regionId:t,componentTypeId:_}=e;e.componentTypes=Array.isArray(e.componentTypes)?e.componentTypes:[_];const r=Se(e);let n=e.slotPlaceholder;if(!n)if(function(e){return Se(e).some((e=>"plugin"===e.origin))}(e)){let _;t&&!e.component&&(e.component=F[o.REGION][t]);const i=Ee(e.component.getPropertyValue(E.REGION_TYPE));e.componentTypes.includes(o.REGION)&&i?.defaultSlotRegion&&(_=r.find((e=>e.placeholder===i.defaultSlotRegion))),e.componentTypes.includes(o.PAGE_ITEM)&&i?.defaultSlotItem&&(_=r.find((e=>e.placeholder===i.defaultSlotItem))),e.componentTypes.includes(o.BUTTON)&&i?.defaultSlotButton&&(_=r.find((e=>e.placeholder===i.defaultSlotButton))),n=_?_.placeholder:r.filter((e=>"plugin"===e.origin))[0].placeholder}else n=1===e.componentTypes.length&&e.componentTypes.includes(o.REGION)&&t?"SUB_REGIONS":"BODY";if(n){const e=Array.isArray(n)?n:[n],t=r.find((t=>e.includes(t.placeholder)));if(t)return t}return r.sort(((e,t)=>!e.isLegacy&&!e.isDeprecated||t.isLegacy||t.isDeprecated?e.isLegacy||e.isDeprecated||!t.isLegacy&&!t.isDeprecated?0:-1:1)),r[0]}function ce(e,t,_){try{let r=JSON.parse(t||"{}");(r.orderBys&&r.orderBys.length>0&&(!r.itemName||""===r.itemName)||e&&(!r.orderBys||0===r.orderBys.length))&&_.push($("VAL.IS_REQUIRED"))}catch(e){_.push($("VAL.IS_REQUIRED"))}}function Ue(e,t){return{filterFunction:function(){let _,r=this.getProperty(e.id);if(r&&""!==r._value)try{return _=JSON.parse(r._value),_.itemName.toLowerCase()===t.toLowerCase()}catch(e){i.error("Invalid Order By Item JSON",e)}return!1}}}function he(e,t){let _=JSON.parse(e.getValue());_.itemName=t,e.setValue(JSON.stringify(_))}function ye(t){let _=t.propertyId,r=h[_],n=y[t.component.typeId].properties[_],i=_;if(this.component=t.component,i instanceof ye){i=e.extend(!0,{},i);for(let e in i)J(i,e)&&"component"!==e&&(this[e]=i[e]);this.hasChanged=!1,t.isDuplicated&&[E.DOM_STATIC_ID,E.STATIC_ID,E.IDENTIFICATION_STATIC_ID].includes(this.id)&&(y[this.component.typeId].properties[this.id].checkUniqueness||(this._value="",this.hasChanged=!0,this._isRequired&&this.errors.push($("VAL.IS_REQUIRED"))))}else this.id=_,this._isRequired=n.isRequired,this._isReadOnly=n.isReadOnly,L.includes(r.type)&&(this._sqlMinColumns=r.sqlMinColumns,this._sqlMaxColumns=r.sqlMaxColumns),this._setDynamicProperties(),this.hasChanged=!1,this.errors=[],this.warnings=[],this._columns=[],this._parameters=[],this._hasOrderBy=!1,this._wsmHasLocalTableFor=!1,this._wsmHasArrayColumns=!1,this._databaseType=!1,J(t,"server")?"object"===e.type(t.server)?(this._value=t.server.value,this._columns=t.server.columns||[],this._parameters=t.server.parameters||[],this._hasOrderBy=t.server.hasOrderBy,this._databaseType=t.server.databaseType):this._value=t.server:(""===(t.defaultValue||this._defaultValue)?this._value="":this._value=Ie(this,this._defaultValue||t.defaultValue||n.defaultValue),this._columns=t.columns||[],this._parameters=t.parameters||[],this._hasOrderBy=t.hasOrderBy,this._databaseType=t.databaseType,"UPPER"===r.textCase?this._value=this._value.toUpperCase():"LOWER"===r.textCase&&(this._value=this._value.toLowerCase()),this._setDynamicDefaultValue(),this._isRequired&&""===this._value?this.errors.push($("VAL.IS_REQUIRED")):r.type===C.ORDER_BY_ITEM&&ce(this._isRequired,this._value,this.errors))}function De({regionId:e,regionTemplateId:t}){const _=ne().templates[o.REGION_TEMPLATE];if(e){const _=F[o.REGION][e].getProperty(E.REGION_TEMPLATE);_&&(t=_.getValue())}return J(_,t)?_[t]:t&&""!==t?_[""]:void 0}function ge(t){var _,r;if(t.component instanceof ge){r=e.extend(!0,{},t.component);for(let e in r)if(J(r,e))if("_properties"===e){this._properties={};for(let e in r._properties)J(r._properties,e)&&(this._properties[e]=new ye({component:this,propertyId:r._properties[e],isDuplicated:t.isDuplicated}))}else this[e]=r[e];if(t.isDetached)return;(_=y[this.typeId]).isOneToOneRelation?this.id=t.parentId:this.id=re(),this._status=N.CREATED,this.seq=0,this._isReadOnly=!1,this._errors=[]}else if(_=y[t.typeId],this.id="",this.parentId="",this._status=N.UNCHANGED,this.typeId=t.typeId,this.seq=0,this._isReadOnly=!1,this._properties={},this._errors=[],e.isPlainObject(t.component)){this.id=t.component.id,this.parentId=t.component.parentId,this.pageId=t.component.pageId,this._lock=t.component.lock||!1,this.workingCopyPageChanges=t.component.workingCopyPageChanges,this.workingCopyPageLocks=t.component.workingCopyPageLocks;for(let e in t.component.properties)J(t.component.properties,e)&&(this._properties[e]=new ye({component:this,propertyId:e,server:t.component.properties[e]}),e===_.seqPropertyId&&(this.seq=parseInt(t.component.properties[e],10)));for(let e in _.properties)J(_.properties,e)&&!J(this._properties,e)&&(this._properties[e]=new ye({component:this,propertyId:e,server:""}));if(this._cleanProperties(),t.isDetached)return}else{_.isOneToOneRelation?this.id=t.parentId:this.id=re(),this._status=N.CREATED,_.isPageComponent&&(this.pageId=G);for(let e in _.properties)J(_.properties,e)&&(this._properties[e]=new ye({component:this,propertyId:e}));this._cleanProperties()}if(this._status===N.CREATED){_=y[this.typeId],t.parentId?(this.parentId=t.parentId,_.parentPropertyId&&this._properties[_.parentPropertyId]._setValue(this.parentId,{checkReadOnly:!1,keepChildValues:t.component instanceof ge})):_.parentId===o.PAGE?this.parentId=G:_.parentId===o.APPLICATION&&(this.parentId=M);for(let e in this._properties)J(this._properties,e)&&J(_.properties[e],"checkUniqueness")&&(this._properties[e]._value=ue.call(this,this.parentId,this.typeId,e,this._properties[e]._value));this._setGridProperties(),this._setProperties(t.values,{checkReadOnly:!1,ignoreIfNotExists:t.ignorePropertyIfNotExists}),0===this.seq&&_.seqPropertyId&&this._move(t.previousComponent),He(this,Ye.CREATE),J(t,"component")?(this._callPluginCallback({properties:t.values}),this._callComponentTypeCallback({properties:t.values})):(this._callPluginCallback({action:R.CREATED}),this._callComponentTypeCallback({action:R.CREATED}))}F[this.typeId][this.id]=this}function fe(e){function t(t,_){var r=me(t,{properties:[{id:_,value:""}]},!1);for(let t=0;t<r.length;t++)void 0!==e||r[t].isOnGlobalPage()||He(r[t],Ye.CHANGE),r[t]._setGridProperties(e)}t(o.REGION,E.PARENT_REGION),t(o.PAGE_ITEM,E.REGION),t(o.BUTTON,E.REGION)}function me(e,t,_){var r,n,i=y[e].isPageComponent,o=[];for(var E in t=t||{},F[e])if(J(F[e],E)){if((r=F[e][E])._status===N.DELETED)continue;if(J(t,"id")&&void 0!==t.id&&E!==t.id+"")continue;if(J(t,"parentId")&&void 0!==t.parentId&&r.parentId!==t.parentId+"")continue;if(J(t,"pageId")&&void 0!==t.pageId){if(r.pageId!==t.pageId)continue}else if(i&&r.pageId!==G&&(t.excludeGlobalPage||!r.isOnGlobalPage())&&!K(e))continue;if(J(t,"hasChanged")&&void 0!==t.hasChanged&&r.hasChanged()!==t.hasChanged)continue;if(J(t,"hasErrors")&&void 0!==t.hasErrors&&r.hasErrors()!==t.hasErrors)continue;if(J(t,"hasWarnings")&&void 0!==t.hasWarnings&&r.hasWarnings()!==t.hasWarnings)continue;if(t.properties&&t.properties.length>0){n=!1;for(let e=0;e<t.properties.length&&(n=!1,J(r._properties,t.properties[e].id)&&(n=t.properties[e].value instanceof RegExp?!!r._properties[t.properties[e].id]._value.match(t.properties[e].value):r._properties[t.properties[e].id]._value===t.properties[e].value),n);e++);if(!n)continue}if("function"==typeof t.filterFunction&&!t.filterFunction.apply(r))continue;o.push(r)}return!0===_||void 0===_?y[e].seqPropertyId?o.sort((function(e,t){return e.seq===t.seq?String(e.id).padStart(36,"0")>String(t.id).padStart(36,"0")?1:-1:e.seq-t.seq})):o.sort((function(e,t){return e.getDisplayTitle().localeCompare(t.getDisplayTitle())})):"function"==typeof _&&o.sort(_),o}function Me(e,t){var _=[];for(let t=0;t<e.length;t++)_=_.concat(me(e[t].typeId,e[t].filter,!1));return!0===t||void 0===t?_.sort((function(e,t){return y[e.typeId].seqPropertyId&&y[t.typeId].seqPropertyId?e.seq===t.seq?String(e.id).padStart(36,"0")>String(t.id).padStart(36,"0")?1:-1:e.seq-t.seq:e.getDisplayTitle().localeCompare(t.getDisplayTitle())})):"function"==typeof t&&_.sort(t),_}function Ge(t,_){var r,n,i=[];if("application"===t.type){n=me(o.APP_ITEM);for(let e=0;e<n.length;e++)i.push({name:n[e].getProperty(E.ITEM_NAME).getValue()})}else if("page"===t.type){if(t.pageId!==G&&t.pageId!==V.globalPageId)return void(isNaN(t.pageId)?_(i):q("getPageItems",{x01:t.pageId},{success:function(e){for(var t in e)J(e,t)&&i.push({name:t,label:e[t]});i.sort((function(e,t){return e.name.localeCompare(t.name)})),_(i)}}));n=me(o.PAGE_ITEM,{pageId:t.pageId}),i=Re(n,E.ITEM_LABEL,E.ITEM_NAME)}else"facet"===t.type?(n=me(t.component.typeId,{pageId:G,filterFunction:function(){return!t.component||t.component.id!==this.id}}),i=Re(n,E.ITEM_LABEL,E.ITEM_NAME)):"columns"===t.type&&(r=t.component,[o.CARD,o.REGION_PLUGIN_ATTR,o.REGION_COLUMN,o.REGION_ACTION,o.IR_ATTRIBUTES,o.IG_ATTRIBUTES,o.CLASSIC_REPORT,o.CLASSIC_RPT_COLUMN,o.TABULAR_FORM,o.TAB_FORM_COLUMN].includes(r.typeId)?i=Ce(r.parentId):r.typeId===o.CARD_ACTION?i=Ce(r.getParent().parentId,!0):r.typeId===o.REGION_ACTION_MENU_ENTRY||r.typeId===o.IR_COLUMN?i=Ce(r.getParent().parentId):r.typeId===o.IR_COLUMN_ACTION?i=Ce(r.getParent().getParent().parentId):r.typeId===o.IR_COL_ACTION_MENU_ENTRY?i=Ce(r.getParent().getParent().getParent().parentId):r.typeId===o.IG_COLUMN?i=Ce(r.parentId):r.typeId===o.VALIDATION?i=Ce(r.getProperty(E.VALIDATION_REGION).getValue()):r.typeId===o.PAGE_PROCESS?i=Ce(r.getProperty(E.PROCESS_REGION).getValue()):-1!==e.inArray(r.typeId,[o.JET_CHART_SERIES,o.MAP_LAYER])&&(i="REGION_SOURCE"===r._properties[E.CHILD_SOURCE_LOCATION].getValue()?Le(r.getParent().parentId,!0):Ne(r,s,!0)));if(!_)return i;_(i)}function Ve(e,t,_,r){q("getPages",{x01:_?"Y":"N",x02:e.show?e.show:"",x03:e.id?e.id:"",x04:r?"Y":"N"},{success:t})}ye.prototype._setDynamicProperties=function(){var t,_,r=y[this.component.typeId].pluginType;if(r&&J(this.component._properties,r.typePropertyId)&&(t=r.plugins[this.component._properties[r.typePropertyId]._value])){if(this.id===E.REGION_IMAGE_URL&&""!==this.component._properties[E.REGION_TEMPLATE]?._value){const e=De({regionTemplateId:this.component._properties[E.REGION_TEMPLATE]._value});this._isRequired=!!e&&e.hasRegionImageUrl}J(c,this.id)&&(_=c[this.id],-1!==e.inArray(this.id,r.requiredProperties)&&(this.id===E.AFFECTED_TYPE||this.id===E.PROCESS_REGION||this.id===E.PROCESS_DATA_SOURCE_REGION?this._isRequired=-1!==e.inArray(_,t.features):this._isRequired=t.stdAttributes&&J(t.stdAttributes,_)&&t.stdAttributes[_].isRequired),t.stdAttributes&&J(t.stdAttributes,_)&&this.id!==E.LOV_TYPE&&this.id!==E.FACET_LOV_TYPE&&(this._isRequired||t.stdAttributes[_].defaultValue?this._defaultValue=t.stdAttributes[_].defaultValue:this._defaultValue="",this._sqlMinColumns=t.stdAttributes[_].sqlMinColumns,this._sqlMaxColumns=t.stdAttributes[_].sqlMaxColumns,this._examples=t.stdAttributes[_].examples,this._helpText=t.stdAttributes[_].helpText))}},ye.prototype._setDynamicDefaultValue=function(){var t,_=y[this.component.typeId].pluginType;_&&J(this.component._properties,_.typePropertyId)&&(t=_.plugins[this.component._properties[_.typePropertyId]._value])&&this.component.typeId===o.DA_ACTION&&(this.id===E.AFFECTED_TYPE?""!==this._value&&-1===e.inArray(this._value,t.features)&&(this._value=""):this.id===E.FIRE_ON_PAGE_LOAD&&(-1!==e.inArray("ONLOAD",t.features)?this._value="Y":this._value="N")),this.id===E.EXECUTE_CONDITION&&[o.REGION_ACTION,o.REGION_ACTION_MENU_ENTRY].includes(this.component.typeId)&&"COMPONENT"===this.getMetaData().referenceScope&&(this._value="N")},ye.prototype._isVisible=function(){var t,_,r,n,i,o=h[this.id],s=this.component,p=y[s.typeId].properties[this.id];function O(e){const t=De({regionTemplateId:r});if(!t)return!1;switch(e){case E.REGION_IMAGE:return!t.hasRegionImage&&!t.hasRegionImageUrl;case E.REGION_IMAGE_URL:return t.hasRegionImage||t.hasRegionImageUrl;case E.REGION_IMAGE_ALT_TEXT:return t.hasRegionImageAltText;case E.REGION_IMAGE_ATTRIBUTES:return t.hasRegionImageAttributes;case E.USE_LANDMARK:return t.hasRegionLandmarkAttributes;default:return!0}}if(J(o,"deprecatedValues")&&"$NOT_NULL$"!==o.deprecatedValues[0]&&!o.deprecatedValues.includes(this._value)||J(o,"deprecatedValues")&&"$NOT_NULL$"===o.deprecatedValues[0]&&""===this._value||J(o,"minDbVersion")&&o.minDbVersion>m.dbVersion&&""===this._value||o.componentTypes&&o.componentTypes.length>0&&-1===e.inArray(s.typeId,o.componentTypes)||o.isInternal&&!b.isInternal)t=!1;else if(0===p.dependingOn.length)t=!0;else for(i=0;i<p.dependingOn.length;i++){if(_=p.dependingOn[i],J(s._properties,_.id))if(r=s._properties[_.id]._value,"CHECKBOXES"===h[_.id].type)switch(n=""===r?[]:r.split(":"),_.type){case"EQUALS":t=-1!==e.inArray(_.expression,n);break;case"NOT_EQUALS":t=-1===e.inArray(_.expression,n);break;case"NULL":t=0===n.length;break;case"NOT_NULL":t=n.length>0;break;case"IN_LIST":t=!1;for(let r of n)if(t=-1!==e.inArray(""===r?"$NULL$":r,_.values))break;break;case"NOT_IN_LIST":t=n.length>0;for(let r of n)if(!(t=-1===e.inArray(r,_.values)))break}else if("IN_LIST_LIKE"===_.type){t=!1;for(let e of _.values)if(t=0===r.search(e))break}else if("NOT_IN_LIST_LIKE"===_.type){t=!0;for(let e of _.values)if(!(t=-1===r.search(e)))break}else switch(_.type){case"EQUALS":t=r===_.expression;break;case"NOT_EQUALS":t=r!==_.expression;break;case"LIKE":t=0===r.search(_.expression);break;case"NOT_LIKE":t=-1===r.search(_.expression);break;case"NULL":t=""===r;break;case"NOT_NULL":t=_.id===E.REGION_TEMPLATE&&""!==r?O(this.id):""!==r;break;case"IN_LIST":t=-1!==e.inArray(""===r?"$NULL$":r,_.values);break;case"NOT_IN_LIST":t=-1===e.inArray(r,_.values)&&""!==r}else t=!1===_.hasToExist;if(!t)break}return t},ye.prototype.getValue=function(){return this._value},ye.prototype.getDisplayValue=function(){let e=h[this.id],t=y[this.component.typeId],_=t.properties[this.id],r=this._value;if(""!==r){if(e.type===C.YES_NO)return r===e.yesValue?$("LOV.YES"):$("LOV.NO");if(e.type===C.SUPPORTED_UI){if("PLUGINS"===e.lovType){if(J(t.pluginType.plugins,r))return t.pluginType.plugins[r].title}else if("EVENTS"===e.lovType&&J(g.lookupMap,r))return g.lookupMap[r].d}else{if(e.type===C.COMBOBOX)return r;if("COMPONENT"===e.lovType){if(e.lovComponentTypeId===o.BUILD_OPTION||e.lovComponentTypeId===o.AUTHORIZATION){if("MUST_NOT_BE_PUBLIC_USER"===r)return $("LOV.MUST_NOT_BE_PUBLIC_USER");if(/^(!|-)/.test(r)&&(r=r.substr(1),J(F[e.lovComponentTypeId],r)))return j("LOV.NOT_W_ARGUMENT",F[e.lovComponentTypeId][r].getDisplayTitle())}if(J(F[e.lovComponentTypeId],r))return F[e.lovComponentTypeId][r].getDisplayTitle()}else if("STATIC"===e.lovType){if(J(e.lovValuesMap,r))return e.lovValues[e.lovValuesMap[r]].d}else if("PLUGIN_ACTION_TEMPLATES"===e.lovType){if(J(B,r))return B[r].title}else{if("PLUGIN_ACTION_POSITIONS"!==e.lovType){if("SLOTS"===e.lovType){const e=Pe(this.component),t=de({componentTypeId:this.component.typeId,regionId:e,slotPlaceholder:r});return t?.name||j("LOV.UNKNOWN_LOOKUP",r)}if("TEMPLATE_OPTIONS"===e.lovType){let e=se(this).valuesMap,t=r.split(":"),_=[];for(let r=0;r<t.length;r++)J(e,t[r])?_.push(e[t[r]].d):_.push(j("LOV.UNKNOWN_LOOKUP",t[r]));return _.join(", ")}return r}if(J(v,r))return v[r].title}}return j("LOV.UNKNOWN_LOOKUP",r)}return _.nullText?_.nullText:r},ye.prototype.getMetaData=function(){function e(e,_,n,i){let o,E;return!(t.component.typeId!==e||(o=t.component.getProperty(_),!o||""===o.getValue())||(E=t.component.getProperty(i),r.dependingOn.length>0&&r.dependingOn[0].id===n&&(!E||"N"===E.getValue())))}var t=this,_=h[this.id],r=y[this.component.typeId].properties[this.id],n=r.referenceScope,i=this.component.isReadOnly()||this._isReadOnly;if("DEPENDS"===n)if(n="COMPONENT",e(o.VALIDATION,E.VALIDATION_REGION,E.CONDITION_TYPE,E.EXECUTE_CONDITION)||e(o.PAGE_PROCESS,E.PROCESS_REGION,E.CONDITION_TYPE,E.EXECUTE_CONDITION)||e(o.IG_COLUMN,E.READ_ONLY_TYPE,E.READ_ONLY_TYPE,E.EXECUTE_READONLY)||e(o.CARD_ACTION,E.CONDITION_TYPE,E.CONDITION_TYPE,E.EXECUTE_CONDITION)||e(o.REGION_ACTION,E.CONDITION_TYPE,E.CONDITION_TYPE,E.EXECUTE_CONDITION)||e(o.REGION_ACTION_MENU_ENTRY,E.CONDITION_TYPE,E.CONDITION_TYPE,E.EXECUTE_CONDITION)||e(o.IR_COLUMN_ACTION,E.CONDITION_TYPE,E.CONDITION_TYPE,E.EXECUTE_CONDITION)||e(o.IR_COL_ACTION_MENU_ENTRY,E.CONDITION_TYPE,E.CONDITION_TYPE,E.EXECUTE_CONDITION)||e(o.MAP_LAYER,E.CONDITION_TYPE,E.CONDITION_TYPE,E.EXECUTE_CONDITION)||t.component.typeId===o.DA_ACTION&&""!==t.component.getProperty(E.IG_REGION).getValue())n="ROW";else if(t.component.typeId===o.PAGE_PROC_API_PARAM){let e,_=t.component.getParent().getProperty(E.PROCESS_REGION).getValue();""!==_&&(e=me(o.REGION,{id:_},!1)[0],"NATIVE_FORM"!==e.getProperty(E.REGION_TYPE).getValue()&&(n="ROW"))}else if([o.REGION_PLUGIN_ATTR,o.REGION_ACTION,o.REGION_ACTION_MENU_ENTRY].includes(t.component.typeId)){let e=this.component;for(;e&&e.typeId!==o.REGION;)e=e.getParent();e?.getProperty(E.SOURCE_LOCATION)?.getValue()&&(n="ROW")}return this.id===E.PAGE_MODE&&""===ne().defaultTemplates.dialog&&(i=!0),{type:_.type,multiValueDelimiter:_.multiValueDelimiter,prompt:_.prompt,unit:_.unit,displayLen:_.displayLen,maxLen:_.maxLen,textCase:_.textCase,displayGroupId:_.displayGroupId,yesValue:_.yesValue,noValue:_.noValue,isDeprecated:J(_,"deprecatedValues"),lovComponentScope:_.lovComponentScope,lovComponentTypeId:_.lovComponentTypeId,helpText:function(){return t._getHelpText()},displaySeq:r.displaySeq,isCommon:r.isCommon,isUnique:J(r,"checkUniqueness"),referenceScope:n,defaultValue:r.defaultValue,supportsSubstitution:r.supportsSubstitution,supportsTemplateDirective:r.supportsTemplateDirective,customDataType:r.customDataType,isReadOnly:i,isRequired:this._isRequired,isTranslatable:_.isTranslatable||!1,lovValues:function(e,_){return t._getLovValues(e,_)},quickPicks:function(){return t._getQuickPicks(n)},nullText:r.nullText,parentProperty:r.parentProperty,isCustomPluginAttribute:_.isCustomPluginAttribute}},ye.prototype._getLovValues=function(t,_){var n,i,s,p,O,T,a,l,I,A,R,N,L=this,u=h[this.id],P=y[this.component.typeId],S=P.properties[this.id],d={},c=1,U={},M=[],V=[];function B(e,t){for(let _=0;_<e.length;_++)M.push({r:t+e[_].id,d:j("LOV.NOT_W_ARGUMENT",e[_].getDisplayTitle())})}function v(e){var t=[];for(let _=0;_<e.length;_++)t.push({r:e[_].r,d:e[_].d,isQuickPick:e[_].isQuickPick,isSupported:!0,isLegacy:!1});return t}if(u.type===C.SUPPORTED_UI)if("PLUGINS"===u.lovType){let e=[],t=[];const _=r.getMessage("PD.PE.PLUGIN.GROUP.LEGACY"),n=r.getMessage("PD.PE.PLUGIN.GROUP.UNSUPPORTED");z(P.pluginType.plugins,(function(_,r){if(L._value===_||Te(L.component,r,{isDeprecated:!0})){if(r.cloudOnly&&!m.isCloud)return;let n=!0;if([o.REGION,o.PAGE_ITEM].includes(L.component.typeId)){const e=L.component,t=Pe(e),r=e.getPropertyValue(E.SLOT_PLACEHOLDER),i=de({componentTypeId:e.typeId,regionId:t,slotPlaceholder:r});i&&(e.typeId===o.PAGE_ITEM&&i.supportedItemTypes&&(n=i.supportedItemTypes.includes(_)),e.typeId===o.REGION&&i.supportedRegionTypes&&(n=i.supportedRegionTypes.includes(_)))}l={r:_,d:r.title,isSupported:n,isLegacy:r.isLegacy},void 0!==r.category&&n&&!r.isLegacy?(J(U,r.category)||(U[r.category]=M.length,M.push({group:D[r.category],values:[]})),M[U[r.category]].values.push(l)):r.isLegacy?t.push(l):n?M.push(l):e.push(l)}})),e.length>0&&M.push({group:n,values:e}),t.length>0&&M.push({group:_,values:t}),z(U,(function(e,t){M[t].values.sort((function(e,t){return e.d.localeCompare(t.d)}))})),M.sort((function(e,t){let r=J(e,"d")?"d":"group",i=J(t,"d")?"d":"group",o=e[r],E=t[i];const s={};return s[n]=1,s[_]=2,o in s&&E in s?s[o]-s[E]:o in s?1:E in s?-1:o.localeCompare(E)}))}else"EVENTS"===u.lovType&&(M.push({group:$("LOV.BROWSER_EVENTS"),values:v(g.browser)}),M.push({group:$("LOV.APEX_EVENTS"),values:v(g.apex)}),g.component.length>0&&M.push({group:$("LOV.COMPONENT_EVENTS"),values:v(g.component)}),M.push({group:$("LOV.CUSTOM_EVENT"),values:v(g.custom)}));else if(u.type===C.OWNER)M=m.schemas;else{if([C.TABLE,C.GRAPH,C.PLSQL_PACKAGE,C.PLSQL_METHOD].includes(u.type)){let e,r,o,s;return i=(n=me(L.component.typeId,{id:L.component.id},!1))&&n.length>0?n[0]:L.component,[C.TABLE,C.GRAPH,C.PLSQL_PACKAGE].includes(u.type)?e=i._properties[S.parentProperty.id]._value:(s=h[S.parentProperty.id],o=P.properties[S.parentProperty.id],s.type===C.PLSQL_PACKAGE?(e=i._properties[o.parentProperty.id]._value,r=i._properties[o.propertyId]._value):e=i._properties[o.propertyId]._value),void q("getDbObjects",{x01:_.type,x02:e,x03:r,x04:J(i._properties,E.SOURCE_REMOTE_DATABASE)?i._properties[E.SOURCE_REMOTE_DATABASE]._value:""},{success:t})}if([C.COLUMN,C.REGION_COLUMN,C.SESSION_STATE_VALUE].includes(u.type)){if(u.type===C.SESSION_STATE_VALUE&&this.component.typeId===o.REGION_PLUGIN_ATTR&&"COMPONENT"===this.getMetaData()?.referenceScope)return Ge({type:"page",pageId:G}).map((e=>(e.d=e.r,e)));p=this._getAvailableColumns(!0);for(let e=0;e<p.length;e++)Oe(p[e].type,u.dataTypes)?M.push({r:p[e].name,d:p[e].name}):"ROWID"!==p[e].name&&p[e].type&&V.push({r:p[e].name,d:p[e].name+" ("+p[e].type.toLowerCase()+")"});'"'===L._value.substr(0,1)&&M.push({r:L._value,d:$("LOV.ABSOLUTE_COLUMN_NO",L._value.substr(1,1))}),V.length>0&&M.push({group:$("LOV.COLUMN_WRONG_DATA_TYPE"),values:V})}else if(u.type===C.MEDIA)if(this.component.typeId===o.REGION_PLUGIN_ATTR)M=Ce(this.component.getParent().id);else{p=this._getAvailableColumns();for(let e=0;e<p.length;e++)M.push({r:p[e].name,d:p[e].name,dataType:p[e].type})}else if(u.type===C.ITEM)if("COLUMN"===u.lovComponentScope||[o.IG_COLUMN,o.DA_ACTION,o.VALIDATION,o.PAGE_PROCESS,o.PAGE_PROC_API_PARAM,o.IR_COLUMN,o.REGION_ACTION,o.REGION_ACTION_MENU_ENTRY,o.IR_COLUMN_ACTION,o.IR_COL_ACTION_MENU_ENTRY].includes(this.component.typeId))S.parentProperty?I=this.component._properties[S.parentProperty.id]._value:this.component.typeId===o.IG_COLUMN?I=this.component.parentId:this.component.typeId===o.PAGE_PROC_API_PARAM?I=this.component.getParent().getProperty(E.PROCESS_REGION).getValue():this.component.typeId===o.IR_COLUMN?I=this.component.getParent().parentId:this.component.typeId===o.IR_COLUMN_ACTION?I=this.component.getParent().getParent().parentId:this.component.typeId===o.IR_COL_ACTION_MENU_ENTRY?I=this.component.getParent().getParent().getParent().parentId:this.component.typeId===o.REGION_ACTION?I=this.component.parentId:this.component.typeId===o.REGION_ACTION_MENU_ENTRY?I=this.component.getParent().parentId:(this.component.typeId===o.DA_ACTION?A=E.IG_REGION:this.component.typeId===o.VALIDATION?A=E.VALIDATION_REGION:this.component.typeId===o.PAGE_PROCESS&&(A=E.PROCESS_REGION),I=this.component.getProperty(A).getValue()),M=Ce(I);else{if(![o.CARD_ACTION,o.MAP_LAYER].includes(this.component.typeId))return void Ge(_,t);M=Ge({type:"columns",component:L.component})}else if(u.type===C.FACET)M=Ge({type:"facet",component:L.component},t);else{if(u.type===C.PAGE)return void Ve(_,t);if(u.lovType)if("COMPONENT"===u.lovType){if("PARENT"===u.lovComponentScope)d={parentId:L.component.parentId,excludeGlobalPage:!0};else if("REGION"===u.lovComponentScope)this.id===E.FACET_GROUP||this.id===E.SFILTER_GROUP?d={parentId:this.component._properties[E.HIDDEN_PARENT_REGION]._value,excludeGlobalPage:!0}:this.id===E.DEPENDING_ON_FACET_GRP_ITEM||this.id===E.DEPENDING_ON_SFILTER_GRP_ITEM?d.properties=[{id:E.HIDDEN_PARENT_REGION,value:this.component._properties[E.HIDDEN_PARENT_REGION]._value}]:this.id!==E.DEPENDING_ON_FACET&&this.id!==E.DEPENDING_ON_SFILTER||(d={parentId:L.component.parentId,excludeGlobalPage:!0});else if("PAGE"===u.lovComponentScope)d={excludeGlobalPage:!0};else if("PAGE_AND_GLOBAL"===u.lovComponentScope)d={};else if("REST_SOURCE"===u.lovComponentScope)for(let e in this.component._properties)h[e]&&h[e].type===C.REST_SOURCE_ID&&(d={parentId:this.component._properties[e]._value,excludeGlobalPage:!0});else if("THEME"===u.lovComponentScope)d={parentId:ne().id},u.id!==E.PAGE_TEMPLATE&&u.id!==E.DIALOG_TEMPLATE||!S.parentProperty||S.parentProperty.id!==E.PAGE_MODE||(R=["MODAL","NON_MODAL"].includes(L.component._properties[E.PAGE_MODE]._value),N=ne().templates[o.PAGE_TEMPLATE],d.filterFunction=function(){return N[this.id].isDialog===R});else if("WF_VERSION"===u.lovComponentScope){let e=this.component.getParent();e&&(d={parentId:e.parentId})}if(u.id===E.SOURCE_WEB_SRC_ARRAY_COL&&(d={parentId:this.component._properties[E.SOURCE_WEB_SRC_QUERY]._value,excludeGlobalPage:!0}),u.id===E.SOURCE_DUALITY_VIEW_ARRAY_COL&&(d={parentId:this.component._properties[E.SOURCE_DUALITY_VIEW]._value,excludeGlobalPage:!0}),u.id===E.SOURCE_JSON_COLLECTION_ARRAY_COL&&(d={parentId:this.component._properties[E.SOURCE_JSON_COLLECTION]._value,excludeGlobalPage:!0}),u.id===E.PARENT_PROCESS){let e=this;d.filterFunction=function(){let t=this.getProperty(E.PAGE_PROCESS_TYPE).getValue(),_=e.component;return"NATIVE_EXECUTION_CHAIN"===t&&!function e(t,r){let n;if(t.id===r.getProperty(E.PARENT_PROCESS).getValue())return!0;if(n=r.getProperty(E.PARENT_PROCESS),n&&""!==n.getValue()){let t=n.getValue(),r=me(o.PAGE_PROCESS,{id:t})[0];return e(_,r)}}(_,this)}}if(u.id!==E.VALIDATION_REGION&&u.id!==E.PROCESS_REGION||(d.filterFunction=function(){var e=this.getProperty(E.REGION_TYPE).getValue();return"NATIVE_TABFORM"===e||"NATIVE_FORM"===e&&u.id===E.PROCESS_REGION||"NATIVE_IG"===e&&this.getChilds(o.IG_ATTRIBUTES,{properties:[{id:E.IS_EDITABLE,value:"Y"}]}).length>0}),u.id===E.FROM_WORKFLOW_ACTIVITY&&(d.filterFunction=function(){return"NATIVE_WORKFLOW_END"!==this.getProperty(E.PAGE_PROCESS_TYPE).getValue()}),u.id!==E.DATA_SOURCE_REGION&&u.id!==E.PROCESS_DATA_SOURCE_REGION||(d.filterFunction=function(){return"NATIVE_FORM"===this.getProperty(E.REGION_TYPE).getValue()}),u.id===E.MASTER_REGION&&(d.properties=[{id:E.REGION_TYPE,value:"NATIVE_IG"}]),[E.MASTER_COLUMN,E.VALUE_PARENT_COLUMN].includes(u.id)&&(d.parentId=L.component.getParent().getProperty(E.MASTER_REGION).getValue(),d.properties=[{id:E.COLUMN_SOURCE_TYPE,value:"DB_COLUMN"},{id:E.DATA_TYPE,value:new RegExp("(VARCHAR2|NUMBER|DATE|TIMESTAMP)")}]),u.id===E.SOURCE_FILTERED_REGION&&(d.filterFunction=function(){return Y.includes(this.getProperty(E.REGION_TYPE).getValue())&&""!==this.getPropertyValue(E.SOURCE_LOCATION)}),u.id===E.WHEN_IG_REGION&&(d.properties=[{id:E.REGION_TYPE,value:"NATIVE_IG"}],d.filterFunction=function(){return this.getChilds(o.IG_ATTRIBUTES,{properties:[{id:E.IS_EDITABLE,value:"Y"}]}).length>0}),[E.REGION_ACTION_PARENT_MENU,E.IR_COLUMN_ACTION_PARENT_MENU].includes(u.id)&&(d.properties=[{id:E.MENU_ENTRY_TYPE,value:"SUB_MENU"}]),n=me(u.lovComponentTypeId,d,!1),u.lovComponentTypeId===o.REGION)M=function(e){function t(e,_,r){_.sort((function(e,t){return e.d.localeCompare(t.d)}));for(let n=0;n<_.length;n++)L.id===E.PARENT_REGION&&_[n].r===L.component.id||L.id===E.MASTER_REGION&&_[n].r===L.component.id||(e.push({r:_[n].r,d:r+_[n].d}),J(i,_[n].r)&&t(e,i[_[n].r],r+".."))}var _,r,n={},i={"":[]},o=[];for(let t=0;t<e.length;t++)_=e[t].getProperty(E.PARENT_REGION).getValue(),r=e[t].isOnGlobalPage()&&""===_?"global":_,J(i,r)||(i[r]=[]),i[r].push({r:e[t].id,d:e[t].getDisplayTitle()}),n[e[t].id]=!0;for(r in i)J(i,r)&&""!==r&&"global"!==r&&!J(n,r)&&(i[""]=i[""].concat(i[r]));return t(o,i[""],""),J(i,"global")&&t(o,i.global,""),o}(n);else{for(let e=0;e<n.length;e++)n[e].typeId===this.component.typeId&&n[e].id===this.component.id||M.push({r:n[e].id,d:n[e].getDisplayTitle()});M.sort((function(e,t){return e.d.localeCompare(t.d)})),u.lovComponentTypeId===o.BUILD_OPTION?B(n,"-"):u.lovComponentTypeId===o.AUTHORIZATION&&(M.push({r:"MUST_NOT_BE_PUBLIC_USER",d:$("LOV.MUST_NOT_BE_PUBLIC_USER")}),B(n,"!"))}}else if("STATIC"===u.lovType)if(L.id===E.AFFECTED_TYPE){s=P.pluginType.plugins[L.component.getProperty(E.DA_ACTION_TYPE).getValue()].features,"DOM_OBJECT"===L._value&&s.push("DOM_OBJECT");for(let t=0;t<u.lovValues.length;t++)-1!==e.inArray(u.lovValues[t].r,s)&&M.push(u.lovValues[t])}else if(L.id===E.VALUE_TYPE)for(let e=0;e<u.lovValues.length;e++)if("PARENT_COLUMN"!==u.lovValues[e].r)M.push(u.lovValues[e]);else{let t=me(o.REGION,{id:L.component.parentId})[0];t&&t.getProperty(E.MASTER_REGION)&&""!==t.getProperty(E.MASTER_REGION).getValue()&&M.push(u.lovValues[e])}else if(L.id===E.FACET_LOV_TYPE)for(let e=0;e<u.lovValues.length;e++)"DISTINCT"===u.lovValues[e].r&&"NATIVE_RANGE"===L.component.getProperty(E.ITEM_TYPE).getValue()||M.push(u.lovValues[e]);else if(L.id===E.TEMPLATE_COMPONENT_TYPE){const e=L.component.getProperty(E.HIDDEN_REGION_TYPE).getValue(),t=y[o.REGION].pluginType.plugins[e].templateTypes;for(let e=0;e<u.lovValues.length;e++)t.includes(u.lovValues[e].r)&&M.push(u.lovValues[e])}else if(u.type===C.CODE_LANGUAGE)for(let e=0;e<u.lovValues.length;e++)(J(m.codeLanguages,u.lovValues[e].r)||L._value===u.lovValues[e].r)&&M.push(u.lovValues[e]);else if(u.id===E.OPERATOR){let e=["IS_NULL","NOT_NULL","OTHERWISE"];M=L.component.typeId===o.WORKFLOW_TRANS?u.lovValues.filter((t=>!e.includes(t.r))):u.lovValues}else if(u.id===E.TRANSITION_TYPE){M=u.lovValues;let e=L.component.getParent();if(e){let t="NATIVE_WORKFLOW_WAIT"===e.getProperty(E.PAGE_PROCESS_TYPE).getValue(),_=e.getProperty(E.DUE_ON_TYPE);(t||_&&""===_.getValue())&&(M=M.filter((e=>"TIMEOUT"!==e.r)))}}else if(L.id===E.LANDMARK_TYPE){M=JSON.parse(JSON.stringify(u.lovValues));const e=F[o.REGION][L.component.id]?De({regionId:L.component.id}).defaultLandmarkType:null;M.forEach((function(t,_){if(t.r===e){const e={r:t.r,d:r.formatMessage("PD.TEMPLATE_DEFAULT",t.d),helpText:t.helpText};M[_]=e}}))}else for(let e=0;e<u.lovValues.length;e++)u.lovValues[e].isDeprecated&&L._value!==u.lovValues[e].r||u.lovValues[e].isInternal&&!b.isInternal||u.lovValues[e].minDbVersion&&L._value!==u.lovValues[e].r&&!(u.lovValues[e].minDbVersion<=m.dbVersion)||M.push(u.lovValues[e]);else if("PLUGIN_ACTION_TEMPLATES"===u.lovType){let e=L.component._properties[S.parentProperty.id]._value,t=y[P.parentId];for(let _=0;_<t.actionTemplates[e].length;_++)M.push({r:t.actionTemplates[e][_].id,d:t.actionTemplates[e][_].title})}else if("PLUGIN_ACTION_POSITIONS"===u.lovType){let e=L.component._properties[S.parentProperty.id]._value,t=y[P.parentId];for(let _=0;_<t.actionPositions[e].length;_++)M.push({r:t.actionPositions[e][_].id,d:t.actionPositions[e][_].title})}else if("SLOTS"===u.lovType){const e=Pe(this.component),t=Se({componentTypeId:this.component.typeId,regionId:e});let _=[],n=[],i=[],s=[];const p={page:_,region:n,plugin:i,unsupported:s},O=e&&me(o.REGION,{id:e})[0],T=O&&"NATIVE_IR"!==O.getProperty(E.REGION_TYPE).getValue(),a=L.component.typeId===o.PAGE_ITEM?L.component.getPropertyValue(E.ITEM_TYPE):void 0,l=L.component.typeId===o.REGION?L.component.getPropertyValue(E.REGION_TYPE):void 0;for(const e of t){if("RIGHT_OF_IR_SEARCH_BAR"===e.placeholder&&T)continue;let t=!0;if(a&&e.supportedItemTypes&&(t=e.supportedItemTypes.includes(a)),l&&e.supportedRegionTypes&&(t=e.supportedRegionTypes.includes(l)),!e.isDeprecated||L._value===e.placeholder){const _={r:e.placeholder,d:Z("POSTFIX.LEGACY",e.name,e.isLegacy),isDeprecated:e.isDeprecated,isLegacy:e.isLegacy},r=t?e.origin:"unsupported";p[r]?.push(_)}}if(Object.values(p).filter((e=>e.length>0)).length>1||s.length>0){const e={page:"PD.SLOTS.GROUP.PAGE",region:"PD.SLOTS.GROUP.REGION",plugin:"PD.SLOTS.GROUP.PLUGIN",unsupported:"PD.PE.PLUGIN.GROUP.UNSUPPORTED"};Object.entries(p).forEach((([t,_])=>{if(_.length>0){const n=e[t],i=r.getMessage(n);M.push({group:i,values:_})}}))}else M=[...M,..._,...n,...i,...s]}else if("GRID_COLUMNS"===u.lovType){a=L.component._grid.maxColumns,L.id!==E.GRID_COLUMN_SPAN&&L.id!==E.GRID_LABEL_COLUMN_SPAN||((O=parseInt(L.component._properties[E.GRID_COLUMN].getValue(),10))>0&&(a-=O-1),L.id===E.GRID_LABEL_COLUMN_SPAN&&((T=parseInt(L.component._properties[E.GRID_COLUMN_SPAN].getValue(),10))>0&&(a=T),c=0,a-=1));for(let e=c;e<=a;e++)M.push({r:e+"",d:e+""})}else if(-1!==u.lovType.indexOf("FORMAT_MASKS"))"DATE_FORMAT_MASKS"===u.lovType?M=f.dates:"NUMBER_FORMAT_MASKS"===u.lovType?M=f.numbers:"CHART_FORMAT_MASKS"===u.lovType?M=f.chart:(M=f.dates,f.since&&(M=M.concat(f.since)),M=M.concat(f.numbers));else{if("DISTINCT"===u.lovType)return void q("getDistinctValues",{x01:this.component.typeId,x02:this.id},{success:function(e){var _=me(L.component.typeId,{}),r={};function n(e){var t;if(""!==e)if(h[L.id].multiValueDelimiter){t=e.split(h[L.id].multiValueDelimiter);for(let e=0;e<t.length;e++)r[t[e]]=""}else r[e]=""}for(let e=0;e<_.length;e++)J(_[e]._properties,L.id)&&n(_[e]._properties[L.id]._value);for(let t=0;t<e.length;t++)n(e[t]);for(var i in r)J(r,i)&&M.push({d:i,r:i});M.sort((function(e,t){return e.d.localeCompare(t.d)})),t(M)}});"TEMPLATE_OPTIONS"===u.lovType&&(M=se(L).values)}}}if("function"!=typeof t)return M;t(M)},ye.prototype._getQuickPicks=function(t){var _,n,i=this,s=h[this.id],p=y[this.component.typeId],O=p.properties[this.id],T=[];function a(e){var t;e.icon?T.push({r:e.r,d:e.d||e.r,seq:e.seq,icon:e.icon}):e.i?(t=e.isLegacy?'<img src="#APEX_FILES#'+(e.dir||"")+e.i+'.gif" alt="">':'<img src="#APEX_FILES#app_ui/img/icons/'+e.i+'.png" class="'+e.i+'" alt="">',T.push({r:t,d:e.i+(e.isLegacy?".gif":".png"),icon:"icon-"+e.i})):e.columnName?T.push({r:e.substitution.prefix+(e.substitution.enquote?te(e.columnName):e.columnName)+e.substitution.postfix,d:e.columnName}):T.push({r:e.r,d:e.d||e.r,seq:e.seq})}function l(e){for(let t=0;t<e.length;t++)e[t].isQuickPick&&a(e[t])}if(s.type===C.SUPPORTED_UI){if("PLUGINS"===s.lovType){let e,t=!0;[o.REGION,o.PAGE_ITEM].includes(i.component.typeId)&&(e=de({componentTypeId:i.component.typeId,regionId:Pe(i.component),slotPlaceholder:i.component.getPropertyValue(E.SLOT_PLACEHOLDER)})),z(p.pluginType.plugins,(function(_,r){e&&(i.component.typeId===o.PAGE_ITEM&&e.supportedItemTypes&&(t=e.supportedItemTypes.includes(_)),i.component.typeId===o.REGION&&e.supportedRegionTypes&&(t=e.supportedRegionTypes.includes(_))),r.isQuickPick&&Te(i.component,r,{ui:!0,isDeprecated:!0,isLegacy:!0})&&t&&a({r:_,d:r.title})})),T.sort((function(e,t){return e.d.localeCompare(t.d)}))}else if("EVENTS"===s.lovType)l(g.browser),l(g.apex),l(g.component);else if("PLUGIN_ACTION_POSITIONS"===s.lovType){let e=i.component._properties[O.parentProperty.id]._value,t=y[p.parentId];for(let _=0;_<t.actionPositions[e].length;_++)t.actionPositions[e][_].isQuickPick&&a({r:t.actionPositions[e][_].id,d:t.actionPositions[e][_].title})}}else if(s.type===C.CODE_LANGUAGE);else if(s.lovType)if("STATIC"===s.lovType)if(i.id===E.AFFECTED_TYPE);else for(let e=0;e<s.lovValues.length;e++)s.lovValues[e].isQuickPick&&!s.lovValues[e].isDeprecated&&a(s.lovValues[e]);else if("SLOTS"===s.lovType){const e=Pe(this.component),t=Se({componentTypeId:this.component.typeId,regionId:e});for(const e of t)e.isQuickPick&&a({r:e.placeholder,d:e.name})}else s.lovType.indexOf("FORMAT_MASKS");else-1!==e.inArray(p.id,[o.CARD,o.CARD_ACTION,o.MAP_REGION,o.MAP_LAYER,o.IR_ATTRIBUTES,o.IR_COLUMN,o.IR_COLUMN_ACTION,o.IR_COL_ACTION_MENU_ENTRY,o.IG_ATTRIBUTES,o.IG_COLUMN,o.CLASSIC_RPT_COLUMN,o.TAB_FORM_COLUMN,o.VALIDATION,o.PAGE_PROCESS,o.REGION_PLUGIN_ATTR,o.REGION_ACTION,o.REGION_ACTION_MENU_ENTRY,o.REGION_TMPL_COLUMN,o.REGION_COLUMN])&&(n=[o.IR_ATTRIBUTES,o.CLASSIC_RPT_COLUMN,o.TAB_FORM_COLUMN,o.IR_COLUMN,o.IR_COLUMN_ACTION,o.IR_COL_ACTION_MENU_ENTRY].includes(p.id)?{prefix:"#",postfix:"#",enquote:!1}:{prefix:"&",postfix:".",enquote:!0},s.id===E.LINK_TEXT&&a({columnName:i.component.getProperty([E.COLUMN_NAME,E.COLUMN_NAME_UPPER]).getValue(),substitution:n}),s.id===E.LINK_ICON||s.id===E.LINK_TEXT?(le()&&a({r:Ie(this,"#LINK_ICON#"),d:"fa-edit",icon:"icon-edit-app"}),a({i:"apex-edit-pencil"}),a({i:"apex-edit-pencil-alt"}),a({i:"apex-edit-page"}),a({i:"apex-edit-view"})):O.supportsSubstitution&&("ROW"===t||this.component.typeId===o.REGION_PLUGIN_ATTR&&this.component.getProperty(E.TEMPLATE_COMPONENT_TYPE)?.getValue()&&s.isCustomPluginAttribute)&&[C.TEXT,C.TEXTAREA,C.TEXT_EDITOR,C.HTML].includes(s.type)&&((_=Ge("COMPONENT"===t?{type:"page",pageId:G,component:i.component}:{type:"columns",component:i.component})).length?_.forEach((e=>{a({columnName:e.name,substitution:n})})):a({d:r.getMessage("PE.QUICK_PICK_NOT_AVAILABLE"),r:"-"})));return T},ye.prototype._getHelpText=function(){var _,r=this,n=h[this.id],i=y[this.component.typeId],o=i.properties[this.id];function s(_){let n,o="<dl>";n=e.map(i.pluginType.plugins,(function(e,t){if(_.test(t)&&Te(r.component,e,{ui:!0,isDeprecated:!0,isLegacy:!0}))return e})).sort((function(e,t){return e.title.localeCompare(t.title)}));for(let e=0;e<n.length;e++)o+="<dt>"+t.escapeHTML(n[e].title)+"</dt>",o+="<dd>"+n[e].helpText,n[e].aboutUrl&&(o+=" "+$("HELP.ABOUT_PLUGIN",n[e].aboutUrl)),o+="</dd>";return o+="</dl>",o}function p(){var e,_=r.getMetaData().lovValues();e="<p>"+$("HELP.AVAILABLE_OPTIONS")+"</p><dl>",o.nullText&&(e+="<dt>"+o.nullText+"</dt>",o.nullHelpText&&(e+="<dd>"+o.nullHelpText+"</dd>"));for(let r=0;r<_.length;r++)e+="<dt>"+t.escapeHTML(_[r].d)+"</dt>",(_[r].helpText||_[r].isDeprecated)&&(e+="<dd>",_[r].helpText&&(e+=_[r].helpText),_[r].isDeprecated&&(e+="<p><em>"+$("HELP.DEPRECATED.LOV_VALUE","1.1")+"</em></p>"),e+="</dd>");return e+"</dl>"}function O(e){let _=r.component._properties[o.parentProperty.id]._value,n=y[i.parentId],E="<dl>";if(J(n[e],_))for(let r=0;r<n[e][_].length;r++)E+="<dt>"+t.escapeHTML(n[e][_][r].title)+"</dt>",n[e][_][r].helpText&&(E+="<dd>"+n[e][_][r].helpText+"</dd>");return E+="</dl>",E}if(_="<p>"+(this._helpText||o.helpText||n.helpText)+"</p>",i.pluginType&&this.id===i.pluginType.typePropertyId&&(_=_.replace(/#NATIVE_PLUGINS#/,s(/^NATIVE/)).replace(/#CUSTOM_PLUGINS#/,s(/^(PLUGIN|TMPL)/))),n.deprecatedValues&&(_+="<p><em>"+$("HELP.DEPRECATED.ATTRIBUTE","1.1")+"</em></p>"),"STATIC"===n.lovType?/#LOV_VALUES#/.test(_)?_=_.replace(/#LOV_VALUES#/,p()):_+=p():"TEMPLATE_OPTIONS"===n.lovType?_+=function(){function e(e){for(let _=0;_<e.length;_++)i+="<dt>"+t.escapeHTML(e[_].name)+"</dt>",e[_].helpText&&(i+="<dd>"+e[_].helpText+"</dd>")}var _,n,i,o,E=se(r),s=[],p={},O=[];for(o=0;o<E.values.length;o++)E.values[o].groupId?(_=E.values[o].groupId,J(p,_)?n=p[_]:(s.push({title:E.groups[_].title,seq:E.groups[_].seq,helpText:E.groups[_].helpText,lovValues:[]}),n=s.length-1,p[_]=n),s[n].lovValues.push({name:E.values[o].d,helpText:E.values[o].helpText})):O.push({name:E.values[o].d,helpText:E.values[o].helpText});for(s.sort((function(e,t){return e.seq===t.seq?e.title.localeCompare(t.title):e.seq-t.seq})),i="<p>"+$("HELP.AVAILABLE_OPTIONS")+"</p><dl>",e(O),o=0;o<s.length;o++)i+="<dt>"+t.escapeHTML(s[o].title)+"</dt><dd>",s[o].helpText&&(i+="<p>"+s[o].helpText+"</p>"),i+="<dl>",e(s[o].lovValues),i+="</dl></dd>";return i+="</dl>"}():"PLUGIN_ACTION_TEMPLATES"===n.lovType?_+=O("actionTemplates"):"PLUGIN_ACTION_POSITIONS"===n.lovType&&(_+=O("actionPositions")),void 0===this._examples&&void 0===o.examples&&void 0===n.examples||(_+="<h4>"+$("HELP.EXAMPLES")+"</h4><p>"+(this._examples||o.examples||n.examples)+"</p>"),o.accessibilityHelpText&&(_+="<h4>"+$("HELP.ACCESSIBILITY_HELP_TEXT")+' <span class="a-Icon icon-accessibility" aria-hidden="true"></span></h4><p>'+o.accessibilityHelpText+"</p>"),![C.CHECKBOXES,C.LINK,C.COMPONENT,C.SELECT_LIST,C.SUPPORTED_UI,C.CODE_LANGUAGE,C.SUBSCRIPTION,C.YES_NO,C.PILL_BUTTONS,C.OWNER,C.TABLE,C.GRAPH,C.COLUMN,C.REGION_COLUMN,C.REST_OPERATION_ID,C.PLSQL_PACKAGE,C.PLSQL_METHOD,C.TEMPLATE_OPTIONS,C.SESSION_STATE_VALUE,C.SWITCH_BUTTON].includes(n.type)){if(_+="<h4>"+$("HELP.ADDITIONAL_INFO")+"</h4>",_+="<ul><li>"+$("HELP.TYPE")+": ",u.includes(n.type)){let e=o.customDataType;e||(e=r.component.getPropertyValue([E.API_CUSTOM_DATA_TYPE,E.API_DATA_TYPE,E.WEB_SRC_PARAM_DATA_TYPE,E.WORKFLOW_DATA_TYPE])),_+=$("HELP.PROP_TYPE."+n.type,e)}else _+=$("HELP.PROP_TYPE."+n.type);n.multiValueDelimiter&&(_+=" ("+$("HELP.MULTIPLE.TEXT",$("HELP.MULTIPLE."+n.multiValueDelimiter))+")"),_+="</li>","SQL"!==n.type.substr(0,3)&&"MLE"!==n.type.substr(0,3)&&"PLSQL"!==n.type.substr(0,5)&&n.type!==C.WHERE_CLAUSE||(_+="<li>"+$("HELP.BIND_VARIABLES")+": "+$("HELP.REF_SCOPE."+r.getMetaData().referenceScope)+"</li>"),o.supportsSubstitution&&(_+="<li>"+$("HELP.SUBSTITUTIONS")+": "+$("HELP.REF_SCOPE."+r.getMetaData().referenceScope)+"</li>"),o.supportsTemplateDirective&&(_+="<li>"+$("HELP.TEMPLATE_DIRECTIVE_"+k[o.supportsTemplateDirective])+"</li>"),-1!==e.inArray(n.type,L)?(void 0!==this._sqlMinColumns&&(_+="<li>"+$("HELP.MIN_COLUMNS")+": "+this._sqlMinColumns+"</li>"),this._sqlMaxColumns>0&&this._sqlMaxColumns<999&&(_+="<li>"+$("HELP.MAX_COLUMNS")+": "+this._sqlMaxColumns+"</li>")):n.type!==C.INTEGER&&n.type!==C.NUMBER||(void 0!==n.minValue&&(_+="<li>"+$("HELP.MIN_VALUE")+": "+n.minValue+"</li>"),void 0!==n.maxValue&&(_+="<li>"+$("HELP.MAX_VALUE")+": "+n.maxValue+"</li>")),void 0!==n.restrictedChars&&(_+="<li>"+$("HELP.RESTRICTED_CHARS_LABEL")+": "+$("HELP.RESTRICTED_CHARS."+n.restrictedChars)+"</li>"),_+="</ul>"}return _.replace(/#SYSTEM_HELP_URL#/,m.systemHelpUrl)},ye.prototype.getColumns=function(e){var t=[];if(0===this.errors.length&&0===this.warnings.length)if(e)t=this._columns;else for(let e=0;e<this._columns.length;e++)"ROWID"===this._columns[e].name&&0===e||t.push(this._columns[e]);return t},ye.prototype.getParameters=function(){return 0===this.errors.length&&this._parameters.length>0?this._parameters[0]:[]},ye.prototype.wsmHasLocalTableFor=function(e){return 0===this.errors.length&&this._wsmHasLocalTableFor&&(""===e&&0===this._wsmHasLocalTableFor.length||this._wsmHasLocalTableFor.includes(e))},ye.prototype.wsmHasArrayColumns=function(){return 0===this.errors.length&&this._wsmHasArrayColumns},ye.prototype.databaseType=function(){return 0===this.errors.length&&this._databaseType},ye.prototype.hasOrderBy=function(){return 0===this.errors.length&&this._hasOrderBy},ye.prototype._getAvailableColumns=function(e){var t=y[this.component.typeId].properties[this.id],_=h[this.id],r=t.parentProperty,n=this.component,i=[];if(J(t,"parentProperty"))for(;void 0!==n;){if(n.typeId===r.typeId){if(h[r.id].lovComponentTypeId===o.REGION){i=_.type===C.REGION_COLUMN?Ce(this.component._properties[r.id]._value):Le(this.component._properties[r.id]._value,e);break}if(r.id===E.CHILD_SOURCE_LOCATION){i="REGION_SOURCE"===n._properties[r.id].getValue()?Le(this.component.getParent().parentId,e):Ne(n,s,e);break}if(r.id===E.REGION_SQL){i=_.type===C.REGION_COLUMN?Ce(n.id):Le(n.id,e);break}i=n._properties[r.id].getColumns(e);break}n=n.getParent()}return i},ye.prototype._checkColumn=function(e,t){var _=this._getAvailableColumns(!0);for(let r=0;r<_.length;r++)if(_[r].name===e)return Oe(_[r].type,t||h[this.id].dataTypes)?"":$("VAL.COLUMN_HAS_WRONG_DATA_TYPE");return $("VAL.COLUMN_NOT_FOUND")},ye.prototype.validate=function(e){var r,n,i,s,T,a,l,I,A,N,P,d,c,U,D,g,f,m,M,V,Y,B={US_ONLY:/[^a-zA-Z0-9 ]/,US_ONLY_NO_SPACE:/[^a-zA-Z0-9]/,US_ONLY_UNDERSCORE_NO_SPACE:/[^a-zA-Z0-9_]/,DOM_STATIC_ID:/[<>'"\s]/,WEB_SAFE:/[<>"]/,NO_SPECIAL_CHAR:/[&<>"\/;,*|=%]|(--)/,NO_SPECIAL_CHAR_NL:/[&<>"\/;,*|=%\n\r]|(--)/,SAFE_COMPONENT_NAME:/[ :&,.+?^'"\n\r]/,SAFE_COMPONENT_NAME_NO_NUMBER:/[ :&,.+?^'"\n\r]|(^0$|^-?[1-9]\d*(\.\d+)?$)/},v={decimal:_.getDecimalSeparator(),group:_.getGroupSeparator()},F=e,H=this,Q=y[this.component.typeId],W=Q.properties,b=W[this.id],x=h[this.id],J="",k="",K="N",j={errors:[],warnings:[],columns:[],parameters:[],wsmHasLocalTableFor:!1,wsmHasArrayColumns:!1,databaseType:!1,hasOrderBy:!1};function Z(e){e.error&&j.errors.push(e.error),e.warning&&j.warnings.push(e.warning)}if(this._isRequired&&""===F.trim())j.errors.push($("VAL.IS_REQUIRED"));else{let e=F.trim();if(""!==e||this.id===E.SOURCE_LOCATION&&""===e)if(x.restrictedChars&&B[x.restrictedChars].test(F))j.errors.push($("VAL."+x.restrictedChars,x.prompt,F.match(B[x.restrictedChars])[0]));else if((x.type===C.NUMBER||x.type===C.INTEGER)&&b.supportsSubstitution&&/^&((\w+)|("[^\n\r"&]+"))\.$/.test(F));else if(F.length>x.maxLen)j.errors.push($("VAL.VALUE_TOO_LONG",F.length-x.maxLen));else{if(x.type===C.ORDER_BY_ITEM)ce(this._isRequired,F,j.errors);else if(x.type===C.MEDIA)!function(e,t,_){let r=JSON.parse(t||"{}");function n(t,r,n,i){t?e._checkColumn(t,r)===$("VAL.COLUMN_HAS_WRONG_DATA_TYPE")&&_.push($("MEDIA.COLUMN_HAS_WRONG_DATA_TYPE",$("MEDIA."+n))):i&&_.push($("VAL.IS_REQUIRED"))}switch(r.source){case w:n(r.filenameColumn,["VARCHAR2"],"FILENAME_COLUMN"),n(r.mimeTypeColumn,["VARCHAR2"],"MIME_TYPE_COLUMN"),n(r.lastUpdatedColumn,["DATE","TIMESTAMP","TIMESTAMP_TZ","TIMESTAMP_LTZ"],"LAST_UPDATED_COLUMN"),n(r.blobColumn,["BLOB"],"BLOB_COLUMN",!0);break;case X:n(r.urlColumn,["VARCHAR2"],"URL_COLUMN",!0);break;case"URL":!r.url&&e._isRequired&&_.push($("VAL.IS_REQUIRED"));break;default:!r&&e._isRequired&&_.push($("VAL.IS_REQUIRED"))}}(this,F,j.errors);else if(x.type===C.NUMBER||x.type===C.INTEGER)x.type===C.NUMBER?("."!==v.decimal&&(F=(F=F.replace(new RegExp(t.escapeRegExp(v.group),"g"),"!")).replace(new RegExp(t.escapeRegExp(v.decimal),"g"),".")),i=Number(F),T=$("VAL.MUST_BE_NUMERIC")):(i=parseInt(F,10),T=$("VAL.MUST_BE_INTEGER")),isNaN(i)||i!=F?j.errors.push(T):void 0===x.minValue&&void 0===x.maxValue||(i<x.minValue?j.errors.push($("VAL.VALUE_LESS_MIN_VALUE",x.minValue)):i>x.maxValue&&j.errors.push($("VAL.VALUE_GREATER_MAX_VALUE",x.maxValue)));else if(O.includes(H.id)&&H.component.getProperty(E.GENERIC_COLUMN_COUNT)){s=H.component.getProperty(E.GENERIC_COLUMN_COUNT).getValue(),j.columns=[],j.hasOrderBy=!1;for(let e=1;e<=s;e++)j.columns.push({name:"COL"+(e<10?"0":"")+e,type:"VARCHAR2",isRequired:!1,maxLen:4e3})}else if([C.TABLE,C.GRAPH,C.WHERE_CLAUSE,C.ORDER_BY_CLAUSE,C.SQL,C.SQL_EXPR,C.SQL_EXPR_BOOLEAN,C.SQL_EXPR_CUSTOM,C.PLSQL,C.PLSQL_EXPR_VARCHAR,C.PLSQL_EXPR_BOOLEAN,C.PLSQL_EXPR_CUSTOM,C.PLSQL_FUNC_VARCHAR,C.PLSQL_FUNC_CLOB,C.PLSQL_FUNC_BOOLEAN,C.PLSQL_FUNC_CUSTOM,C.PLSQL_FUNC_SQL,C.PLSQL_PACKAGE,C.PLSQL_METHOD,C.MLE_JS_FUNC_SQL].includes(x.type)||this.id===E.SOURCE_WEB_SRC_QUERY||this.id===E.SOURCE_DUALITY_VIEW||this.id===E.SOURCE_JSON_COLLECTION||this.id===E.SOURCE_GRAPH_MATCH_CLAUSE||this.id===E.SOURCE_GRAPH_COLUMNS_CLAUSE||x.hasPlSqlCheck||x.type===C.HTML&&F.includes("{")&&b.supportsTemplateDirective){if([C.TABLE,C.GRAPH].includes(x.type)&&(P=this.component._properties[b.parentProperty.id]._value),[E.SOURCE_SQL_QUERY,E.SOURCE_QUERY_TABLE,E.SOURCE_QUERY_WHERE,E.SOURCE_QUERY_STATIC_ORDER_BY,E.SOURCE_QUERY_ORDER_BY].includes(H.id)||O.includes(H.id))A=this.component.getPropertyValue([E.SOURCE_LOCATION,E.CHILD_SOURCE_LOCATION]),N=this.component.getPropertyValue(E.SOURCE_QUERY_TYPE),M=this.component.getPropertyValue(E.SOURCE_REMOTE_DATABASE),d=this.component.getPropertyValue([E.SOURCE_QUERY_TABLE,E.SOURCE_GRAPH_NAME]),c=this.component.getPropertyValue(E.SOURCE_SQL_QUERY),U=this.component.getPropertyValue(O),N&&(K=this.component.getPropertyValue(E.SOURCE_INCLUDE_ROWID_COLUMN)),m=this.component.getPropertyValue(E.OPTIMIZER_HINT);else if([E.SOURCE_GRAPH_NAME,E.SOURCE_GRAPH_MATCH_CLAUSE,E.SOURCE_GRAPH_WHERE_CLAUSE,E.SOURCE_GRAPH_COLUMNS_CLAUSE,E.SOURCE_GRAPH_STATIC_ORDER_BY,E.SOURCE_GRAPH_ORDER_BY].includes(H.id)){if(A=this.component.getPropertyValue([E.SOURCE_LOCATION,E.CHILD_SOURCE_LOCATION]),N="GRAPH",M=this.component.getPropertyValue(E.SOURCE_REMOTE_DATABASE),P=this.component.getPropertyValue(E.SOURCE_GRAPH_OWNER),d=this.component.getPropertyValue(E.SOURCE_GRAPH_NAME),g=this.component.getPropertyValue(E.SOURCE_GRAPH_MATCH_CLAUSE),f=this.component.getPropertyValue(E.SOURCE_GRAPH_COLUMNS_CLAUSE),m=this.component.getPropertyValue(E.OPTIMIZER_HINT),""===d&&H.id!==E.SOURCE_GRAPH_NAME||""===g&&H.id!==E.SOURCE_GRAPH_MATCH_CLAUSE||""===f&&H.id!==E.SOURCE_GRAPH_COLUMNS_CLAUSE)return j}else if(H.id===E.SOURCE_WEB_SRC_QUERY)A=this.component.getPropertyValue([E.SOURCE_LOCATION,E.CHILD_SOURCE_LOCATION]),J=this.component.getPropertyValue(E.SOURCE_WEB_SRC_QUERY),k=this.component.getPropertyValue(E.SOURCE_WEB_SRC_ARRAY_COL);else if(H.id===E.SOURCE_DUALITY_VIEW)A=this.component.getPropertyValue([E.SOURCE_LOCATION,E.CHILD_SOURCE_LOCATION]),J=this.component.getPropertyValue(E.SOURCE_DUALITY_VIEW),k=this.component.getPropertyValue(E.SOURCE_DUALITY_VIEW_ARRAY_COL);else if(H.id===E.SOURCE_JSON_COLLECTION)A=this.component.getPropertyValue([E.SOURCE_LOCATION,E.CHILD_SOURCE_LOCATION]),J=this.component.getPropertyValue(E.SOURCE_JSON_COLLECTION),k=this.component.getPropertyValue(E.SOURCE_JSON_COLLECTION_ARRAY_COL);else if([E.POST_PROC_WHERE,E.POST_PROC_ORDER_BY,E.POST_PROC_SQL_QUERY,E.POST_PROC_PLSQL_FUNC_BODY_SQL,E.POST_PROC_JS_FUNC_BODY_SQL,E.POST_PROC_JAVA_FUNC_BODY_SQL,E.POST_PROC_PYTHON_FUNC_BODY_SQL,E.DUALITYVIEW_POST_PROC_WHERE,E.DUALITYVIEW_POST_PROC_ORDER_BY,E.DUALITYVIEW_POST_PROC_SQL_QUERY,E.DUALITYVIEW_POST_PROC_PLSQL_FUNC_BODY_SQL,E.DUALITYVIEW_POST_PROC_JS_FUNC_BODY_SQL,E.DUALITYVIEW_POST_PROC_JAVA_FUNC_BODY_SQL,E.DUALITYVIEW_POST_PROC_PYTHON_FUNC_BODY_SQL,E.JSONCOLL_POST_PROC_WHERE,E.JSONCOLL_POST_PROC_ORDER_BY,E.JSONCOLL_POST_PROC_SQL_QUERY,E.JSONCOLL_POST_PROC_PLSQL_FUNC_BODY_SQL,E.JSONCOLL_POST_PROC_JS_FUNC_BODY_SQL,E.JSONCOLL_POST_PROC_JAVA_FUNC_BODY_SQL].includes(this.id))(A=this.component.getPropertyValue([E.SOURCE_LOCATION,E.CHILD_SOURCE_LOCATION]))===S.WEB_SOURCE?(J=this.component.getPropertyValue(E.SOURCE_WEB_SRC_QUERY),k=this.component.getPropertyValue(E.SOURCE_WEB_SRC_ARRAY_COL)):A===S.DUALITY_VIEW?(J=this.component.getPropertyValue(E.SOURCE_DUALITY_VIEW),k=this.component.getPropertyValue(E.SOURCE_DUALITY_VIEW_ARRAY_COL)):A===S.JSON_COLLECTION&&(J=this.component.getPropertyValue(E.SOURCE_JSON_COLLECTION),k=this.component.getPropertyValue(E.SOURCE_JSON_COLLECTION_ARRAY_COL)),N="",d="",c="",U="";else if(x.type===C.WHERE_CLAUSE)N="TABLE",P=this.component._properties[W[b.parentProperty.id].parentProperty.id]._value,d=this.component._properties[b.parentProperty.id]._value,K="Y";else if(x.type===C.ORDER_BY_CLAUSE)N="TABLE",P=this.component._properties[W[b.parentProperty.id].parentProperty.id]._value,d=this.component._properties[b.parentProperty.id]._value,K="Y";else if(this.id===E.PLSQL_CODE)A=this.component.getPropertyValue(E.PLSQL_PROCESS_LOCATION),M=this.component.getPropertyValue(E.PLSQL_REMOTE_DATABASE);else if(x.type===C.PLSQL_PACKAGE)P=this.component._properties[b.parentProperty.id]._value;else if(x.type===C.PLSQL_METHOD)r=h[b.parentProperty.id],n=Q.properties[b.parentProperty.id],r.type===C.PLSQL_PACKAGE?(P=this.component._properties[n.parentProperty.id]._value,V=this.component._properties[n.propertyId]._value):P=this.component._properties[n.propertyId]._value;else if(u.includes(x.type))Y=b.customDataType?b.customDataType:this.component.getPropertyValue([E.API_CUSTOM_DATA_TYPE,E.API_DATA_TYPE,E.WEB_SRC_PARAM_DATA_TYPE,E.WORKFLOW_DATA_TYPE]);else if(H.id===E.SOURCE_SQL_EXPRESSION&&[o.IG_COLUMN,o.REGION_TMPL_COLUMN].includes(this.component.typeId)){let e=this.component.getParent();A=e.getPropertyValue([E.SOURCE_LOCATION]),N=e.getPropertyValue([E.SOURCE_QUERY_TYPE,E.SOURCE_POST_PROCESSING,E.DUALITYVIEW_SOURCE_POST_PROCESSING,E.JSONCOLL_SOURCE_POST_PROCESSING]),P=e.getPropertyValue([E.SOURCE_QUERY_OWNER,E.SOURCE_GRAPH_OWNER]),d=e.getPropertyValue([E.SOURCE_QUERY_TABLE,E.SOURCE_GRAPH_NAME]),c=e.getPropertyValue([E.SOURCE_SQL_QUERY,E.POST_PROC_SQL_QUERY,E.DUALITYVIEW_POST_PROC_SQL_QUERY,E.JSONCOLL_POST_PROC_SQL_QUERY]),U=e.getPropertyValue(p),D=e.getPropertyValue([E.SOURCE_QUERY_FUNC_BODY_LANG,E.POST_PROC_FUNC_BODY_LANG,E.DUALITYVIEW_POST_PROC_FUNC_BODY_LANG,E.JSONCOLL_POST_PROC_FUNC_BODY_LANG]),A===S.WEB_SOURCE?(J=this.component.getPropertyValue(E.SOURCE_WEB_SRC_QUERY),k=this.component.getPropertyValue(E.SOURCE_WEB_SRC_ARRAY_COL)):A===S.DUALITY_VIEW?(J=this.component.getPropertyValue(E.SOURCE_WEB_SRC_QUERY),k=this.component.getPropertyValue(E.SOURCE_DUALITY_VIEW_ARRAY_COL)):A===S.JSON_COLLECTION&&(J=this.component.getPropertyValue(E.SOURCE_JSON_COLLECTION),k=this.component.getPropertyValue(E.SOURCE_JSON_COLLECTION_ARRAY_COL)),M=e.getPropertyValue(E.SOURCE_REMOTE_DATABASE),g=e.getPropertyValue(E.SOURCE_GRAPH_MATCH_CLAUSE),f=e.getPropertyValue(E.SOURCE_GRAPH_COLUMNS_CLAUSE)}q("validateProperty",{x01:this.id,x02:x.type,x03:this._sqlMinColumns,x04:this._sqlMaxColumns,x05:F,x06:A,x07:N,x08:P,x09:d||c||U,x10:[S.WEB_SOURCE,S.DUALITY_VIEW,S.JSON_COLLECTION].includes(A)?k:K,x11:m,x12:M,x13:V,x14:Y,x15:g,x16:f,x17:D,x18:J,x19:G},{success:function(e){j.columns=e.columns||[],j.parameters=e.parameters||[],j.hasOrderBy=e.hasOrderBy,j.wsmHasLocalTableFor=e.webSourceHasLocalTableFor,j.wsmHasArrayColumns=e.webSourceHasArrayColumns,j.databaseType=e.databaseType,"OK"!==e.result&&(([C.TABLE,C.GRAPH].includes(x.type)||L.includes(x.type)||x.id===E.SOURCE_GRAPH_MATCH_CLAUSE||x.id===E.SOURCE_GRAPH_COLUMNS_CLAUSE)&&b.refByChilds.length>0||O.includes(H.id)||[E.REGION_FUNCTION_RETURNING_SQL,E.SOURCE_WEB_SRC_QUERY].includes(H.id)||x.hasPlSqlCheck?j.errors.push(e.result):j.warnings.push(e.result))},async:!1})}else if([C.COLUMN,C.REGION_COLUMN,C.SESSION_STATE_VALUE].includes(x.type)){let e=this.component.getParent(),t=e?.getProperty(E.SOURCE_LOCATION);(x.type!==C.SESSION_STATE_VALUE||this.component.typeId!==o.REGION_PLUGIN_ATTR||t?.getValue())&&""!==(T=this._checkColumn(F))&&j.errors.push(T)}if(b.checkUniqueness){if(a={properties:[{id:this.id,value:F}]},"PARENT"===b.checkUniqueness)a.parentId=this.component.parentId;else if("PAGE"===b.checkUniqueness)a.pageId=G;else if("WORKFLOW"===b.checkUniqueness){let e=pe(this.component);a.filterFunction=function(){let t=pe(this);return e.id===t.id}}(I=me(this.component.typeId,a)).length>0&&I[0].id!==this.component.id?j.errors.push($("VAL.MUST_BE_UNIQUE")):this.id===E.ITEM_NAME?(l=[],this.component.typeId!==o.PAGE_ITEM&&l.push({typeId:o.PAGE_ITEM,filter:a}),this.component.typeId!==o.FACET&&l.push({typeId:o.FACET,filter:a}),this.component.typeId!==o.FACET_GROUP_ITEM&&l.push({typeId:o.FACET_GROUP_ITEM,filter:a}),this.component.typeId!==o.SFILTER&&l.push({typeId:o.SFILTER,filter:a}),this.component.typeId!==o.SFILTER_GROUP_ITEM&&l.push({typeId:o.SFILTER_GROUP_ITEM,filter:a}),Me(l,!1).length>0&&j.errors.push($("VAL.MUST_BE_UNIQUE"))):this.id===E.WF_IDENTIFICATION_STATIC_ID&&(l=[],this.component.typeId!==o.WORKFLOW_VARIABLE&&l.push({typeId:o.WORKFLOW_VARIABLE,filter:a}),this.component.typeId!==o.WORKFLOW_PARAM&&l.push({typeId:o.WORKFLOW_PARAM,filter:a}),this.component.typeId!==o.WORKFLOW_ACT_VAR&&l.push({typeId:o.WORKFLOW_ACT_VAR,filter:a}),Me(l,!1).length>0&&j.errors.push($("VAL.MUST_BE_UNIQUE")))}0===j.errors.length&&Z(this.component._callPluginCallback({action:R.VALIDATE,property:this,value:F,sql:{columns:j.columns,parameters:j.parameters,hasOrderBy:j.hasOrderBy,hasWarnings:j.warnings.length>0}})),0===j.errors.length&&Z(this.component._callComponentTypeCallback({action:R.VALIDATE,property:this,value:F,sql:{columns:j.columns,parameters:j.parameters,hasOrderBy:j.hasOrderBy,hasWarnings:j.warnings.length>0}}))}}return j},ye.prototype._setValue=function(_,r){var n,i,s=this,p=this.component,O=_+"",T=this._value,a=y[p.typeId],l=a.pluginType,I=a.properties,A=I[this.id],N=h[s.id],L=void 0,u=void 0;if(r=e.extend({checkReadOnly:!0,keepChildValues:!1},r),n=e.extend({},{},r),r.checkReadOnly){if(x)throw new Error("Page is read only!");if(p.isReadOnly())throw new Error("Component is read only!");if(s._isReadOnly)throw new Error(`Property '${s.getMetaData().prompt}' (${s.id}) is read only for this component!`)}(O!==s._value||0!==s.errors.length||0!==s.warnings.length||n.forceSetValue)&&((n.keepChildValues||O===s._value&&n.forceSetValue)&&(n.keepChildValues=!0),[C.NUMBER,C.INTEGER,C.LINK,C.ITEM,C.FACET,C.PAGE,C.TABLE,C.GRAPH,C.PLSQL_PACKAGE,C.PLSQL_METHOD].includes(N.type)&&(O=O.trim()),"UPPER"===N.textCase?O=O.toUpperCase():"LOWER"===N.textCase&&(O=O.toLowerCase()),N.type===C.MEDIA&&O&&(JSON.parse(O).source||(O="")),i=this.validate(O),l&&s.id===l.typePropertyId&&O!==T&&this.component._callPluginCallback({action:R.REMOVED}),s._value=O,s.hasChanged=!0,s.errors=i.errors,s.warnings=i.warnings,s._columns=i.columns,s._parameters=i.parameters,s._hasOrderBy=i.hasOrderBy,s._wsmHasLocalTableFor=i.wsmHasLocalTableFor,s._wsmHasArrayColumns=i.wsmHasArrayColumns,s._databaseType=i.databaseType,0===s.errors.length&&s.id===a.seqPropertyId&&(L=parseInt(O,10)),s.id===a.parentPropertyId&&(u=O),p._setHasChanged({seq:L,parentId:u}),function e(t){let _;function r(e){delete p._properties[e];for(let t=0;t<I[e].refByDependingOn.length;t++)I[e].refByDependingOn[t].hasToExist&&r(I[e].refByDependingOn[t].propertyId)}for(let n=0;n<I[t].refByDependingOn.length;n++)_=I[t].refByDependingOn[n].propertyId,J(p._properties,_)?p._properties[_]=new ye({component:p,propertyId:_,defaultValue:p._properties[_]._value,columns:p._properties[_]._columns,parameters:p._properties[_]._parameters,hasOrderBy:p._properties[_]._hasOrderBy,databaseType:p._properties[_]._databaseType}):_===E.GRID_LABEL_COLUMN_SPAN||_===E.READ_ONLY_HTML_ATTRIBUTES?p._setGridProperties(!0):p._properties[_]=new ye({component:p,propertyId:_}),J(p._properties,_)&&p._properties[_]._isVisible()?e(_):r(_)}(s.id),function(){function e(e,t){var _,r,i;function o(e,t,r){i[e]&&_._checkColumn(i[e],t)===$("VAL.COLUMN_NOT_FOUND")&&(r?i={}:delete i[e])}if(J(e._properties,t))if(_=e._properties[t],r=e===p?"_setValue":"setValue",[C.COLUMN,C.REGION_COLUMN,C.SESSION_STATE_VALUE].includes(h[t].type))""!==_._value&&_._checkColumn(_._value)===$("VAL.COLUMN_NOT_FOUND")?_[r]("",n):_[r](_._value,n);else if(""===O||![C.WHERE_CLAUSE,C.ORDER_BY_CLAUSE,C.ORDER_BY_ITEM].includes(h[t].type)&&t!==E.SOURCE_GRAPH_COLUMNS_CLAUSE)if(h[t].type===C.MEDIA){switch((i=JSON.parse(_._value||"{}")).source){case w:o("filenameColumn",["VARCHAR2"]),o("mimeTypeColumn",["VARCHAR2"]),o("lastUpdatedColumn",["DATE","TIMESTAMP","TIMESTAMP_TZ","TIMESTAMP_LTZ"]),o("blobColumn",["BLOB"],!0);break;case X:o("urlColumn",["VARCHAR2"],!0)}_[r](JSON.stringify(i),n)}else n.keepChildValues?_[r](_._value,n):_[r](Ie(_,y[e.typeId].properties[t].defaultValue),n);else _[r](_._value,{forceSetValue:!0})}var t;if(0===s.errors.length&&0===s.warnings.length||1===s.errors.length&&s.errors[0]===$("VAL.IS_REQUIRED"))for(let _=0;_<A.refByChilds.length;_++)if(A.refByChilds[_].typeId===p.typeId)e(p,A.refByChilds[_].id);else{t=p.getChildrenUntil(A.refByChilds[_].typeId);for(let r=0;r<t.length;r++)e(t[r],A.refByChilds[_].id)}}(),s.id===E.SOURCE_GRAPH_COLUMNS_CLAUSE&&""!==O&&0===s.errors.length&&0===s.warnings.length&&(p._properties[E.SOURCE_GRAPH_MATCH_CLAUSE].errors=[],p._properties[E.SOURCE_GRAPH_NAME].errors=[]),s.id===E.ITEM_NAME&&function(e,_){var r,n,i,o,E,s,p,O=t.escapeRegExp(e),T=[];for(E=0;E<y[a.id].refByProperties.length;E++)if(r=h[y[a.id].refByProperties[E]],[C.ITEM,C.FACET,C.SESSION_STATE_VALUE].includes(r.type))for(r.multiValueDelimiter?(n=new RegExp("(^|"+r.multiValueDelimiter+"|\\s)"+O+"($|"+r.multiValueDelimiter+"|\\s)","i"),i={properties:[{id:r.id,value:n}]}):(n=new RegExp("^"+O+"$","i"),i={properties:[{id:r.id,value:n}]}),s=0;s<r.refByComponentTypes.length;s++)for(A=y[r.refByComponentTypes[s]].properties[r.id],T=me(r.refByComponentTypes[s],i,!1),p=0;p<T.length;p++)o=T[p].getProperty(r.id),r.multiValueDelimiter?o.setValue(o.getValue().replace(n,"$1"+_+"$2")):o.setValue(_);else if(r.type===C.ORDER_BY_ITEM)for(i=Ue(r,e),s=0;s<r.refByComponentTypes.length;s++)for(A=y[r.refByComponentTypes[s]].properties[r.id],T=me(r.refByComponentTypes[s],i,!1),p=0;p<T.length;p++)he(o=T[p].getProperty(r.id),_)}(T,O),[E.GRID_NEW_GRID,E.GRID_NEW_ROW,E.GRID_COLUMN,E.GRID_NEW_COLUMN,E.GRID_COLUMN_SPAN].includes(s.id)||p.typeId===o.REGION&&[E.PARENT_REGION,E.SLOT_PLACEHOLDER,E.REGION_TEMPLATE,E.REGION_TYPE].includes(s.id)||p.typeId===o.PAGE_ITEM&&[E.REGION,E.SLOT_PLACEHOLDER,E.ITEM_TYPE,E.FIELD_TEMPLATE].includes(s.id)||p.typeId===o.BUTTON&&[E.REGION,E.SLOT_PLACEHOLDER].includes(s.id)||p.typeId===o.REGION_PLUGIN_ATTR&&[E.TEMPLATE_COMPONENT_TYPE].includes(s.id)?p._setGridProperties():p.typeId===o.PAGE&&[E.PAGE_TEMPLATE,E.DIALOG_TEMPLATE].includes(s.id)&&fe(),p._setHasChanged())},ye.prototype.setValue=function(e,t={}){let _,r={checkReadOnly:!0};if("boolean"==typeof t?r.forceSetValue=t:r={...r,...t},this.component._status===N.DELETED)throw new Error("Component has been deleted!");He(this.component,Ye.CHANGE),_=this._value,this._setValue(e,r),this.component._callPluginCallback({property:this,oldValue:_}),this.component._callComponentTypeCallback({property:this,oldValue:_});let n=this.component._callComponentTypeCallback({action:R.VALIDATE_COMPONENT})?.error;return n?.length&&(this.component._errors=n),this},ye.prototype._setUniqueValue=function(){var e=y[this.component.typeId].properties[this.id].checkUniqueness,t={properties:[{id:this.id,value:""}]},_=this.getValue();"PARENT"===e?t.parentId=this.component.parentId:"PAGE"===e&&(t.pageId=G),t.properties[0].value=_;for(let e=1;e<1e4;e++){if(this.id===E.ITEM_NAME&&0===me(o.PAGE_ITEM,t,!1).length&&0===me(o.FACET,t,!1).length&&0===me(o.FACET_GROUP_ITEM,t,!1).length&&0===me(o.SFILTER,t,!1).length&&0===me(o.SFILTER_GROUP_ITEM,t,!1).length||this.id!==E.ITEM_NAME&&0===me(this.component.typeId,t,!1).length)return void(this._value=t.properties[0].value);t.properties[0].value=_+"_"+e}throw new Error(`Unable to generate a unique value for property '${this.getMetaData().prompt}' (${this.id})!`)},ye.prototype.disable=function(){this._isReadOnly=!0},ye.prototype.enable=function(){this._isReadOnly=!1},ye.prototype.isReadOnly=function(){return this._isReadOnly},ge.prototype._callPluginCallback=function(e){var t,_,r,n,i=y[this.typeId],s=i.pluginType,p=e.action;if(s&&(t=e.action===R.VALIDATE&&e.property.id===s.typePropertyId?s.plugins[e.value]:s.plugins[this._properties[s.typePropertyId]._value])){if(void 0===p){if(e.property&&e.property.id===s.typePropertyId)p=R.CREATED;else if(e.properties)for(let t=0;t<e.properties.length;t++)if(e.properties[t].id===s.typePropertyId){p=R.CREATED;break}void 0===p&&(p=R.CHANGED)}if(i.id!==o.REGION||p!==R.CREATED&&p!==R.REMOVED||(p!==R.CREATED||["NATIVE_SQL_REPORT","NATIVE_TABFORM"].includes(t.name)?p===R.REMOVED&&1===(r=this.getChilds(o.REGION_PLUGIN_ATTR)).length&&r[0].remove():((_=y[o.REGION_PLUGIN_ATTR].pluginType.plugins[t.name]).attributes.length>0||_.features.includes("FETCHED_ROWS")||_.features.includes("NO_DATA_FOUND_MESSAGE")||_.features.includes("NO_DATA_FOUND_ICON")||_.features.includes("COLUMN_HEADING")||_.features.includes("INIT_JAVASCRIPT_CODE")||_.features.includes("EDITABLE")||_.features.includes("LAZY_LOADING")||_.features.includes("LAZY_LOADING_ALWAYS")||"NATIVE_BREADCRUMB"===t.name||"NATIVE_LIST"===t.name)&&new ge({typeId:o.REGION_PLUGIN_ATTR,parentId:this.id,values:[{id:E.HIDDEN_REGION_TYPE,value:t.name},{id:E.HIDDEN_SOURCE_LOCATION,value:this.getPropertyValue(E.SOURCE_LOCATION)}]})),"function"==typeof t.callback&&(p===R.VALIDATE?n=t.callback.apply(this,[p,e.property,e.value,e.sql]):p===R.CREATED||p===R.REMOVED?t.callback.apply(this,[p]):p===R.CHANGED&&e.property&&t.callback.apply(this,[p,e.property,e.oldValue]),e.properties))for(let _=0;_<e.properties.length;_++)e.properties[_].id!==s.typePropertyId&&t.callback.apply(this,[R.CHANGED,this.getProperty(e.properties[_].id),e.properties[_].oldValue])}return n||{}},ge.prototype._callComponentTypeCallback=function(e){var t,_=y[this.typeId];if("function"==typeof _.callback)if(e.action===R.VALIDATE)t=_.callback.apply(this,[e.action,e.property,e.value,e.sql]);else if(e.action===R.VALIDATE_COMPONENT&&_.actions.includes(R.VALIDATE_COMPONENT))t=_.callback.apply(this,[e.action,e.property,e.value]);else if(e.action===R.INIT&&_.actions.includes(R.INIT))_.callback.apply(this,[e.action]);else if(e.action===R.PARENT_UPDATE&&_.actions.includes(R.PARENT_UPDATE))_.callback.apply(this,[e.action]);else if(e.action)_.callback.apply(this,[e.action]);else if(e.property)_.callback.apply(this,[R.CHANGED,e.property,e.oldValue]);else if(Array.isArray(e.properties))for(let t=0;t<e.properties.length;t++)_.callback.apply(this,[R.CHANGED,this.getProperty(e.properties[t].id),e.properties[t].oldValue]);return t||{}},ge.prototype.isOnGlobalPage=function(){return this.pageId===V.globalPageId&&this.pageId!==G},ge.prototype.isReadOnly=function(){return x||this._isReadOnly||this.isOnGlobalPage()||y[this.typeId].isSharedComponent},ge.prototype.hasChanged=function(){return this._status!==N.UNCHANGED},ge.prototype.hasErrors=function(){for(let e in this._properties)if(J(this._properties,e)&&this._properties[e].errors.length>0)return!0;return!!this._errors.length},ge.prototype.hasWarnings=function(){for(let e in this._properties)if(J(this._properties,e)&&this._properties[e].warnings.length>0)return!0;return!1},ge.prototype._setHasChanged=function(e){var t=this;(e=e||{}).status===N.DELETED?t._status=N.DELETED:t._status===N.UNCHANGED&&(t._status=N.UPDATED),void 0!==e.seq&&(t.seq=e.seq),void 0!==e.parentId&&(t.parentId=e.parentId)},ge.prototype._deleteProperty=function(e){var t=y[this.typeId].properties[e];delete this._properties[e];for(let e=0;e<t.refByDependingOn.length;e++)t.refByDependingOn[e].hasToExist&&this._deleteProperty(t.refByDependingOn[e].propertyId)},ge.prototype._cleanProperties=function(){for(var e in this._properties)J(this._properties,e)&&(this._properties[e]._isVisible()||this._deleteProperty(e))},ge.prototype._getGridParams=function(){let t,_,r,n=ie(),s="",p={};return[o.REGION,o.PAGE_ITEM,o.BUTTON].includes(this.typeId)&&(_=this._properties[E.SLOT_PLACEHOLDER]._value,this.typeId===o.REGION&&""!==this._properties[E.PARENT_REGION]._value&&(s=this._properties[E.PARENT_REGION]._value),[o.PAGE_ITEM,o.BUTTON].includes(this.typeId)&&""!==this._properties[E.REGION]._value&&(s=this._properties[E.REGION]._value),r=de({regionId:s,slotPlaceholder:_,componentTypeId:this.typeId})),void 0===r?(r={hasGridSupport:!0,hasRegionSupport:!0,hasItemSupport:!0,hasButtonSupport:!0,maxFixedGridColumns:n.grid.maxColumns,isUnknown:!0},i.warn("_getGridParams: Component %O uses unknown slot %s! Fallback to default values",this,_)):(n.grid.alwaysUseMaxColumns||void 0===r.maxFixedGridColumns)&&(r.maxFixedGridColumns=n.grid.maxColumns),r.isUnknown&&(p.isUnknown=!0),s?(t=function(t){var _,r,s,p=me(o.REGION,{id:t})[0],O=e.extend({},p._grid);return O.hasGridSupport&&!n.alwaysUseMaxColumns&&(_=p._properties[E.GRID_COLUMN].getValue(),r=p._properties[E.GRID_COLUMN_SPAN],n.grid.hasColumnSpan&&r&&(s=r.getValue()),s>0?(O.maxColumns=parseInt(s,10),i.trace("_getGridParams: Region %O uses column span, reduce max columns to %i",p,O.maxColumns)):_>0&&(O.maxColumns-=parseInt(_,10)-1,i.trace("_getGridParams: Region %O uses column positioning, reduce max columns to %i",p,O.maxColumns))),O}(s),p.pageSlotHasGridSupport=t.pageSlotHasGridSupport,p.hasGridSupport=!!t.pageSlotHasGridSupport&&r.hasGridSupport,p.hasRegionSupport=r.hasRegionSupport,p.hasItemSupport=r.hasItemSupport,p.hasButtonSupport=r.hasButtonSupport,"FIXED"!==n.grid.type||n.grid.alwaysUseMaxColumns?p.maxColumns=n.grid.maxColumns:(r.maxFixedGridColumns<0?p.maxColumns=Math.max(t.maxColumns+r.maxFixedGridColumns,0):r.maxFixedGridColumns>0?p.maxColumns=Math.min(r.maxFixedGridColumns,t.maxColumns):p.maxColumns=t.maxColumns,p.maxColumns<2&&(p.hasGridSupport=!1,i.warn("_getGridParams: Component %O, disable grid support because there are no more grid columns available!",this)))):(p.pageSlotHasGridSupport=r.hasGridSupport,p.hasGridSupport=r.hasGridSupport,p.hasRegionSupport=r.hasRegionSupport,p.hasItemSupport=r.hasItemSupport,p.hasButtonSupport=r.hasButtonSupport,p.hasGridSupport&&(p.maxColumns=r.maxFixedGridColumns)),i.trace("_getGridParams: Component %O returned grid params %O",this,p),p},ge.prototype._setGridProperties=function(e){var t,_,r,n=this,i=ie(),s=!1,p=!1,O=!1;function T(e,t){t?(J(n._properties,e)||(n._properties[e]=new ye({component:n,propertyId:e})),n._properties[e]._isVisible()||n._deleteProperty(e)):n._deleteProperty(e)}function a(e){var t=n._properties[e];return t?t.getValue():""}function l(t,_){var r=me(t,{properties:[{id:_,value:n.id}]});for(let t=0;t<r.length;t++)void 0!==e||r[t].isOnGlobalPage()||(He(r[t],Ye.CHANGE),r[t]._setHasChanged()),r[t]._setGridProperties(e)}[o.REGION,o.PAGE_ITEM,o.BUTTON].includes(this.typeId)&&(this._grid=this._getGridParams(),this._grid.hasGridSupport?(T(E.GRID_NEW_GRID,i.grid.hasNewGrid),T(E.GRID_NEW_ROW,!i.grid.hasNewGrid||"N"===a(E.GRID_NEW_GRID)),s="Y"===a(E.GRID_NEW_GRID)||"Y"===a(E.GRID_NEW_ROW),T(E.GRID_ROW_CSS_CLASSES,s&&i.grid.hasRowCssClasses),T(E.GRID_COLUMN,!0),T(E.GRID_NEW_COLUMN,""===a(E.GRID_COLUMN)&&"N"===a(E.GRID_NEW_ROW)),p="Y"===a(E.GRID_NEW_GRID)||"Y"===a(E.GRID_NEW_ROW)||""!==a(E.GRID_COLUMN)||"Y"===a(E.GRID_NEW_COLUMN),T(E.GRID_COLUMN_SPAN,p&&i.grid.hasColumnSpan),T(E.GRID_COLUMN_CSS_CLASSES,p&&i.grid.hasColumnCssClasses),T(E.GRID_COLUMN_ATTRIBUTES,p&&i.grid.hasColumnAttributes)):(this._deleteProperty(E.GRID_NEW_GRID),this._deleteProperty(E.GRID_NEW_ROW),this._deleteProperty(E.GRID_ROW_CSS_CLASSES),this._deleteProperty(E.GRID_COLUMN),this._deleteProperty(E.GRID_NEW_COLUMN),this._deleteProperty(E.GRID_COLUMN_SPAN),this._deleteProperty(E.GRID_COLUMN_CSS_CLASSES),this._deleteProperty(E.GRID_COLUMN_ATTRIBUTES)),this.typeId!==o.PAGE_ITEM&&this.typeId!==o.BUTTON||(O=this._grid.hasGridSupport&&p&&"TABLE"===i.grid.type,T(E.GRID_ROW_SPAN,O),T(E.ELEMENT_FIELD_ALIGNMENT,O),this.typeId===o.PAGE_ITEM&&(T(E.LABEL_ALIGNMENT,O),T(E.READ_ONLY_HTML_ATTRIBUTES,O&&i.grid.hasColumnAttributes),_=a(E.FIELD_TEMPLATE),r=ne().templates[o.FIELD_TEMPLATE],t=J(r,_)?r[_]:r[""],T(E.GRID_LABEL_COLUMN_SPAN,this._grid.hasGridSupport&&p&&t.hasLabelColumnSpan))),this.typeId===o.REGION&&(l(o.REGION,E.PARENT_REGION),l(o.PAGE_ITEM,E.REGION),l(o.BUTTON,E.REGION)))},ge.prototype._setProperties=function(e,t){var _;e=e||[];for(let r=0;r<e.length;r++){if(!J(h,e[r].id))throw new Error(`Property ${e[r].id} doesn't exist!`);if(J(this._properties,e[r].id))_=this._properties[e[r].id],e[r].oldValue=_._value,_._setValue(e[r].value,t);else if(!t.ignoreIfNotExists)throw new Error(`Property '${h[e[r].id].prompt}' (${e[r].id}) not available for this component!`)}},ge.prototype.getProperty=function(e){if(!Array.isArray(e))return this._properties[e];{let t;for(let _=0;_<e.length;_++)if(t=this._properties[e[_]],t)return t}},ge.prototype.getProperties=function(){var e=[];return z(this._properties,(function(t,_){e.push(_)})),e},ge.prototype.getPropertyValue=function(e){let t=this.getProperty(e);return t?t.getValue():""},ge.prototype.duplicate=function(e){let t={};if(this._status===N.DELETED)throw new Error("Component has been deleted!");return function e(_,r,n){let i,E=y[_.typeId],s=[];i=new ge({component:_,previousComponent:_,values:r,parentId:n||_.parentId,isDuplicated:!0}),J(t,i.typeId)||(t[i.typeId]=[]),t[i.typeId].push({component:i,copiedFromComponentId:_.id});for(let t=0;t<E.childComponentTypes.length;t++)if(E.childComponentTypes[t]!==o.IR_SAVED_REPORT&&E.childComponentTypes[t]!==o.IG_SAVED_REPORT){s=me(E.childComponentTypes[t],{parentId:_.id});for(let t=0;t<s.length;t++)e(s[t],void 0,i.id)}}(this,e),function(){let e,_,r,n,i,o,E;for(e in t)if(J(t,e))for(_=y[e].refByProperties,i=0;i<_.length;i++)for(r=h[_[i]],o=0;o<r.refByComponentTypes.length;o++)if(n=r.refByComponentTypes[o],J(t,n))for(E=0;E<t[e].length;E++)t[n].forEach((function(_){J(_.component._properties,r.id)&&_.component._properties[r.id]._value===t[e][E].copiedFromComponentId&&(_.component._properties[r.id]._value=t[e][E].component.id)}))}(),t[this.typeId][0].component},ge.prototype.remove=function(){this._remove(!1)},ge.prototype._remove=function(_){var r,n,s,p,O,T,a,l,I=y[this.typeId],A=this,L=[],u=[],P=!1,S=!1;function d(e,t,_){var r,n=t.split(_),i=new RegExp("^\\s*"+e+"\\s*$","i");for(r=0;r<n.length;r++)if(i.test(n[r])){n.splice(r,1);break}return n.join(_)}if(this._status!==N.DELETED&&!this._deleteInProgress){if(x)throw new Error("Page is read only!");if(this.isReadOnly()&&this.typeId&&!K(this.typeId))throw new Error("Component is read only!");He(this,Ye.DELETE),this._deleteInProgress=!0;for(let e=0;e<I.childComponentTypes.length;e++){L=me(I.childComponentTypes[e],{parentId:this.id},!1);for(let e=0;e<L.length;e++)L[e]._remove(!0)}p=this.typeId===o.BUILD_OPTION||this.typeId===o.AUTHORIZATION?new RegExp("^[-!]?"+t.escapeRegExp(this.id)+"$"):this.id,-1!==e.inArray(this.typeId,[o.PAGE_ITEM,o.FACET,o.FACET_GROUP_ITEM,o.SFILTER,o.SFILTER_GROUP_ITEM])&&(O=this.getProperty(E.ITEM_NAME).getValue(),T=t.escapeRegExp(O));for(let e=0;e<I.refByProperties.length;e++)"COMPONENT"===(r=h[I.refByProperties[e]]).lovType?s={properties:[{id:r.id,value:p}]}:[C.ITEM,C.FACET,C.SESSION_STATE_VALUE].includes(r.type)?s=r.multiValueDelimiter?{properties:[{id:r.id,value:new RegExp("(^|"+r.multiValueDelimiter+"|\\s)"+T+"($|"+r.multiValueDelimiter+"|\\s)","i")}]}:{properties:[{id:r.id,value:new RegExp("^"+T+"$","i")}]}:r.type===C.ORDER_BY_ITEM&&(s=Ue(r,O)),r.refByComponentTypes.forEach((function(e){if((l=y[e]).parentId!==A.typeId&&!l.parentPropertyId||l.parentPropertyId!==r.id){n=l.properties[r.id],u=me(e,s,!1);for(var t=0;t<u.length;t++)if("WEAK_NULL"===n.referenceOnDelete||"DB_NULL"===n.referenceOnDelete){if(a=u[t].getProperty(r.id),u[t].isReadOnly()||a.isReadOnly())continue;[C.ITEM,C.FACET].includes(r.type)&&r.multiValueDelimiter?a.setValue(d(T,a.getValue(),r.multiValueDelimiter)):r.type===C.ORDER_BY_ITEM?he(a,""):a.setValue("")}else{if("WEAK_CASCADE"!==n.referenceOnDelete&&"DB_CASCADE"!==n.referenceOnDelete)throw new Error(j("DEL.REFERENCE_EXISTS",u[t].getDisplayTitle()));[C.ITEM,C.FACET].includes(r.type)&&r.multiValueDelimiter?((a=u[t].getProperty(r.id)).setValue(d(T,a.getValue(),r.multiValueDelimiter)),""===a.getValue()&&u[t]._remove(!0)):u[t]._remove(!0)}if(n.referenceOnDelete||!(I.isPageComponent&&!l.isPageComponent||I.isSharedDesignerComponent&&!l.isSharedDesignerComponent)||P||(P=!0,q("isComponentInUse",{x01:M,x02:A.typeId,x03:A.id},{success:function(e){e.references?.length&&e.references.some((e=>e.componentType?.toString()===l.id?.toString()))&&(S=j("SHARED_COMPONENT_REFERENCE",e.references[0].componentName,e.references[0].page))},error:function(){i.info("Error while calling isComponentUse")},async:!1})),S)throw A._deleteInProgress=!1,new Error(j("DEL.REFERENCE_EXISTS",S))}}));this._status===N.CREATED||_?delete F[this.typeId][this.id]:this._setHasChanged({status:N.DELETED}),delete this._deleteInProgress,A._callPluginCallback({action:R.REMOVED}),A._callComponentTypeCallback({action:R.REMOVED})}},ge.prototype.move=function({previousComponent:e,values:t}){if(this._status===N.DELETED)throw new Error("Component has already been deleted!");if(x)throw new Error("Page is read only!");if(this.isReadOnly())throw new Error("Component is read only!");He(this,Ye.CHANGE),this._setProperties(t),this._move(e),this._callPluginCallback({properties:t}),this._callComponentTypeCallback({properties:t})},ge.prototype._move=function(e){var t,_,r,n=y[this.typeId].seqPropertyId,i=e,o=!0;if((t=this.getSiblings(!0)).length>0&&i){if(i instanceof ge)for(r=0;r<t.length;r++)if(t[r].id===i.id&&t[r].typeId===i.typeId){this.seq=i.seq+10,o=!1;break}("last"===i||o)&&t[t.length-1].id!==this.id&&(i=t[t.length-1],this.seq=i.seq+10,o=!1)}for(o&&(i=void 0,this.seq=10),_=this.seq,this._properties[n]?._setValue(this.seq,{checkReadOnly:!1}),r=0;r<t.length;r++)o?t[r].isReadOnly()||!t[r].getProperty(n)?_=t[r].seq:(_+=10,t[r].id!==this.id&&t[r].getProperty(n).setValue(_)):t[r].id===i.id&&(o=!0)},ge.prototype.getSiblings=function(e){var t,_,r,n=[];if([o.REGION,o.PAGE_ITEM,o.BUTTON,o.FACET,o.FACET_GROUP,o.SFILTER,o.SFILTER_GROUP].includes(this.typeId)){if(this.typeId===o.FACET||this.typeId===o.FACET_GROUP)n.push({typeId:o.FACET,filter:{parentId:this.parentId}}),n.push({typeId:o.FACET_GROUP,filter:{parentId:this.parentId}});else if(this.typeId===o.SFILTER||this.typeId===o.SFILTER_GROUP)n.push({typeId:o.SFILTER,filter:{parentId:this.parentId}}),n.push({typeId:o.SFILTER_GROUP,filter:{parentId:this.parentId}});else{let e="";this.typeId===o.REGION?e=this._properties[E.PARENT_REGION]._value:(this.typeId===o.PAGE_ITEM||this.typeId===o.BUTTON)&&(e=this._properties[E.REGION]._value),n.push({typeId:o.REGION,filter:{properties:[{id:E.PARENT_REGION,value:e},{id:E.SLOT_PLACEHOLDER,value:this._properties[E.SLOT_PLACEHOLDER]._value}]}}),n.push({typeId:o.PAGE_ITEM,filter:{properties:[{id:E.REGION,value:e},{id:E.SLOT_PLACEHOLDER,value:this._properties[E.SLOT_PLACEHOLDER]._value}]}}),n.push({typeId:o.BUTTON,filter:{properties:[{id:E.REGION,value:e},{id:E.SLOT_PLACEHOLDER,value:this._properties[E.SLOT_PLACEHOLDER]._value}]}})}r=Me(n)}else t={parentId:this.parentId,properties:[]},this.typeId===o.PAGE_COMPUTATION||this.typeId===o.APP_COMPUTATION?_=E.COMPUTATION_POINT:this.typeId===o.APP_PROCESS?_=E.PROCESS_POINT:this.typeId===o.PAGE_PROCESS?_=this.getProperty(E.PARENT_PROCESS)&&""!==this.getProperty(E.PARENT_PROCESS).getValue()?E.PARENT_PROCESS:E.PROCESS_POINT:this.typeId===o.BRANCH?_=E.BRANCH_POINT:this.typeId===o.DA_ACTION&&(_=E.FIRE_WHEN_EVENT_RESULT_IS),_&&t.properties.push({id:_,value:this._properties[_]._value}),r=me(this.typeId,t);if(!e)for(let e=0;e<r.length;e++)if(r[e].id===this.id){r.splice(e,1);break}return r},ge.prototype.getParent=function(e){if(e){let t=this;for(;t&&t.typeId!==e;)t=t.getParent();return t}return this.parentId?me(y[this.typeId].parentId,{id:this.parentId},!1)[0]:void 0},ge.prototype.getAllChildren=function(){let e=[];return this._getAllChildrenTypes().forEach((t=>{e.push(...this.getChildrenUntil(t))})),e},ge.prototype._getAllChildrenTypes=function(){let e=[];return function t(_){let r=y[_].childComponentTypes;r.length&&(e.push(...r),r.forEach(t))}(this.typeId),e},ge.prototype.getChilds=function(t,_,r){var n=e.extend(!0,{},_);return n.parentId=this.id,me(t,n,r)},ge.prototype.getChildrenUntil=function(t,_,r){var n,i=this,o=e.extend(!0,{},_),E=[];if(o.parentId=i.id,y[t].parentId===i.typeId)return me(t,o,r);n=me(function e(t){if(null===y[t].parentId)throw new Error(`Component Type Id ${t} is not a child type of component type id ${i.typeId}`);return y[t].parentId===i.typeId?t:e(y[t].parentId)}(t),o,r);for(let e=0;e<n.length;e++)E=E.concat(n[e].getChildrenUntil(t,o,r));return E},ge.prototype.getDisplayTitle=function(){let e=Ae(this);return e?Z("POSTFIX.GLOBAL_PAGE",e.getDisplayValue(),this.isOnGlobalPage()):""},ge.prototype.setDisplayTitle=function(e){return Ae(this).setValue(e)},ge.prototype._copyToGlobal=function(){var e=this,t=F[this.typeId][this.id];z(e,(function(_){if("_properties"===_)t._properties={},z(e._properties,(function(e,_){t._properties[e]=new ye({component:t,propertyId:_})}));else{if("_isReadOnly"===_){let t=e.isReadOnly();e.getAllChildren().forEach((e=>t?e.disable():e.enable()))}t[_]=e[_]}}))},ge.prototype.disable=function(){this._isReadOnly=!0},ge.prototype.enable=function(){this._isReadOnly=!1};var Ye={CREATE:"create",DELETE:"delete",CHANGE:"change"},Be=null;function ve(){if(!Be)throw new Error("Start a Transaction first!")}function Fe(){if(Be)throw new Error("Finish pending Transaction first!")}function He(e,t){var _;ve(),_=Be.components,J(_,e.typeId)&&J(_[e.typeId],e.id)?t===Ye.DELETE&&(_[e.typeId][e.id].operation===Ye.CREATE?delete _[e.typeId][e.id]:_[e.typeId][e.id].operation=t):(J(_,e.typeId)||(_[e.typeId]={}),_[e.typeId][e.id]={oldComponent:null,newComponent:null,operation:t},t!==Ye.CREATE&&(_[e.typeId][e.id].oldComponent=new ge({component:e,isDetached:!0})))}var Qe=function(){var t={_forEach:function(e){for(var t in this.components)if(J(this.components,t))for(var _ in this.components[t])J(this.components[t],_)&&e.call(this.components[t][_],t,_)},_restore:function(e,t,_,r,n){var i=null;return J(F[e],t)&&(i=new ge({component:F[e][t],isDetached:!0})),_===Ye.CREATE?r._status!==N.CREATED&&J(F[e],t)?F[e][t]._status=r._status:F[e][t]=new ge({component:r,isDetached:!0}):_===Ye.DELETE?i._status===N.CREATED?delete F[e][t]:F[e][t]._status=N.DELETED:r._copyToGlobal(),We(i,F[e][t]||null,n)},_undo:function(){var e=this,t=[];return this._forEach((function(_,r){var n;switch(this.operation){case Ye.CREATE:n=Ye.DELETE;break;case Ye.DELETE:n=Ye.CREATE;break;case Ye.CHANGE:n=Ye.CHANGE}t=t.concat(e._restore(_,r,n,this.oldComponent,"undo"))})),t},execute:function(){var e=[];ve(),this._forEach((function(t,_){this.operation!==Ye.DELETE&&(this.newComponent=new ge({component:F[t][_],isDetached:!0})),e=e.concat(We(this.oldComponent,this.newComponent))})),be(e),Be=null},undo:function(){Fe(),be(this._undo())},redo:function(){var e=this,t=[];Fe(),this._forEach((function(_,r){t=t.concat(e._restore(_,r,this.operation,this.newComponent,"redo"))})),be(t)},cancel:function(){ve(),this._undo(),Be=null},label:function(){return this._label}};return{start:function(e,_){var r;if(x)throw new Error("Page is read only!");return Fe(),(r=Object.create(t))._label=_||"",r.widget=e,r.components={},Be=r,r},message:function(t){var _,r,n,i=e.extend({action:"",component:null,property:null,count:1},t),o="TRANSACTION."+i.action;switch(i.action){case P.CHANGE:_=1===i.count?i.component.getDisplayTitle():j("MULTIPLE_COMPONENTS"),n=j(o,_,i.property.getMetaData().prompt);break;case P.CREATE:1===i.count?(r="string"==typeof i.component?i.component:i.component.typeId,_=y[r].title.singular):_=j("MULTIPLE_COMPONENTS"),n=j(o,_);break;default:1===i.count?_=i.component.getDisplayTitle():(o+=".MULTIPLE",_=i.count),n=j(o,_)}return n}}}();function We(e,t,_){var r,n,i,s,p,O,T,a={},l=[];function I(e,t,_){(J(e._properties,t)||_===A.REMOVE_PROP)&&(J(O.properties,t)||(O.properties[t]=[]),O.properties[t].push(_))}function C(e,_){I(t,e,_)}function L(e,_,r){if(t[_]()){O.events.push(e);for(let _ in t._properties)J(t._properties,_)&&t._properties[_][r].length>0&&C(_,e);t._errors?.length&&(O.errors=t._errors)}}function u(_,r,n,i){t._properties[i][n].join()!==e._properties[i][n].join()&&(0===t._properties[i][n].length?T.push(r):T.push(_))}function P(_,r,n){t[n]()!==e[n]()&&(t[n]()?O.events.push(_):O.events.push(r))}function S(e){let t=e;for(;t;){let e={component:t,events:[A.VALIDATE_COMPONENT],action:"",properties:{},errors:[],data:{lNotification:O}},_=t._callComponentTypeCallback({action:R.VALIDATE_COMPONENT,property:t.typeId,value:t.id})?.error;_&&(t._errors=_,e.errors=_),l.push(e),t=t.getParent()}}if(O={component:{},events:[],properties:{},action:_||""},null===e||e._status===N.DELETED)O.component=t,O.events.push(A.CREATE),L(A.ERRORS,"hasErrors","errors"),L(A.WARNINGS,"hasWarnings","warnings");else if(null===t||t._status===N.DELETED)O.component=e,O.events.push(A.DELETE);else{O.component=t,O.events.push(A.CHANGE),r=y[t.typeId];for(let _ in t._properties)if(J(t._properties,_)){if(n=t._properties[_],T=O.properties[_]||[],J(e._properties,_)){if(n._value!==e._properties[_]._value){if(T.push(A.CHANGE),r.displayPropertyIds.includes(_)?O.events.push(A.DISPLAY_TITLE):(t.typeId===o.PAGE&&(_===E.PAGE_TEMPLATE||_===E.DIALOG_TEMPLATE)||t.typeId===o.REGION&&(_===E.REGION_TEMPLATE||_===E.REGION_TYPE)||t.typeId===o.REGION_PLUGIN_ATTR&&_===E.TEMPLATE_COMPONENT_TYPE)&&O.events.push(A.GRID),r.pluginType&&_===r.pluginType.typePropertyId){for(let e=0;e<r.pluginType.requiredProperties.length;e++)C(r.pluginType.requiredProperties[e],A.META_DATA);C(E.LOV_SQL,A.META_DATA),C(E.LOV_PLSQL_FUNC_BODY_SQL,A.META_DATA),C(E.LOV_JS_FUNC_BODY_SQL,A.META_DATA),C(E.LOV_JAVA_FUNC_BODY_SQL,A.META_DATA),C(E.LOV_PYTHON_FUNC_BODY_SQL,A.META_DATA),C(E.SLOT_PLACEHOLDER,A.META_DATA)}[o.REGION,o.PAGE_ITEM,o.BUTTON].includes(t.typeId)&&[E.REGION,E.PARENT_REGION,E.SLOT_PLACEHOLDER,E.GRID_COLUMN,E.GRID_COLUMN_SPAN].includes(_)&&(C(E.GRID_COLUMN,A.META_DATA),C(E.GRID_COLUMN_SPAN,A.META_DATA),C(E.GRID_LABEL_COLUMN_SPAN,A.META_DATA))}if(u(A.ERRORS,A.NO_ERRORS,"errors",_),u(A.WARNINGS,A.NO_WARNINGS,"warnings",_),r.properties[_].refByChilds.length>0&&(n._value!==e._properties[_]._value||n._columns.length>0))for(let e=0;e<r.properties[_].refByChilds.length;e++)r.properties[_].refByChilds[e].typeId===t.typeId?C(i=r.properties[_].refByChilds[e].id,A.META_DATA):(s=r.properties[_].refByChilds[e].typeId,J(a,s)||(a[s]=[]),a[s].push(r.properties[_].refByChilds[e].id))}else T.push(A.ADD_PROP),n.errors.length>0&&T.push(A.ERRORS),n.warnings.length>0&&T.push(A.WARNINGS),t.typeId!==o.PAGE||_!==E.PAGE_TEMPLATE&&_!==E.DIALOG_TEMPLATE||O.events.push(A.GRID);T.length>0&&(O.properties[_]=T)}for(let _ in e._properties)J(e._properties,_)&&(J(t._properties,_)||C(_,A.REMOVE_PROP));P(A.ERRORS,A.NO_ERRORS,"hasErrors"),P(A.WARNINGS,A.NO_WARNINGS,"hasWarnings")}l.push(O);for(let e in a)if(J(a,e)){p=me(e,{parentId:t.id},!1);for(let t=0;t<p.length;t++){O={component:p[t],events:[],properties:{},action:""};for(let _=0;_<a[e].length;_++)i=a[e][_],I(p[t],i,A.META_DATA);l.push(O)}}let d=O.component;return S(d.getParent()),d.getAllChildren().forEach((e=>{e._callComponentTypeCallback({action:R.PARENT_UPDATE,property:e.typeId,value:e.id}),l.push({component:e,events:[A.META_DATA],action:_||"",properties:e.getProperties().reduce(((e,t)=>("HIDDEN"!==h[t.id].type&&(e[t.id]=[A.META_DATA]),e)),{}),errors:[],data:{lNotification:O}})})),d.typeId===o.WORKFLOW_VERSION&&r&&J(O.properties,E.STATE)&&Object.keys(r.properties).forEach((e=>{"HIDDEN"!==h[e].type&&I(d,e,A.META_DATA)})),[o.WORKFLOW_TRANS,o.WORKFLOW_BRANCH].includes(d.typeId)&&[E.FROM_WORKFLOW_ACTIVITY,E.TO_WORKFLOW_ACTIVITY].forEach((e=>{let t=d.getProperty(e)?.getValue();if(t){let e=me(o.WORKFLOW_ACTIVITY,{id:t});e.length&&S(e[0])}})),l}function be(t){!function(){var _,r,n,i,o,E,s=Q.slice();for(_=0;_<t.length;_++)for(o=t[_],r=0;r<s.length;r++){if(i=!1,(E=s[r].filter).component)E.component instanceof ge?E.component.typeId===o.component.typeId&&E.component.id===o.component.id&&(i=!0):(E.component.typeId===o.component.typeId||-1!==e.inArray(o.component.typeId,E.component.typeIds))&&(i=!0);else if(E.components){for(n=0;n<E.components.length;n++)if(E.components[n]instanceof ge){if(E.components[n].typeId===o.component.typeId&&E.components[n].id===o.component.id){i=!0;break}}else if(E.components[n].typeId===o.component.typeId){i=!0;break}}else i=!0;if(i&&E.properties.length>0)for(i=!1,n=0;n<E.properties.length;n++)if(J(o.properties,E.properties[n])){i=!0;break}if(i&&E.events.length>0)for(i=!1,n=0;n<E.events.length;n++){if(-1!==e.inArray(E.events[n],o.events)){i=!0;break}for(let t in o.properties)if(J(o.properties,t)&&-1!==e.inArray(E.events[n],o.properties[t])){i=!0;break}if(i)break}i&&(s[r].sendInBulk?s[r].pendingNotifications.push(o):s[r].callback.call(this,o))}for(let e=0;e<s.length;e++)s[e].sendInBulk&&s[e].pendingNotifications.length>0&&(s[e].callback.call(this,s[e].pendingNotifications),s[e].pendingNotifications=[])}(),function(){for(let e=0;e<Q.length;e++)Q[e].filter.component instanceof ge&&Q[e].filter.component._status===N.DELETED&&(Q.splice(e,1),e=-1)}()}function xe(){for(var e in y)if(J(y,e)&&(y[e].isPageComponent&&void 0!==G||e===o.PAGE&&void 0!==G||!y[e].isPageComponent&&void 0===G||y[e].isSharedDesignerComponent))for(var t in F[e])if(J(F[e],t)&&F[e][t].hasChanged())return!0;return!1}function Je(e){H[e.typeId][e.id]={},z(F[e.typeId][e.id]._properties,(function(t,_){H[e.typeId][e.id][t]=_._value}))}function ke(){return F[o.PAGE][G]._lock}function we(e){for(let t in e)J(e,t)&&(y[t].createUrl=e[t].createUrl,y[t].editUrl=e[t].editUrl,y[t].copyUrl=e[t].copyUrl)}function Xe(e){for(var t in e)if(J(e,t))for(let _=0;_<e[t].length;_++)new ge({typeId:t,component:e[t][_]})}return{COMP_TYPE:o,PROP:E,SOURCE_LOCATION_PROPS:s,NO_NODE_COMP_TYPES:a,UNSORTABLE_COLUMN_DATA_TYPES:["CLOB","BLOB","SDO_GEOMETRY","BFILE","ANYDATA"],SOURCE_SNIPPET_PROPS:T,LOCATION:S,PROP_TYPE:C,EVENT:A,CALLBACK_ACTION:R,MESSAGE_ACTION:P,Component:ge,getComponents:me,getComponentsAdvanced:Me,getDisplayProperty:Ae,fullTextSearch:function(e,_){var r,n,i=[];if(e instanceof RegExp)n=e;else{if(""===e||void 0===e)return[];n=new RegExp(t.escapeRegExp(e),"i")}if(J(_,"typeId"))z(F[_.typeId],(function(e,t){t._status!==N.DELETED&&z(t._properties,(function(e,t){h[e].isSearchable&&t._value.match(n)&&i.push(t)}))}));else if(J(_,"properties"))for(let e=0;e<_.properties.length;e++)r=_.properties[e],h[r.id].isSearchable&&r._value.match(n)&&i.push(r);return i.sort((function(e,t){var _=e.component.getDisplayTitle(),r=t.component.getDisplayTitle();return _===r?y[e.component.typeId].properties[e.id].displaySeq-y[t.component.typeId].properties[t.id].displaySeq:_.localeCompare(r)})),i},displayTitleSearch:function(e,_){var r,n=[];if(e instanceof RegExp)r=e;else{if(""===e||void 0===e)return[];r=new RegExp(t.escapeRegExp(e),"i")}return z(F[_],(function(e,t){t._status!==N.DELETED&&t.getDisplayTitle().match(r)&&n.push(t)})),n.sort((function(e,t){var _=e.getDisplayTitle(),r=t.getDisplayTitle();return _.localeCompare(r)})),n},getItemsLov:Ge,getPagesLov:Ve,getEmailPlaceholders:function(e){let t;return q("getEmailPlaceholders",{x01:e},{success:function(e){t=e.placeholders},async:!1}),t},transaction:Qe,hasChanged:xe,saveChanges:function(e){var t,_,r={},n=!1;function s(e,r,n){var i=[E.GRID_NEW_GRID,E.GRID_NEW_ROW,E.GRID_ROW_CSS_CLASSES,E.GRID_COLUMN,E.GRID_NEW_COLUMN,E.GRID_COLUMN_SPAN,E.GRID_ROW_SPAN,E.GRID_COLUMN_CSS_CLASSES,E.GRID_COLUMN_ATTRIBUTES,E.GRID_LABEL_COLUMN_SPAN,E.LABEL_ALIGNMENT,E.ELEMENT_FIELD_ALIGNMENT,E.READ_ONLY_HTML_ATTRIBUTES];if(J(_,"_grid")){t[n]=[];for(let t=0;t<i.length;t++)J(r,i[t])&&e[n].push(i[t])}}for(var p in y)if(J(y,p)&&(y[p].isSharedDesignerComponent||y[p].isPageComponent&&void 0!==G||p===o.PAGE&&void 0!==G||!y[p].isPageComponent&&void 0===G))for(var O in F[p])if(J(F[p],O)&&(_=F[p][O],F[p][O].hasChanged()||_.hasErrors())){if(_.hasErrors()&&_._status!==N.DELETED)return void e({error:$("SAVE.FIX_ERRORS")});if(J(r,p)||(r[p]={c:[],u:[],d:[]}),t={id:_.id,parentId:_.parentId,pageId:_.pageId},i.getLevel()!==i.LOG_LEVEL.OFF&&(t.displayTitle=_.getDisplayTitle()),s(t,_._properties,"gridProperties"),_._status===N.CREATED){t.properties={};for(let e in _._properties)J(_._properties,e)&&(t.properties[e]=_._properties[e]._value)}else if(_._status===N.UPDATED){s(t,H[p][O],"oldGridProperties"),t.properties={};for(let e in _._properties)J(_._properties,e)&&(J(H[p][O],e)?H[p][O][e]!==_._properties[e]._value&&(t.properties[e]={oldValue:H[p][O][e],newValue:_._properties[e]._value}):t.properties[e]=_._properties[e]._value);J(H[p][O],E.REGION_IMAGE)&&!J(_._properties,E.REGION_IMAGE)&&(t.properties[E.REGION_IMAGE]={oldValue:H[p][O][E.REGION_IMAGE],newValue:""})}r[p][_._status].push(t),n=!0}n?(i.trace("saveChanges: modified components %0",r),q("writePageData",{x01:M,x02:G,f01:JSON.stringify(r)},{success:function(t){!function(e,t,_){var r=[];if(e.errors)!function(e){var t,_,n;n={},t=new ge({component:F[e.typeId][e.id],isDetached:!0});for(let t=0;t<e.errors.length;t++)_=J(e.errors[t],"propertyId")?e.errors[t].propertyId:Ae(e).id,J(n,_)||(n[_]=[]),n[_].push(e.errors[t].message);z(n,(function(t,_){if(!J(F[e.typeId][e.id]._properties,t))throw new Error(`Error reported for property id ${t} which doesn't exist for current component!`);F[e.typeId][e.id]._properties[t].errors=_})),F[e.typeId][e.id]._status===N.DELETED&&(F[e.typeId][e.id]._status=N.UNCHANGED),r=r.concat(We(t,F[e.typeId][e.id]))}(e);else if(z(e,(function(e,t){var _,n,i;for(let o=0;o<t.length;o++)_=t[o],n=new ge({component:F[e][_.id],isDetached:!0}),(i=new ge({typeId:e,component:_,isDetached:!0}))._setGridProperties(!0),i._copyToGlobal(),Je(F[e][_.id]),r=r.concat(We(n,F[e][_.id]))})),z(t,(function(e,t){J(t,N.DELETED)&&function(e,t){for(let _=0;_<t.length;_++)F[e][t[_].id]._status===N.DELETED&&delete F[e][t[_].id]}(e,t[N.DELETED])})),!ae()){const e=F[o.PAGE][G],t="Y"===e.getProperty(E.PAGE_AUTHENTICATION).getValue(),_=me(o.META_TAG).length;t&&(e.getProperty(E.ENABLE_META_TAGS)._value=_>0?"Y":"N")}be(r),e.errors?_({error:$("SAVE.FAILED")}):_({})}(t,r,e)},error:function(t,_,r){e({error:r})}})):e({error:"NO_CHANGES"})},getPageLockState:ke,lockPage:function(t){var _=e.Deferred();return q("lockPage",{x01:M,x02:G,x03:t},{success:function(e){F[o.PAGE][G]._lock=e,e.isLockedByCurrentUser?(x=!1,_.resolve(e)):(x=!xe(),_.reject($("LOCKED.BY_OTHER_USER",e.owner)))}}),_.promise()},unlockPage:function(){var t=e.Deferred(),_=ke();return _?_.isLockedByCurrentUser?q("unlockPage",{x01:M,x02:G},{success:function(e){"OK"===e.status?(x=!1,F[o.PAGE][G]._lock=!1,t.resolve()):(x=!xe(),t.reject(e.reason))}}):t.reject("Page not locked by current user!"):t.reject("Page is already unlocked!"),t.promise()},unsubscribePage:function(){let t=e.Deferred();return q("unsubscribePage",{x01:M,x02:G},{success:function(e){"OK"===e.status?t.resolve():t.reject(e.reason)}}),t.promise()},getTemplateOptions:se,getTheme:ne,getRegionTemplate:De,getParentRegionId:Pe,enquoteIdentifier:te,setComponentData:Xe,getUniquePropertyValue:ue,isMatchingDataType:Oe,getWorkflowLov:function(e,t){let _,r=[];if("wf_params"===e.type?(_=me(o.WORKFLOW_PARAM,{parentId:e.componentId}),_.forEach((e=>{r.push({name:e.getProperty(E.WF_IDENTIFICATION_STATIC_ID).getValue(),label:e.getProperty(E.ITEM_LABEL).getValue(),r:e.getProperty(E.WF_IDENTIFICATION_STATIC_ID).getValue()})}))):"vs_vars"===e.type?(_=me(o.WORKFLOW_VARIABLE,{parentId:e.componentId}),_.forEach((e=>{r.push({name:e.getProperty(E.WF_IDENTIFICATION_STATIC_ID).getValue(),label:e.getProperty(E.ITEM_LABEL).getValue(),r:e.getProperty(E.WF_IDENTIFICATION_STATIC_ID).getValue()})}))):"act_vars"===e.type&&(_=me(o.WORKFLOW_ACT_VAR,{parentId:e.componentId}),_.forEach((e=>{r.push({name:e.getProperty(E.WF_IDENTIFICATION_STATIC_ID).getValue(),label:e.getProperty(E.ITEM_LABEL).getValue(),r:e.getProperty(E.WF_IDENTIFICATION_STATIC_ID).getValue()})}))),!t)return r;t(r)},isSharedDesignerComponent:K,getPageTemplate:ie,getRegionPlugin:Ee,getSlots:Se,getSlot:de,getTemplateComponentType:oe,initModelConfig:function(t,_,n){var i;i=t,i=e.extend(!0,{displayGroups:{},properties:{},componentTypes:{},plugins:{},pluginCategories:{},events:{browser:[],apex:[],component:[],custom:[],lookupMap:{}},text:{},formatMasks:{numbers:[],dates:[]}},i),U=i.displayGroups,h=i.properties,y=i.componentTypes,D=i.pluginCategories,g=i.events,f=i.formatMasks,W=_.instanceParameters,_e(i.plugins,"%0"),function(e){we(e.componentTypes)}(_),function(t){e.extend(!0,{plugins:{}},t),we((m=t).componentTypes),ee(m.userInterface,{globalPageId:""}),_e(t.plugins,r.getMessage("MODEL.POSTFIX.PLUGIN"),t.userInterface.themeId);for(let e in m.themes)J(m.themes,e)&&(m.themes[e].templates[o.REGION_TEMPLATE][""]=m.themes[e].templates[o.REGION_TEMPLATE][0],delete m.themes[e].templates[o.REGION_TEMPLATE][0],m.themes[e].templates[o.FIELD_TEMPLATE][""]=m.themes[e].templates[o.FIELD_TEMPLATE][0],delete m.themes[e].templates[o.FIELD_TEMPLATE][0],ee(m.themes[e].defaultTemplates,{page:"",dialog:"",region:"",field:"",button:"",report:"",ir:"",list:"",breadcrumb:"",calendar:""}))}(n),function(){for(let e in y)if(J(y,e)){y[e].id=e,ee(y[e],{parentId:null,isOneToOneRelation:!1,isPageComponent:!1,isSharedComponent:!1,isSharedDesignerComponent:!1,refByProperties:[],childComponentTypes:[]}),F[e]={};for(let t in y[e].properties)J(y[e].properties,t)&&(y[e].properties[t].propertyId=t,ee(y[e].properties[t],{defaultValue:"",helpText:"",dependingOn:[],refByChilds:[],refByDependingOn:[]}))}for(let e in h)if(J(h,e)&&(h[e].id=e,ee(h[e],{helpText:"",hasPlSqlCheck:!1,isQueryOnly:!1,isInternal:!1,isSearchable:!0,dataTypes:{},refByComponentTypes:[]}),J(h[e],"lovValues"))){h[e].lovValuesMap={};for(let t=0;t<h[e].lovValues.length;t++)h[e].lovValuesMap[h[e].lovValues[t].r]=t}z(g,(function(e,t){if("lookupMap"!==e)for(let e=0;e<t.length;e++)g.lookupMap[t[e].r]=t[e]}))}(),function(){var e,t,_;function r(e,r){y[e].properties[r]&&y[e].properties[r].refByChilds.push({typeId:t,id:_})}for(let e in h)J(h,e)&&("COMPONENT"===h[e].lovType?y[h[e].lovComponentTypeId].refByProperties.push(e):[C.ITEM,C.ORDER_BY_ITEM,C.SESSION_STATE_VALUE].includes(h[e].type)?y[o.PAGE_ITEM].refByProperties.push(e):h[e].type===C.FACET&&(y[o.FACET].refByProperties.push(e),y[o.FACET_GROUP_ITEM].refByProperties.push(e),y[o.SFILTER].refByProperties.push(e),y[o.SFILTER_GROUP_ITEM].refByProperties.push(e)));for(t in y)if(J(y,t))for(_ in null!==y[t].parentId&&y[y[t].parentId].childComponentTypes.push(t),y[t].properties)if(J(y[t].properties,_)){if(e=y[t].properties[_],h[_].refByComponentTypes.push(t),e.parentProperty&&e.parentProperty.id){if(r(e.parentProperty.typeId,e.parentProperty.id),e.parentProperty.id===E.CHILD_SOURCE_LOCATION)for(let t=0;t<s.length;t++)r(o.REGION,s[t]),e.parentProperty.typeId===o.MAP_LAYER?r(o.MAP_LAYER,s[t]):r(o.JET_CHART_SERIES,s[t]);if(e.parentProperty.id===E.REGION_SQL)for(let e=0;e<s.length;e++)r(o.REGION,s[e])}for(let r=0;r<e.dependingOn.length;r++)y[t].properties[e.dependingOn[r].id].refByDependingOn.push({propertyId:_,hasToExist:e.dependingOn[r].hasToExist})}}(),e(document).trigger("modelConfigLoaded"),Xe(_.components),Xe(n.components)},setComponentTypeCallback:function(e,t,_=[]){const r=[R.CHANGED,R.CREATED,R.REMOVED,R.VALIDATE];y[e].actions=[...r,..._],y[e].callback=t},setPluginCallback:function(e,t,_){y[e].pluginType.plugins[t].callback=_},getNavListTemplateId:function(){var e=F[o.PAGE][G],t="";return ae()||"L"!==e.getProperty(E.PAGE_NAVIGATION_TYPE).getValue()||(e.getProperty(E.NAVIGATION_LIST_TEMPLATE)?t=e.getProperty(E.NAVIGATION_LIST_TEMPLATE).getValue():V.navList&&(t=V.navList.templateId||"")),t},getNavListId:function(){var e=F[o.PAGE][G],t="";return ae()||"L"!==e.getProperty(E.PAGE_NAVIGATION_TYPE).getValue()||(e.getProperty(E.NAVIGATION_LIST)?t=e.getProperty(E.NAVIGATION_LIST).getValue():V.navList&&(t=V.navList.listId||"")),t},getNavBarListId:function(){return!ae()&&V.navBar&&"LIST"===V.navBar.type&&V.navBar.listId||""},getTabSetId:function(){var e=F[o.PAGE][G],t="";return ae()||"T"!==e.getProperty(E.PAGE_NAVIGATION_TYPE).getValue()||(t=e.getProperty(E.STANDARD_TAB_SET).getValue()),t},getInstanceParameter:e=>W[e],getButtonTemplates:function(){return ne().templates[o.BUTTON_TEMPLATE]},getThemeIcons:function(){return ne().icons||{}},getParsingSchema:function(){return m.parsingSchema},getPrimaryLanguage:function(){return m.primaryLanguage},getCompatibilityMode:function(){return parseFloat(m.compatibilityMode)},getDisplayGroup:function(e){return U[e]},getComponentType:function(e){return y[e]},getProperty:function(e){return h[e]},getPluginProperty:function(e,t,_){var r;r=(e===o.REGION?o.REGION_PLUGIN_ATTR:l.includes(e)?o.PAGE_ITEM:I.includes(e)?o.PAGE_PROCESS:e)+"_"+t+"_"+_;for(let e in h)if(J(h,e)&&h[e].name===r)return h[e]},hasPluginActions:function(e,t){let _=y[e].pluginType;return _&&J(_.plugins,t)&&_.plugins[t].hasActions},getPluginActionPosition:function(e){return J(v,e)?v[e]:{}},getActionPositionType:function(e){let t=e._properties[E.HIDDEN_TEMPLATE_ID]._value;return J(B,t)?B[t].type:""},getLovTitle:function(e,t,_){var r=y[e].properties[t].nullText||"",n=h[t];return"STATIC"===n.lovType?J(n.lovValuesMap,_)&&(r=n.lovValues[n.lovValuesMap[_]].d):"EVENTS"===n.lovType&&J(g.lookupMap,_)&&(r=g.lookupMap[_].d),r},getSourceLocationProperty:function(e){let t,_;for(t=0;t<s.length;t++)if(_=e.getProperty(s[t]),_)return _},getErrorComponents:function(){var e,t={};for(let _ in y)J(y,_)&&(e=me(_,{hasErrors:!0})).length>0&&(t[_]=e);return t},observer:function(t,_,r,n){Q.push({widget:t,filter:e.extend({},{properties:[],events:[]},_),callback:r,sendInBulk:n,pendingNotifications:[]})},unobserver:function(e,t,_){var r,n;for(let i=0;i<Q.length;i++)Q[i].widget===e&&(r=Q[i].filter,J(t,"component")?t.component instanceof ge&&r.component instanceof ge?t.component.typeId===r.component.typeId&&t.component.id===r.component.id&&(n=!0):t.component.typeId===r.component.typeId&&(n=!0):n=!0,n&&J(t,"properties")&&(n=r.properties.join(",")===t.properties.join(",")),n&&J(t,"events")&&(n=r.events.join(",")===t.events.join(",")),n&&_&&(n=Q[i].callback===_),n&&(Q.splice(i,1),i=-1))},setCurrentAppId:function(e){M=e},getCurrentAppId:function(){return M},setCurrentPageId:function(e){var t=F[o.PAGE][e]._lock,_=F[o.PAGE][e]._properties[E.PAGE_SUBSCRIBED_FROM]?._value;G=e+"",V=m.userInterface,x=!!(b.isReadOnly||!1!==t&&!t.isLockedByCurrentUser||_),fe(!0),function(){function e(e,t){Je(t)}z(F,(function(t,_){H[t]={},z(_,e)}))}()},getCurrentPageId:function(){return G},getGlobalPageId:function(){return V.globalPageId},isGlobalPage:ae,hasMetaTags:function(){const e=F[o.PAGE][G].getProperty(E.ENABLE_META_TAGS),t=me(o.META_TAG).length;return e&&"Y"===e.getValue()||t>0},isPageReadOnly:function(){return x},getRegionColumns:Ce,clear:function(){U=void 0,h=void 0,y=void 0,D=void 0,g=void 0,f=void 0,m=void 0,F={},H={},M=void 0,G=void 0,V=void 0,x=!0,B={},v={};for(let e=0;e<Q.length;e++)Q[e].filter.component instanceof ge&&(Q.splice(e,1),e=-1)},init:function(e){b=e},getAll:function(){return{displayGroups:U,properties:h,componentTypes:y,pluginCategories:D,sharedComponents:m,components:F,baseComponents:H,observers:Q}}}}(apex.jQuery,apex.util,apex.locale,apex.lang,apex.server,apex.debug);
window.pageDesigner={},function(e,t,a,n,o,i,r,s,l,c,P,_){"use strict";var O,g,d=null,u={},E="0:renderTree_container,0:dynActTree_container,0:procTree_container,0:sharedComp_container,1:grid_layout,1:search,1:help,2:peComponentProperties,2:peAttributesTabPanel,2:pePrintingTabPanel",p={},N=new Map,A="is-processing",C=".a-Icon",T="aria-controls",f="aria-label",I="title",m="option",R="active",L="refresh",h="disable",S="enable",b="disabled",D="pd-undo",v="pd-redo",G="pd-save-page",y="pd-save-run-page",M="pd-expand-restore",U="pd-goto-help",B="pd-goto-rendering-tree",V="pd-goto-dynamic-actions-tree",w="pd-goto-processing-tree",H="pd-goto-shared-components-tree",x="pd-goto-grid-layout",Y="pd-goto-property-editor-tab-main",F="pd-goto-property-editor-tab-attributes",k="pd-goto-property-editor-tab-printing",W="pd-page-search",K="pd-goto-gallery-regions",X="pd-goto-gallery-items",J="pd-goto-gallery-buttons",Q="pd-goto-messages",$="pd-goto-next-page",j="pd-goto-prev-page",z="pd-show-shortcuts",q="pd-advisor",Z="pd-create-page",ee="pd-create-copy-page",te="pd-create-shared-component",ae="pd-create-breadcrumb-region",ne="pd-two-column",oe="pd-three-column",ie="pd-enable-text-messages-picker",re="TAB_LAYOUT_2",se="TAB_LAYOUT_3",le="TWO_COLUMN_MODE",ce="ENABLE_TOOLTIPS",Pe="ENABLE_LAYOUT_VIEW",_e="ENABLE_TEXT_MESSAGES_PICKER",Oe="grid_layout",ge="search",de="renderTree_container",ue="peComponentProperties",Ee="peAttributesTabPanel",Ne="pePrintingTabPanel",Ae=["#trees","#editor_tabs","#peTabs"];const Ce=".a-TabsContainer",Te="click",fe=a.hasOwnProperty;function Ie(){e.getCurrentPageId()!==t("#go_to_page").val().trim()&&t("#go_to_page").val(e.getCurrentPageId())}function me(e,t,a){return t.p_arg_names=["FB_FLOW_ID"],t.p_arg_values=[$v("P4500_CURRENT_APP")],r.process(e,t,a)}function Re(e){setTimeout((()=>{t(document).find(":data(ui-tooltip):not(.a-Gallery,.a-ControlBar)").tooltip("option","disabled",!e)}),0)}function Le(){Ae.forEach((function(e){var a=t(e),n=a.find(".ui-tabs-nav").first(),o=n.children(),i=a.width(),r=p[e];void 0===r&&function(e,a){var n=0;a.each((function(){var e=t(this),a=e.find(".a-Tabs-label"),o=e.find(".a-Icon"),i=a.length>0?a.width():0,r=o.length>0?o.width():0;n+=i+r})),p[e]=n}(e,o),n.toggleClass("ui-tabs--iconOnly",r>i).toggleClass("ui-tabs--single",1===o.length)}))}function he(){var e,a="";return u={},Ae.forEach((function(n,o){t(n).find(".ui-tabs-nav").first().children().each((function(i,r){e=t(r).attr(T),u[e]={tabs:n,index:i},a&&(a+=","),a+=o+":"+e}))})),Le(),a}function Se(){var e,a=t("#sp_main_content"),n=he();e=a.hasClass("a-Splitter")?se:re,i.savePreference(e,n)}function be(e,a){var n,o,i,r,s=[],l=t(),c=t("#sp_main_content"),P={};for(e||(e=E),Ae.forEach((function(e){var a=t(e),n=a.children().first().children(".ui-tabs-nav");s.push({tabs:n,panels:a,activeName:n.children().eq(a.tabs(m,R)).attr(T)}),l=l.add(n.children())})),l.each((function(){var e=t(this),a=e.attr(T),n=t("#"+a);e.remove().removeClass("ui-tabs-active ui-state-active ui-state-hover ui-state-focus").removeAttr("role"),n.detach().removeClass("ui-tabs-panel").removeAttr("role"),P[a]={t:e,p:n}})),(r=e.indexOf("0:")>=0)&&!c.hasClass("a-Splitter")&&d?(t("#left_col").show(),c.splitter(d)):!r&&c.hasClass("a-Splitter")&&(d=t("#sp_main_content").splitter(m),t("#left_col").hide(),c.splitter("destroy").addClass("resize").trigger("resize"),s[1].activeName=s[0].activeName),o=e.split(","),n=0;n<o.length;n++)i=o[n].split(":"),P[i[1]]&&(s[i[0]].tabs.append(P[i[1]].t),s[i[0]].panels.append(P[i[1]].p));s.forEach((function(e){var t=0;e.panels.tabs(L),a||(e.panels.children("#"+e.activeName).length&&(t=e.tabs.children("[aria-controls="+e.activeName+"]").index()),e.panels.tabs(m,R,t))})),he()}function De(e){var a=u[e];a.tabs===Ae[0]?Be("sp_main_content"):a.tabs===Ae[2]&&Be("sp_right_content"),t(a.tabs).tabs(m,R,a.index)}t.widget("ui.tabs",t.ui.tabs,{_isLocal:()=>!0}),i.COMMENTED_OUT_ID=void 0,i.textMessagesPickerEnabled=!1,i.CSS={IS_ERROR:"is-error",IS_WARNING:"is-warning",IS_CONDITIONAL:"is-conditional",IS_NEVER:"is-never",DIALOG_FLUSH_BODY:"ui-dialog-flushBody",IS_CHANGED:"is-changed"},i.SETTINGS={COMPONENT_TITLE:{LABEL:"l",NAME:"n"}},i.settingsState={componentTitle:i.SETTINGS.COMPONENT_TITLE.NAME},i.msg=function(e){return n.getMessage("PD."+e)},i.format=function(e){var t=[i.msg(e)].concat(Array.prototype.slice.call(arguments,1));return n.format.apply(this,t)},i.formatNoEscape=function(e){var t=[i.msg(e)].concat(Array.prototype.slice.call(arguments,1));return n.formatNoEscape.apply(this,t)},i.tooltipContentForComponent=function(t){var n,o,r=t.typeId,s=a.htmlBuilder();function l(e,a,n){var o=t.getProperty(e),i=n;!o||void 0!==a&&o.getValue()===a||(i||(i=o.getDisplayValue()),""!==i&&s.markup("<li><span class='tt-label'>").content(o.getMetaData().prompt).markup(": </span><span class='tt-value'>").content(i).markup("</span></li>"))}function c(){l(e.PROP.GRID_NEW_GRID,"N"),l(e.PROP.GRID_NEW_ROW,"N"),l(e.PROP.GRID_COLUMN,""),l(e.PROP.GRID_NEW_COLUMN,"N"),l(e.PROP.GRID_COLUMN_SPAN,"")}function P(){var a=t.getProperty(e.PROP.JS_CONDITION);a&&""!==a.getValue()?(l(e.PROP.JS_CONDITION),l(e.PROP.JS_CONDITION_ITEM),l(e.PROP.JS_COND_VALUE),l(e.PROP.JS_COND_LIST)):(a=t.getProperty(e.PROP.JS_CONDITION_WHEN_IG))&&""!==a.getValue()&&(l(e.PROP.JS_CONDITION_WHEN_IG),l(e.PROP.JS_CONDITION_ITEM_WHEN_IG),l(e.PROP.JS_CONDITION_COLUMN_WHEN_IG),l(e.PROP.JS_COND_VALUE_WHEN_IG),l(e.PROP.JS_COND_LIST_WHEN_IG))}return r===e.COMP_TYPE.PAGE?l(e.PROP.TITLE):r===e.COMP_TYPE.REGION?(l(e.PROP.REGION_TYPE),c()):r===e.COMP_TYPE.PAGE_ITEM?(l(e.PROP.ITEM_LABEL),l(e.PROP.ITEM_TYPE),c()):r===e.COMP_TYPE.BUTTON?(l(e.PROP.BUTTON_LABEL),(n=t.getProperty(e.PROP.BUTTON_TARGET))?l(e.PROP.BUTTON_TARGET,"",i.splitApexUrl(n.getValue()).display):l(e.PROP.BUTTON_ACTION),c()):r===e.COMP_TYPE.DA_EVENT?(o=t.getProperty(e.PROP.WHEN_TYPE),l(e.PROP.EVENT),l(e.PROP.CUSTOM_EVENT),o&&""!==o.getValue()&&(l(e.PROP.WHEN_REGION),l(e.PROP.WHEN_IG_REGION),l(e.PROP.WHEN_COLUMNS),l(e.PROP.WHEN_BUTTON),l(e.PROP.WHEN_ITEMS),l(e.PROP.WHEN_DOM_OBJECT),l(e.PROP.WHEN_JQUERY_SELECTOR),l(e.PROP.WHEN_JAVASCRIPT_EXPRESSION)),P()):r===e.COMP_TYPE.DA_ACTION?function(){var a=t.getProperty(e.PROP.AFFECTED_TYPE);a&&""!==a.getValue()&&(l(e.PROP.AFFECTED_REGION),l(e.PROP.AFFECTED_BUTTON),l(e.PROP.AFFECTED_ITEMS),l(e.PROP.AFFECTED_COLUMNS),l(e.PROP.AFFECTED_DOM_OBJECT),l(e.PROP.AFFECTED_JQUERY_SELECTOR),l(e.PROP.AFFECTED_JAVASCRIPT_EXPRESSION),"TRIGGERING_ELEMENT"!==a.getValue()&&"EVENT_SOURCE"!==a.getValue()||l(e.PROP.AFFECTED_TYPE)),l(e.PROP.FIRE_ON_PAGE_LOAD),P()}():r===e.COMP_TYPE.VALIDATION?(""===t.getProperty(e.PROP.VALIDATION_REGION).getValue()?(l(e.PROP.VALIDATION_TYPE),l(e.PROP.VAL_SQL_STATEMENT),l(e.PROP.VAL_ITEM),l(e.PROP.VAL_VALUE),l(e.PROP.VAL_REGULAR_EXPRESSION),l(e.PROP.VAL_PLSQL_FUNC_BODY_ERROR),l(e.PROP.VAL_JS_FUNC_BODY_ERROR),l(e.PROP.VAL_JAVA_FUNC_BODY_ERROR),l(e.PROP.VAL_PYTHON_FUNC_BODY_ERROR),l(e.PROP.VAL_PLSQL),l(e.PROP.VAL_SQL_EXPRESSION_BOOLEAN),l(e.PROP.VAL_PLSQL_EXPRESSION_BOOLEAN),l(e.PROP.VAL_JS_EXPRESSION_BOOLEAN),l(e.PROP.VAL_JAVA_EXPRESSION_BOOLEAN),l(e.PROP.VAL_PYTHON_EXPRESSION_BOOLEAN),l(e.PROP.VAL_FUNC_BODY_LANG),l(e.PROP.VAL_PLSQL_FUNC_BODY_BOOLEAN),l(e.PROP.VAL_JS_FUNC_BODY_BOOLEAN),l(e.PROP.VAL_JAVA_FUNC_BODY_BOOLEAN),l(e.PROP.VAL_PYTHON_FUNC_BODY_BOOLEAN)):(l(e.PROP.VALIDATION_REGION),l(e.PROP.REGION_VALIDATION_TYPE),l(e.PROP.REGION_VAL_SQL_STATEMENT),l(e.PROP.REGION_VAL_COLUMN),l(e.PROP.REGION_VAL_VALUE),l(e.PROP.REGION_VAL_REGULAR_EXPRESSION),l(e.PROP.REGION_VAL_PLSQL_FUNC_BODY_ERROR),l(e.PROP.REGION_VAL_JS_FUNC_BODY_ERROR),l(e.PROP.REGION_VAL_JAVA_FUNC_BODY_ERROR),l(e.PROP.REGION_VAL_PYTHON_FUNC_BODY_ERROR),l(e.PROP.REGION_VAL_PLSQL),l(e.PROP.REGION_VAL_SQL_EXPRESSION_BOOLEAN),l(e.PROP.REGION_VAL_PLSQL_EXPRESSION_BOOLEAN),l(e.PROP.REGION_VAL_JS_EXPRESSION_BOOLEAN),l(e.PROP.REGION_VAL_JAVA_EXPRESSION_BOOLEAN),l(e.PROP.REGION_VAL_PYTHON_EXPRESSION_BOOLEAN),l(e.PROP.REGION_VAL_FUNC_BODY_LANG),l(e.PROP.REGION_VAL_PLSQL_FUNC_BODY_BOOLEAN),l(e.PROP.REGION_VAL_JS_FUNC_BODY_BOOLEAN),l(e.PROP.REGION_VAL_JAVA_FUNC_BODY_BOOLEAN),l(e.PROP.REGION_VAL_PYTHON_FUNC_BODY_BOOLEAN)),l(e.PROP.ALWAYS_EXECUTE)):r===e.COMP_TYPE.PAGE_PROCESS?l(e.PROP.PAGE_PROCESS_TYPE):r===e.COMP_TYPE.PAGE_COMPUTATION?(l(e.PROP.COMPUTATION_STATIC_VALUE),l(e.PROP.COMPUTATION_SQL_STATEMENT),l(e.PROP.COMPUTATION_SQL_COLON),l(e.PROP.COMPUTATION_SQL_EXPRESSION_VARCHAR2),l(e.PROP.COMPUTATION_PLSQL_EXPRESSION_VARCHAR2),l(e.PROP.COMPUTATION_JS_EXPRESSION_VARCHAR2),l(e.PROP.COMPUTATION_JAVA_EXPRESSION_VARCHAR2),l(e.PROP.COMPUTATION_PYTHON_EXPRESSION_VARCHAR2),l(e.PROP.COMPUTATION_FUNC_BODY_LANG),l(e.PROP.COMPUTATION_PLSQL_FUNC_BODY_VARCHAR2),l(e.PROP.COMPUTATION_JS_FUNC_BODY_VARCHAR2),l(e.PROP.COMPUTATION_JAVA_FUNC_BODY_VARCHAR2),l(e.PROP.COMPUTATION_PYTHON_FUNC_BODY_VARCHAR2),l(e.PROP.COMPUTATION_ITEM_VALUE),l(e.PROP.COMPUTATION_PREFERENCE_VALUE)):r===e.COMP_TYPE.BRANCH?(l(e.PROP.BRANCH_TYPE),(n=t.getProperty(e.PROP.TARGET))?l(e.PROP.TARGET,"",i.splitApexUrl(n.getValue()).display):(l(e.PROP.BRANCH_PAGE_NUMBER),l(e.PROP.BRANCH_ACCEPT_REQUEST),l(e.PROP.BRANCH_ITEM))):r===e.COMP_TYPE.IR_COLUMN?(l(e.PROP.COLUMN_HEADING),l(e.PROP.IR_COLUMN_DISPLAY_TYPE)):r===e.COMP_TYPE.CLASSIC_RPT_COLUMN?(l(e.PROP.COLUMN_HEADING),l(e.PROP.CLASSIC_REPORT_COLUMN_TYPE)):r===e.COMP_TYPE.TAB_FORM_COLUMN&&(l(e.PROP.COLUMN_HEADING),l(e.PROP.TAB_FORM_COLUMN_TYPE)),function(){var a=t.getProperty(e.PROP.CONDITION_TYPE);l(e.PROP.WHEN_BUTTON_PRESSED),a&&""!==a.getValue()&&(l(e.PROP.CONDITION_TYPE),l(e.PROP.CONDITION_SQL_STATEMENT),l(e.PROP.CONDITION_VALUE1),l(e.PROP.CONDITION_ITEM1),l(e.PROP.CONDITION_LIST),l(e.PROP.CONDITION_PREFERENCE),l(e.PROP.CONDITION_PAGE),l(e.PROP.CONDITION_PAGES),l(e.PROP.CONDITION_TEXT),l(e.PROP.CONDITION_VALUE2),l(e.PROP.CONDITION_ITEM2),l(e.PROP.CONDITION_TEXT2),l(e.PROP.CONDITION_SQL_EXPRESSION_BOOLEAN),l(e.PROP.CONDITION_PLSQL_EXPRESSION_BOOLEAN),l(e.PROP.CONDITION_JS_EXPRESSION_BOOLEAN),l(e.PROP.CONDITION_JAVA_EXPRESSION_BOOLEAN),l(e.PROP.CONDITION_PYTHON_EXPRESSION_BOOLEAN),l(e.PROP.CONDITION_PLSQL_FUNC_BODY_BOOLEAN),l(e.PROP.CONDITION_JS_FUNC_BODY_BOOLEAN),l(e.PROP.CONDITION_JAVA_FUNC_BODY_BOOLEAN),l(e.PROP.CONDITION_PYTHON_FUNC_BODY_BOOLEAN)),l(e.PROP.AUTHORIZATION_SCHEME),l(e.PROP.PAGE_AUTHENTICATION),l(e.PROP.ENABLE_META_TAGS),l(e.PROP.BUILD_OPTION)}(),s.toString()?"<ul class='tt-list'>"+s.toString()+"</ul>":null},i.getComponentIconClass=function(e,t,a){let n;return t.startsWith("PLUGIN_")?n="icon-"+e+"-plugin icon-"+e+"-":t.startsWith("TMPL")?(n="icon-"+e,t=t.replace(/^TMPL_THEME(_[\d]+)\$/,"TMPL_THEME-"),n+=a?"-tmpl-"+a.toLowerCase().replaceAll("_","-")+" icon-":"-tmpl icon-"):n="icon-"+e+"-",n+t.toLowerCase().replaceAll("_","-")},i.isNever=function(t){let a=t.getProperty(e.PROP.CONDITION_TYPE);return!(!a||"NEVER"!==a.getValue())||!(!i.COMMENTED_OUT_ID||(a=t.getProperty(e.PROP.BUILD_OPTION),!a||a.getValue()!==i.COMMENTED_OUT_ID))},i.isConditional=function(t){function a(e){var a=t.getProperty(e);return a&&""!==a.getValue()}return a(e.PROP.CONDITION_TYPE)||a(e.PROP.AUTHORIZATION_SCHEME)||a(e.PROP.BUILD_OPTION)||a(e.PROP.WHEN_BUTTON_PRESSED)},i.observerIsConditional=function(t,a,n){e.observer(t,{components:a,events:[e.EVENT.CHANGE],properties:[e.PROP.CONDITION_TYPE,e.PROP.AUTHORIZATION_SCHEME,e.PROP.BUILD_OPTION,e.PROP.WHEN_BUTTON_PRESSED]},n)},i.isDisplayed=function(a){var n,o=!0;return a.isOnGlobalPage()&&("CURRENT_PAGE_EQUALS_CONDITION"===(n=a.getPropertyValue(e.PROP.CONDITION_TYPE))?o=a.getProperty(e.PROP.CONDITION_PAGE).getValue()===e.getCurrentPageId():"CURRENT_PAGE_NOT_EQUAL_CONDITION"===n?o=a.getProperty(e.PROP.CONDITION_PAGE).getValue()!==e.getCurrentPageId():"CURRENT_PAGE_IN_CONDITION"===n?o=-1!==t.inArray(e.getCurrentPageId(),a.getProperty(e.PROP.CONDITION_PAGES).getValue().split(",")):"CURRENT_PAGE_NOT_IN_CONDITION"===n&&(o=-1===t.inArray(e.getCurrentPageId(),a.getProperty(e.PROP.CONDITION_PAGES).getValue().split(",")))),o},i.LINK_TYPE={PAGE_IN_THIS_APP:"PAGE_IN_THIS_APP",PAGE_IN_DIFF_APP:"PAGE_IN_DIFF_APP",URL:"URL"},i.splitApexUrl=function(e,a,n){var o,r,s,l,c,P,_,O,g,d,u="LINK."+(a?"GOTO_":""),E=n||[],p={type:i.LINK_TYPE.PAGE_IN_THIS_APP,display:"",appId:"",pageId:"",session:"&SESSION.",request:"",debug:"&DEBUG.",clearCache:"",clearAction:"NONE",itemNames:"",itemValues:"",printerFriendly:"NO",url:"",successMessage:"Y",anchor:""},N=/#([^#]*)#|#([^#]*)/g,A=/([\w]+![\w]+)/g;if(e)if(0===e.toLowerCase().indexOf("f?p=")){for((o=e.toLowerCase().indexOf("&success_msg=#success_msg#"))>-1?(s=e.substr(0,o),p.successMessage="Y"):(s=e,p.successMessage="N");!l&&(P=N.exec(s));){for(_=!1,c=0;c<E.length;c++)if(P[1]===E[c]||A.test(P[1])){_=!0;break}_||(l=P.index,p.anchor=s.substr(l+1),s=s.substr(0,l))}if((r=/f\?p=([^:]*):?([^:]*)?:?([^:]*)?:?([^:]*)?:?([^:]*)?:?([^:]*)?:?([^:]*)?:?(\\.+\\*|[^:]*)?/i.exec(s))&&(p.appId=r[1],p.pageId=r[2],p.session=r[3],p.request=r[4],p.debug=r[5],p.clearCache=r[6],p.itemNames=r[7],p.itemValues=r[8],p.printerFriendly=r[9]),p.clearCache){for(g=p.clearCache.split(","),O=0;O<g.length;O++)d=g[O],t.inArray(d,["NONE","CR","RR","RP"])>-1&&(p.clearAction=d,g.splice(O,1));p.clearCache=g.join(",")}p.itemNames&&(p.itemNames=p.itemNames.split(",")),p.itemValues&&(p.itemValues=p.itemValues.match(/(\\[^\\]*\\)|[^,]*/g).filter((function(e,t,a){return""!==e||0===t||t>0&&""===a[t-1]})).map((function(e){return e.replace(/(^\\(.*)\\$)/,"$1")}))),p.appId&&(0===p.appId.toLowerCase().indexOf("&flow_id.")||0===p.appId.toLowerCase().indexOf("&app_id.")||0===p.appId.toLowerCase().indexOf("#flow_id#")||0===p.appId.toLowerCase().indexOf("#app_id#")?(p.type=i.LINK_TYPE.PAGE_IN_THIS_APP,p.display=i.formatNoEscape(u+"PAGE_N",p.pageId)):p.appId&&(p.type=i.LINK_TYPE.PAGE_IN_DIFF_APP,p.display=i.formatNoEscape(u+"APPLICATION_N",p.appId,p.pageId)))}else p.url=e,p.type=i.LINK_TYPE.URL,p.display=e.replace(/^(https?:\/\/)(www.)?/i,""),a&&(p.display=i.formatNoEscape(u+"URL",p.display));return p},i.setPageSelection=function(a,n,o,r,s){var l,c="OK";if(a&&a===e.getCurrentAppId()){if(n&&n!==e.getCurrentPageId())return l=i.goToPage(n),void t.when(l).done((function(){o&&r&&(i.goToComponent(o,r)||(c="COMPONENT_NOT_SELECTED")),s(c)})).fail((function(e){s("user-abort"===e?"PAGE_CHANGE_ABORTED":"PAGE_NOT_CHANGED")}));o&&r&&(i.goToComponent(o,r)||(c="COMPONENT_NOT_SELECTED"))}else c="APP_NOT_CHANGED";s(c)},i.goToPage=function(n,o,r=!0){let s,P,d,u,E=t("#a_PageDesigner"),p=t.Deferred(),N=t(document).data("ui-dialog-instances");function C(e){return Ie(),e.reject("user-abort"),e.promise()}if(e.hasChanged()&&!window.confirm(i.msg("BEFORE_AJAX_UNSAVED_CHANGES")))return C(p);if(N?.length&&(N.forEach((e=>{e.close()})),N.length))return C(p);if(t(document).trigger("selectionChanged",["controller",[]]),e.clear(),t(document).trigger("modelCleared",{preventHideNotification:o}),t("#go_to_page").val(n),r){let e=new URL(window.location.href),t=new URLSearchParams(e.search);t.set("fb_flow_page_id",n),e.search=t.toString(),window.history.replaceState({},"",decodeURIComponent(e.toString()))}return a.delayLinger.start("main",(function(){d=a.showSpinner(E),E.addClass(A)})),O||(O=t.ajax({dataType:"json",type:"GET",url:_.APEX_FILES+"apex_ui/js/staticData/pd_static_data_"+gLanguage+".json?v="+gApexVersion})),s=me("getWorkspaceData",{},{type:"GET"}),P=me("getSharedData",{},{type:"GET"}),u=me("getPageData",{x01:n},{type:"GET"}),t.when(O,s,P,u).done((function(a,n,o,r){var s,P;if(t.isEmptyObject(r[0]))i.showError(i.msg("PAGE_DOES_NOT_EXIST"));else{P=(s=r[0][e.COMP_TYPE.PAGE][0]).pageId,t("#go_to_page").val(P),e.initModelConfig(a[0],n[0],o[0]),e.setComponentData(r[0]),e.setCurrentAppId($v("P4500_CURRENT_APP")),e.setCurrentPageId(P);const _=e.getCurrentAppId(),O=s.properties[pe.PROP.NAME],d=i.formatNoEscape("HTML.TITLE",_,P,O);document.title=d;const u=i.formatNoEscape("BREADCRUMB.PAGE_NAME",P,O);t(".a-Breadcrumb-item.is-active .a-Breadcrumb-label").text(u),t(document).trigger("modelReady"),me("getAdditionalData",{x01:P},{type:"GET",success:function(e){var a,n;e.prevPageId&&(l.lookup(j).pageId=e.prevPageId,l.enable(j)),e.nextPageId&&(l.lookup($).pageId=e.nextPageId,l.enable($)),gTeamDevEnabled&&(a=e.teamDev.features+e.teamDev.bugs+e.teamDev.todos+e.teamDev.feedback+e.teamDev.issues,n=i.format("TEAM_DEV_BADGE_TITLE",a),0===a?(a="",t("#menu-team-dev").hide()):t("#menu-team-dev").show().prop(b,!1).attr(f,n).attr(I,n).find(".a-Button-badge").text(a),g=e.teamDev)}}),t(document).trigger("selectionChanged",["controller",e.getComponents(e.COMP_TYPE.PAGE,{id:e.getCurrentPageId()})]),c("P4500_LOCAL_SEARCH").element.trigger("change"),s.workingCopyPageChanges>0||s.workingCopyPageLocks>0?t("#page-diffs-button")?.show():t("#page-diffs-button")?.hide(),p.resolve()}})).fail((function(){p.reject()})).always((function(){a.delayLinger.finish("main",(function(){d.remove(),E.removeClass(A)}))})),p.promise()},i.goToComponent=function(a,n,o){let i=e.getComponents(a,{id:n}),r=t(document).data("ui-dialog-instances");return 1===i.length&&(r?.length&&(r.forEach((e=>{e.close()})),r.length)||(t(document).trigger("selectionChanged",["controller",i,o]),t("#PDrenderingTree, #PDdynamicActionTree, #PDprocessingTree, #PDsharedCompTree").each((function(){var e,a=t(this);if((e=a.treeView("getSelectedNodes")[0])&&e.data.componentId===n)return De(a.closest(".ui-tabs-panel")[0].id),a.treeView("setSelectedNodes",[e],void 0===o,!0),!1}))),!0)},i.showSuccess=function(e){t("#pdNotificationState").addClass("is-success"),t("#pdNotificationIcon").addClass("icon-check").attr(f,n.getMessage("APEXDEV.ICON_LABEL.SUCCESS")),t("#pdNotificationTitle").html(n.getMessage("APEX.SUCCESS_MESSAGE_HEADING")),i.showNotification(e)},i.showError=function(e){t("#pdNotificationState").addClass("is-error"),t("#pdNotificationIcon").addClass("icon-error").attr(f,n.getMessage("APEXDEV.ICON_LABEL.WARNING")),t("#pdNotificationTitle").html(n.getMessage("APEX.ERROR_MESSAGE_HEADING")),i.showNotification(e)},i.showNotification=function(a){var n=t("#pdNotificationMessage");a&&n.text(a),t("#pdNotification").addClass("is-displayed").fadeIn("slow"),t(document).on("commandHistoryChange.forMsg",(function(){e.hasChanged()&&i.hideNotification()})).on("modelCleared.forMsg",(function(e,t){t.preventHideNotification||i.hideNotification()}))},i.hideNotification=function(){t("#pdNotification").removeClass("is-displayed").fadeOut("slow",(function(){t("#pdNotificationMessage").text(""),t("#pdNotificationState").removeClass("is-error is-success"),t("#pdNotificationIcon").removeClass("icon-error icon-check")})),t(document).off(".forMsg")},i.setHelpText=function(e){t("#help-container").html(e)},i.clearHelpText=function(){var e=t("#help-container"),a=i.msg("HELP.DEFAULT");e.html(a)},i.getPreference=function(e){var t="PD_"+e;return fe(window.gPreferences,t)?window.gPreferences[t]:null},i.savePreference=function(e,t){var a="PD_"+e,n=window.gPreferences[a];window.gPreferences[a]=t,n!==t&&me("setPreference",{x01:a,x02:t},{dataType:""})},i.saveBoolPref=function(e,t){i.savePreference(e,t?"Y":"N")},i.getBoolPref=function(e,t){var a=i.getPreference(e);return null===a?t:"Y"===a},i.getTabsLayout=he,i.storeTabsLayout=Se,i.loadTabsLayout=be,i.activateTab=De,i.getTab=function(e){var a=u[e];return t(a.tabs).find(".ui-tabs-nav").first().children().eq(a.index)},i.openUnsubscribeDialog=function(){Ue.dialog({modal:!0,dialogClass:"ui-dialog--pageDesignerMsg",width:480,minWidth:320,minHeight:320,title:i.msg("UNSUBSCRIBE"),buttons:[{text:i.msg("CANCEL"),click:function(){Ue.dialog("close")}},{text:i.msg("UNSUBSCRIBE"),class:"a-Button--hot",click:function(){e.unsubscribePage().fail((function(e){Ue.dialog("close"),i.showError(e)})).done((function(){Ue.dialog("close"),i.goToPage(e.getCurrentPageId())}))}}]})},i.applicationMessages=function(t,n){const o=e=>({d:e.message,r:e.messageKey,isJS:e.isJS,placeholders:[...e.message.matchAll(/%([\w]+)/g)]}),i=e=>e.flatMap((e=>{let t=N.get(e.messageKey);return t?[{...t,full:e.message,parameters:e.parameters}]:[]}));let r=[];return new Promise((s=>{if(n)me("getApplicationMessages",{}).then((e=>{e?.messages.forEach((e=>{N.set(e.messageKey,o(e))})),s(Array.from(N).map((([,e])=>e)))}));else{let n="string"==typeof t?t:"";r=a.getTextMessagesFromTemplate(n)||[],e.getCompatibilityMode()<24.2&&(r=r.filter((e=>e.message.includes("APP_TEXT$"))));let l=r.filter((e=>!N.get(e.messageKey)));l.length>0?me("getApplicationMessages",{f01:l.map((e=>e.messageKey))}).then((e=>{e?.messages.forEach((e=>{N.set(e.messageKey,o(e))}));const t=l.filter((t=>!e?.messages.some((e=>e.messageKey===t.messageKey)))).map((e=>({...o(e),d:e.messageKey,full:e.message,parameters:e.parameters})));s([...i(r),...t])})):s(i(r))}}))};var ve=t("#peMain"),Ge=t("#peAttributes"),ye=t("#pePrinting"),Me=t("#pdMessagesDialog"),Ue=t("#pdUnsubscribeDialog");function Be(e){var a=t("#"+e+".a-Splitter");a.length&&a.splitter(m,"collapsed")&&a.splitter(m,"collapsed",!1)}function Ve(){Me.dialog({modal:!1,dialogClass:"ui-dialog--pageDesignerMsg",width:480,minWidth:320,minHeight:320,title:i.msg("MESSAGES"),buttons:[{text:i.msg("OK"),click:function(){Me.dialog("close")}}]}),t("#pdMessages").find(".a-AlertMessages-message").first().each((function(){this.focus()}))}function we(){var r,s=t("#createMenu_menu"),_=t("#button-lock"),O=t("#lockDialog"),d=t("#runDialogOpenMsg"),u=t("#runDialogFocusMsg"),p=t("#pdShowMessagesBtn");function N(n){var o=t("#a_PageDesigner"),s=[D,v,G,y];a.delayLinger.start("main",(function(){r=a.showSpinner(o),o.addClass(A)})),s.forEach((function(e){l.disable(e)})),t(".a-TreeView").treeView(h),t("#glv").gridlayout(h),ve.propertyEditor(h),e.saveChanges((function(e){s.forEach((function(e){l.enable(e)})),t(".a-TreeView").treeView(S),t("#glv").gridlayout(S),ve.propertyEditor(S),a.delayLinger.finish("main",(function(){r.remove(),o.removeClass(A)})),n(e)})),ve.find("."+i.CSS.IS_CHANGED).removeClass(i.CSS.IS_CHANGED)}function T(t){var a,n;for(a=0;a<t.length;a++)if(fe(t[a],"menu"))T(t[a].menu.items);else{let r;"string"==typeof(n=t[a]).action&&(r=n.action,n={...l.lookup(n.action)}),n.action=function(t,a,n){return e.hasChanged()?window.confirm(i.msg("BEFORE_AJAX_UNSAVED_CHANGES"))?(r?l.invoke(r,t,a,n):o.redirect(this.href),!0):void 0:(r?l.invoke(r,t,a,n):o.redirect(this.href),!0)}}}function R(){var t,a=e.getPageLockState();a?a.isLockedByCurrentUser?(t=i.msg("PAGE_LOCKED_BY_YOU"),_.attr(I,t).attr(f,t).removeClass("is-locked").addClass("is-locked-by-self").find(C)[0].className="a-Icon icon-lock"):(t=i.format("PAGE_LOCKED_BY",a.owner),_.attr(I,t).attr(f,t).removeClass("is-locked-by-self").addClass(" is-active is-locked").find(C)[0].className="a-Icon icon-lock-user"):(t=i.msg("PAGE_UNLOCKED"),_.attr(I,t).attr(f,t).removeClass("is-locked is-locked-by-self").find(C)[0].className="a-Icon icon-unlock")}P.setErrorHandler((function(e,t){i.showError(i.format({execute:"CMD.EXECUTE_FAILED",undo:"CMD.UNDO_FAILED",redo:"CMD.REDO_FAILED"}[e],t.label()))})),l.add([{name:D,label:null,title:null,icon:"icon-undo",action:function(){P.undo()}},{name:v,label:null,title:null,icon:"icon-redo",action:function(){P.redo()}},{name:ne,action:function(){var e=i.getPreference(re);e||(e=E.replace(/0:/g,"1:")),be(e),i.saveBoolPref(le,!0),l.disable(ne),l.enable(oe)}},{name:oe,action:function(){var e=i.getPreference(se);e||(e=E),e.indexOf("0:")<0&&(e=e.replace(/^1:/,"0:")),be(e),i.saveBoolPref(le,!1),l.disable(oe),l.enable(ne)}},{name:"pd-reset-tab-layout",action:function(){be(E),i.saveBoolPref(le,!1),i.savePreference(re,""),i.savePreference(se,""),l.disable(oe),l.enable(ne),Be("sp_main_content"),Be("sp_right_content"),Be("sp_glv_content"),t("#sp_main_content").splitter("option","position",290),t("#sp_right_content").splitter("option","position",290),t("#sp_glv_content").splitter("option","position",200),De(ue),De(Oe),De(de)}},{name:"pd-enable-tooltips",set:function(e){i.saveBoolPref(ce,e),Re(e)},get:function(){return i.getBoolPref(ce,!1)}},{name:ie,set:function(e){i.saveBoolPref(_e,e),i.textMessagesPickerEnabled=e,ve.propertyEditor(L)},get:function(){return i.getBoolPref(_e,!1)}},{name:"pd-show-layout-view",set:function(e){var a,n,o,r,s,l,c,P,_;a=Oe,n=e,o=Ae[1],r=t(o),c=t((s="#"+a)+","+(l="[aria-controls='"+a+"']")),P=Pe,_=function(){var e=t(l).is(":visible"),a=t(s).length>0;i.saveBoolPref(P,n),i.storeTabsLayout(),e&&a&&r.tabs("option","active",0),Le()},n?(function(e){var a=e.tabId,n=t(e.tabSetId).tabs(),o=n.find("ul.ui-tabs-nav").first(),i="#"+a;0===t(i).length&&(t("<li aria-controls='"+a+"'><a href='"+i+"'><span title='"+"Layout"+"' class='a-Icon icon-pd-layout'></span><span class='a-Tabs-label'>Layout</span></a></li>").prependTo(o),n.tabs("refresh"))}({tabSetId:o,tabId:a}),_(),apex.message.confirm(i.msg("ENABLE_VIEW_WARN"),(function(e){e&&location.reload()}))):(function(e){c.remove(),t(e).tabs("refresh")}(o),_())},get:function(){return i.getBoolPref(Pe,!0)}},{name:G,label:null,disabled:!0,action:function(e,a,n){const o=t.extend({suppressSuccessMessage:!1,afterSaveCallback:null},n);t(e.target).closest(".a-Property").length&&ve.propertyEditor("saveProperty"),N((function(e){P.clear(),t(document).trigger("commandHistoryChange"),e.error?"NO_CHANGES"!==e.error&&i.showError(e.error):o.suppressSuccessMessage||i.showSuccess(i.msg("CHANGES_SAVED")),o.afterSaveCallback&&o.afterSaveCallback(e)}))}},{name:y,label:null,title:null,icon:"icon-run-page",disabled:!0,action:function(r,s,l){const c=t.extend({suppressSuccessMessage:!1,afterSaveCallback:null},l);var _,O=e.getCurrentAppId(),g=e.getCurrentPageId(),E=null;function p(){return a.makeApplicationUrl({pageId:"RUN_PAGE",request:"BRANCH_TO_PAGE_ACCEPT",debug:"NO",itemNames:["FB_FLOW_ID","FB_FLOW_PAGE_ID","F4000_P1_FLOW"],itemValues:[O,g,O]})}function A(e,a){e.dialog({modal:!0,title:a?i.msg("FOCUS_PAGE"):i.msg("RUN_PAGE"),closeText:n.getMessage("APEX.DIALOG.CLOSE"),dialogClass:"ui-dialog--pageDesignerAlert",width:400,height:240,minWidth:400,minHeight:240,position:{my:"right top",at:"right-20 bottom+20",of:s},create:function(){t(this).closest(".ui-dialog").attr("aria-modal",!0)},buttons:[{text:i.msg("TRY_AGAIN"),class:"a-Button--hot",click:function(){e.dialog("close"),a?o.openInNewWindow("",apex.builder.getAppUnderTestWindowName(O)):C()}}]})}function C(){var a=e.getComponents(e.COMP_TYPE.PAGE)[0],n={},r=$v("P0_WINDOW_MGMT_MODE")||"FOCUS";e.isGlobalPage()?i.showSuccess(i.msg("CHANGES_SAVED_GLOBAL_PAGE")):"NORMAL"===a.getProperty(e.PROP.PAGE_MODE).getValue()?"NONE"===r||/^4\d\d\d$/.test(O)?o.redirect(p()):("BROWSER"===r?n.favorTabbedBrowsing=!0:(_=!1,t(window).on("blur.runcheck",(function(){t(window).off(".runcheck"),_=!0})),E=setTimeout((function(){E=null,_||A(u,!0),t(window).off(".runcheck")}),800)),apex.builder.launchAppUnderTest(p(),O,n)||(clearTimeout(E),t(window).off(".runcheck"),A(d))):i.showSuccess(i.msg("CHANGES_SAVED_DIALOG_PAGE"))}t(r.target).closest(".a-Property").length&&ve.propertyEditor("saveProperty"),e.hasChanged()?N((function(e){P.clear(),t(document).trigger("commandHistoryChange"),e.error?"NO_CHANGES"!==e.error&&i.showError(e.error):C(),c.afterSaveCallback&&c.afterSaveCallback(e)})):C()}}]),t(document).on("commandHistoryChange",(function(){var e,t;(t=l.lookup(D)).origLabel||(t.origLabel=t.label),t.disabled=!P.canUndo(),P.canUndo()?(e=n.formatMessageNoEscape("PD.UNDO",P.undoLabel()),t.label=t.title=e):t.label=t.title=t.origLabel,l.update(D),(t=l.lookup(v)).origLabel||(t.origLabel=t.label),t.disabled=!P.canRedo(),P.canRedo()?(e=n.formatMessageNoEscape("PD.REDO",P.redoLabel()),t.label=t.title=e):t.label=t.title=t.origLabel,l.update(v)})).trigger("commandHistoryChange"),_.attr(b,!0).on(Te,(function(){var a,o,r=!1,s=e.getPageLockState();o=[{text:i.msg("CANCEL"),click:function(){O.dialog("close")}}],t("#lockDialogIntroUnlocked, #lockDialogIntroLocked, #lockDialogIntroOwned").hide(),c("P4500_DLG_LOCK_OWNER").hide(),!s||s.isLockedByCurrentUser?(o.push({click:function(){O.dialog("close"),e.lockPage($v("P4500_DLG_LOCK_COMMENT")).fail((function(e){i.showError(e)})).always((function(){R()}))}}),s?(a=i.msg("UNLOCK_PAGE"),o[1].text=i.msg("APPLY_CHANGES"),t("#lockDialogIntroOwned").show(),o.push({text:i.msg("UNLOCK"),class:"a-Button--hot",click:function(){O.dialog("close"),e.unlockPage().fail((function(e){i.showError(e)})).always((function(){R()}))}})):(a=i.msg("LOCK_PAGE"),o[1].text=i.msg("LOCK"),o[1].class="a-Button--hot",t("#lockDialogIntroUnlocked").show())):(a=i.msg("PAGE_LOCKED"),t("#lockDialogIntroLocked").show(),c("P4500_DLG_LOCK_OWNER").show(),$s("P4500_DLG_LOCK_OWNER",s.owner),r=!0,o[0].text=i.msg("OK")),t("#P4500_DLG_LOCK_COMMENT").val(s.comment).attr("readOnly",r),O.dialog({modal:!0,title:a,closeText:n.getMessage("APEX.DIALOG.CLOSE"),dialogClass:"ui-dialog--pageDesignerLock",width:600,height:340,minHeight:340,minWidth:600,create:function(){t(this).closest(".ui-dialog").attr("aria-modal",!0)},buttons:o})})),p.on(Te,(function(){Ve()})),t("#pdMessages").peMessagesView({badge:p.find("span.a-Button-badge"),button:p,noMsgHandler:function(){Me.hasClass("ui-dialog-content")&&Me.dialog("close")}}),s.on("menucreate",(function(){var e=s.menu("find","teamDev");e&&(e.hide=!gTeamDevEnabled),T(s.menu(m).items)})),gTeamDevEnabled&&t("<div id='teamDevMenu'></div>").appendTo("body").menu({menubar:!1,items:[{type:"action",labelKey:"PD.FEEDBACK_ENTRIES",action:function(){o.redirect(a.makeApplicationUrl({appId:"4650",pageId:"8000",request:"BUILDER",clearCache:"RIR",itemNames:["IR_APPLICATION_ID","IR_PAGE_ID","IRLT_FEEDBACK_STATUS_ID"],itemValues:[e.getCurrentAppId(),e.getCurrentPageId(),"3"]}))}},{type:"action",labelKey:"PD.ISSUES",action:function(){o.redirect(a.makeApplicationUrl({appId:"4600",pageId:"1",itemNames:["P1_APPLICATION_ID","P1_PAGE_ID"],itemValues:[e.getCurrentAppId(),e.getCurrentPageId()]}))}}],beforeOpen:function(e,t){var a,n,o=t.menu.items,r=[["FEEDBACK_ENTRIES_N","feedback"],["ISSUES_N","issues"]];for(a=0;a<r.length;a++)void 0!==g[(n=r[a])[1]]&&(o[a].label=i.format(n[0],g[n[1]]),delete o[a].labelKey)}}),t("#go_to_page").on("keypress",(function(e){13===e.which&&i.goToPage(t("#go_to_page").val())})).on("focus",(function(){this.select()})),t("#a_PageDesigner").on("focusin",(function(){Ie()})),t("#go_to_page_button").on(Te,(function(){i.goToPage(t("#go_to_page").val())})),t("#go_to_page_lov").on("click",(function(){var n=a.htmlBuilder(),o={columnDefinitions:[{name:"id",title:i.msg("PAGE_NUMBER")},{name:"name",title:i.msg("PAGE_NAME"),isRowHeader:!0},{name:"alias",title:i.msg("PAGE_ALIAS")},{name:"group",title:i.msg("GROUP")}],filters:[{name:"show",title:i.msg("PAGE_PICKER.SHOW"),type:"buttonset",defaultValue:"all",lov:[{display:i.msg("ALL_PAGES"),value:"all"},{display:i.msg("PAGE_PICKER.RECENTLY_EDITED"),value:"recent"}]},{name:"search",title:i.msg("SEARCH"),type:"search"}],filterLov:function(t,a){var n={};"current_group"===t.show?n={show:"group_id",id:e.getComponents(e.COMP_TYPE.PAGE,{id:e.getCurrentPageId()})[0].getProperty(e.PROP.PAGE_GROUP).getValue()}:"recent"===t.show&&(n={show:"recent"}),e.getPagesLov(n,(function(e){a(e,t.search)}),"Y","Y")}};void 0!==e.getCurrentPageId()&&e.getComponents(e.COMP_TYPE.PAGE,{id:e.getCurrentPageId()})[0].getProperty(e.PROP.PAGE_GROUP).getValue()&&o.filters[0].lov.unshift({display:i.msg("CURRENT_GROUP"),value:"current_group"}),n.markup("<div").attr("id","goToPageDlg").attr(I,i.msg("PAGE_FINDER")).markup(">").markup("</div>"),t(n.toString()).lovDialog({modal:!0,minWidth:750,height:500,filters:o.filters,columnDefinitions:o.columnDefinitions,filterLov:o.filterLov,dialogClass:i.CSS.DIALOG_FLUSH_BODY,resizable:!1,multiValue:!1,valueSelected:function(e,t){i.goToPage(t.id)}})})),i.textMessagesPickerEnabled=i.getBoolPref(_e,!1),t(document).on("modelReady",(function(){e.isPageReadOnly()&&!e.getPageLockState()||(_.attr(b,!1),R()),[G,y].forEach((function(e){l.enable(e)}));let a=e.getComponents(e.COMP_TYPE.BUILD_OPTION,{properties:[{id:e.PROP.NAME,value:n.getMessage("APEXAPP.BUILD_OPTION.COMMENTED_OUT")}]});i.COMMENTED_OUT_ID=a.length?a[0].id:void 0,e.getCompatibilityMode()<24.2&&l.disable(ie),t(document).one("modelCleared",(function(){P.clear(),t(document).trigger("commandHistoryChange"),_.attr(b,!0),[$,j,G,y].forEach((function(e){l.disable(e)})),gTeamDevEnabled&&(t("#menu-team-dev").hide().prop(b,!0).find(".a-Button-badge").text(""),g={}),i.COMMENTED_OUT_ID=void 0})),Re(i.getBoolPref(ce,!1))}))}t((function(){var o,r=s.getScopedSessionStorage({useAppId:!1,prefix:"ORA_WWV_apex.builder.pageDesigner"}),c=t.ui.keyCode;t("#sp_main").show(),we(),o=t("#search-container").peSearch(),t("#P4500_LOCAL_SEARCH,#P4500_MATCH_CASE,#P4500_IS_REGEXP").on("change",(function(){var e=$v("P4500_LOCAL_SEARCH"),t=("Y"===$v("P4500_MATCH_CASE")?"":"i")+"g",n="Y"===$v("P4500_IS_REGEXP");""!==e?(e=n?new RegExp(e,t):new RegExp(a.escapeRegExp(e),t),o.peSearch("search",e)):o.peSearch("clear")})),t("#CLEAR_PAGE_SEARCH").on("click",(function(){$s("P4500_LOCAL_SEARCH","","",!0),$s("P4500_MATCH_CASE","","",!0),$s("P4500_IS_REGEXP","","",!0),o.peSearch("clear")})),t(document).on("pageSearch",(function(e,t){De(ge),$s("P4500_MATCH_CASE","","",!0),$s("P4500_IS_REGEXP","","",!0),$s("P4500_LOCAL_SEARCH",t)})),e.init({isInternal:gIsInternal,isReadOnly:gIsReadOnly}),setTimeout((function(){var e=i.goToPage(t("#go_to_page").val(),!0,!1);t.when(e).done((function(){var e,t,a,n=(a=null,"#"===(e=window.location.hash).charAt(0)&&(e=e.substring(1)),/^[0-9:]+$/.test(e)&&2===(t=e.split(":")).length&&(a={typeId:t[0],componentId:t[1]}),a);n&&i.goToComponent(n.typeId,n.componentId)}))}),0),l.add([{name:M,onLabel:i.msg("RESTORE"),offLabel:i.msg("EXPAND"),get:function(){return this.isCenterExpanded},set:function(e){this.isCenterExpanded=e,t("#sp_main_content.a-Splitter, #sp_glv_content:visible, #sp_right_content").splitter(m,"collapsed",this.isCenterExpanded)},isCenterExpanded:!1,updateState:function(){var e=this;this.isCenterExpanded=!0,t("#sp_main_content.a-Splitter, #sp_glv_content:visible, #sp_right_content").each((function(){if(!t(this).splitter(m,"collapsed"))return e.isCenterExpanded=!1,!1})),this.icon=this.isCenterExpanded?"icon-restore":"icon-maximize",l.update(this.name)}},{name:U,label:i.msg("ACTION.GOTO_HELP"),action:function(){return De("help"),t("#help-container")[0].focus(),!0}},{name:B,label:i.msg("ACTION.GOTO_RENDERING"),action:function(){return De(de),t("#PDrenderingTree").treeView("focus"),!0}},{name:V,label:i.msg("ACTION.GOTO_DA"),action:function(){return De("dynActTree_container"),t("#PDdynamicActionTree").treeView("focus"),!0}},{name:w,label:i.msg("ACTION.GOTO_PROCESSING"),action:function(){return De("procTree_container"),t("#PDprocessingTree").treeView("focus"),!0}},{name:H,label:i.msg("ACTION.GOTO_SHARED"),action:function(){return De("sharedComp_container"),t("#PDsharedCompTree").treeView("focus"),!0}},{name:x,label:i.msg("ACTION.GOTO_GLV"),action:function(){return De(Oe),t("#glv").gridlayout("focus"),!0}},{name:Y,label:i.msg("ACTION.GOTO_PE_MAIN"),action:function(){return De(ue),ve.propertyEditor("focus"),!0}},{name:F,label:i.msg("ACTION.GOTO_PE_ATTRIBUTES"),action:function(){return i.getTab(Ee).is(":visible")&&(De(Ee),Ge.propertyEditor("focus")),!0}},{name:k,label:i.msg("ACTION.GOTO_PE_PRINTING"),action:function(){return i.getTab(Ne).is(":visible")&&(De(Ne),ye.propertyEditor("focus")),!0}},{name:K,label:i.msg("ACTION.GOTO_REGIONS"),action:function(){return De(Oe),Be("sp_glv_content"),t("#gallery-tabs").tabs(m,R,0),t("#cg-regions .a-Gallery.a-IconList").iconList("focus"),!0}},{name:X,label:i.msg("ACTION.GOTO_ITEMS"),action:function(){return De(Oe),Be("sp_glv_content"),t("#gallery-tabs").tabs(m,R,1),t("#cg-items .a-Gallery.a-IconList").iconList("focus"),!0}},{name:J,label:i.msg("ACTION.GOTO_BUTTONS"),action:function(){return De(Oe),Be("sp_glv_content"),t("#gallery-tabs").tabs(m,R,2),t("#cg-buttons .a-Gallery.a-IconList").iconList("focus"),!0}},{name:Q,label:i.msg("ACTION.GOTO_MSGS"),action:function(){return Ve(),!0}},{name:W,label:i.msg("ACTION.PAGE_SEARCH"),action:function(e){var a=t(e.target).closest(".a-PropertyEditor");return a.length?a.parent().find(".a-Property-field--filter").trigger("focus"):(De(ge),t("#P4500_LOCAL_SEARCH").trigger("focus")),!0}},{name:$,label:null,title:null,disabled:!0,pageId:null,action:function(){i.goToPage(this.pageId)}},{name:j,label:null,title:null,disabled:!0,pageId:null,action:function(){i.goToPage(this.pageId)}},{name:z,label:i.msg("KBD_SHORTCUTS"),action:function(){var e,o,r,s,c,P=[],_={},O=a.htmlBuilder(),g=l.listShortcuts(!0);for(e=0;e<g.length;e++)r=g[e],(s=_[r.actionName])||(P.push(r.actionName),s={actionLabel:r.actionLabel,shortcuts:[]},_[r.actionName]=s),s.shortcuts.push(r.shortcutDisplay);for(P.sort((function(e,t){return _[e].actionLabel>_[t].actionLabel?1:_[e].actionLabel<_[t].actionLabel?-1:0})),O.markup("<div").attr("id","shortcutDlg").attr(I,i.msg("KBD_SHORTCUTS")).markup(" tabindex='0'>").markup("<ul class='a-AVPList a-AVPList--shortcuts'>"),e=0;e<P.length;e++){for(s=_[P[e]],O.markup("<li class='a-AVPList-item'><span class='a-AVPList-label'>").content(s.actionLabel).markup("</span><span class='a-AVPList-value'>"),c=s.shortcuts,o=0;o<c.length;o++)O.markup(c[o]);O.markup("</span></li>")}return O.markup("</ul></div>"),t(O.toString()).dialog({modal:!0,closeText:n.getMessage("APEX.DIALOG.CLOSE"),minWidth:300,width:550,height:380,create:function(){t(this).closest(".ui-dialog").attr("aria-modal",!0)},close:function(){t(this).dialog("destroy").remove()},open:function(){this.focus()},buttons:[{text:i.msg("OK"),click:function(){t(this).dialog("close")}}]}),!0}}]),t("#helpMenu_menu").on("menucreate",(function(){var e=t("#helpMenu_menu").menu("find","keyboardShortcuts");e&&(e.hide=!1,e.action=z)})),i.clearHelpText();var P=null;function _(e,a){var n,o,i=t(e.target),r=i.closest(".ui-tabs");a.item.removeClass("ui-tabs-active ui-state-active ui-state-hover ui-state-focus"),a.sender&&(n=t("#"+a.item.attr(T)),o=a.item.prev(),a.item.remove(),o.length?o.after(a.item):i.prepend(a.item),r.append(n),a.sender.closest(".ui-tabs").tabs(L)),r.tabs(L),r.tabs(m,R,a.item.index()),Se()}function O(e){var a,n,o,i,r,s,l,P,_=null,O=null,g=e.which;if(e.shiftKey&&(g===c.UP||g===c.LEFT?O=-1:g!==c.DOWN&&g!==c.RIGHT||(O=1),O)){if(a=(n=(i=t(e.target)).closest(".ui-tabs-nav")).children().length,o=n.closest(".ui-tabs"),r=Ae.indexOf("#"+o[0].id),s=i.index(),(s+=O)>=0&&s<a)O>0?i.next().after(i):i.prev().before(i);else{if(!((r+=O)>=0&&r<Ae.length))return;P=(_=t(Ae[r]).find(".ui-tabs-nav").first()).closest(".ui-tabs"),l=t("#"+i.attr(T)),i.remove(),O<0?_.append(i):_.prepend(i),s=i.index(),P.append(l),o.tabs(L),o=P}return o.tabs(L),o.tabs(m,R,s),i.trigger("focus"),Se(),!1}}t("body").on("splitterchange splittercreate",(function(){var e=l.lookup(M);P||(P=setTimeout((function(){P=null,e.updateState()}),100))})),apex.builder.nameBuilderWindow(),t(Ce).tabs({heightStyle:"fill",activate:function(e,t){var a,n,o;t.newPanel.is(".resize")&&t.newPanel.resize(),n=(a=t.newTab.parents(".ui-tabs")).attr("id"),o=a.tabs(m,R),r.setItem(n,o)}}).on("resize",(function(){Le()})),t(".ui-tabs").each((function(){var e,a=t(this).data("ui-tabs");e=a._handlePageNav,a._handlePageNav=function(t){return!!t.shiftKey||e.call(a,t)}})),he(),setTimeout((function(){var e;i.getBoolPref(le,!1)||i.getPreference(se)?(i.getBoolPref(le,!1)?((e=i.getPreference(re))&&e.indexOf("2:")<0&&(e=E.replace(/0:/g,"1:")),e||(e=E.replace(/0:/g,"1:")),l.disable(ne)):((e=i.getPreference(se))&&e.indexOf("2:")<0&&(e=E),e||(e=E),l.disable(oe)),(e.indexOf(":peAttributesTabPanel")<0||e.indexOf(":pePrintingTabPanel")<0)&&(e=E),be(e,!0)):l.disable(oe),he(),t(Ce).each((function(){var e=t(this),a=e.attr("id"),n=r.getItem(a);n?e.tabs(m,R,n):"editor_tabs"===a&&De(Oe)}))}),1),t("#editor_tabs").find(".ui-tabs-nav").first().sortable({axis:"x",connectWith:"#trees > .a-Tabs-toolbar > .ui-tabs-nav, #peTabs > .a-Tabs-toolbar > .ui-tabs-nav",update:_}).on("dblclick",(function(){l.toggle(M)})).on("keydown",O),t("#trees").find(".ui-tabs-nav").sortable({axis:"x",connectWith:"#editor_tabs > .a-Tabs-toolbar > .ui-tabs-nav, #peTabs > .a-Tabs-toolbar > .ui-tabs-nav",update:_}).on("keydown",O),t("#peTabs").find(".ui-tabs-nav").sortable({axis:"x",connectWith:"#editor_tabs > .a-Tabs-toolbar > .ui-tabs-nav, #trees > .a-Tabs-toolbar > .ui-tabs-nav",update:_}).on("keydown",O),t("#editor_tabs [aria-controls=help]").addClass("ui-tabs-helpTab"),apex.theme.pageResizeInit(),t(window).on("beforeunload",(function(){if(e.hasChanged())return i.msg("BEFORE_PAGE_UNLOAD_UNSAVED_CHANGES")})),t("#pdNotificationClose").on("click",(function(){i.hideNotification()})),t(".a-ControlBar,.a-PageDesigner").tooltip({item:"button[title]",show:apex.tooltipManager.defaultShowOption()}),t(document.body).append("<div id='apexActionKeyDisplay' style='display:none;'></div>"),l.partialShortcutInput=function(e){e=e||"",setTimeout((function(){t("#apexActionKeyDisplay").text(e)[e?"show":"hide"]()}),e?1:800)},apex.gPageContext$.on("apexafterclosedialog",(function(e,t){t.FB_FLOW_ID&&t.FB_FLOW_PAGE_ID&&(t.successMessage?i.showSuccess(t.successMessage.text):i.hideNotification(),i.goToPage(t.FB_FLOW_PAGE_ID,t.successMessage))})),setTimeout((function(){var e,a,n=function(e,t){return{name:e,shortcut:t}},o=[n("spotlight-search","Ctrl+Quote"),n(D,"Ctrl+Z"),n(v,"Ctrl+Y"),n(G,"Alt+F7"),n(y,"Alt+F8"),n(M,"Alt+F11"),n(U,"Alt+F1"),n(B,"Ctrl+/,R"),n(V,"Ctrl+/,A"),n(w,"Ctrl+/,P"),n(H,"Ctrl+/,S"),n(x,"Ctrl+/,L"),n(Y,"Ctrl+/,E,M"),n(F,"Ctrl+/,E,A"),n(k,"Ctrl+/,E,P"),n(K,"Ctrl+/,G,R"),n(X,"Ctrl+/,G,I"),n(J,"Ctrl+/,G,B"),n(Q,"Ctrl+/,M"),n(W,"Ctrl+/,F"),n($,"Alt+Shift+Page Down"),n(j,"Alt+Shift+Page Up"),n(z,"Alt+Shift+F1"),n("glv-disp-from-page","Ctrl+/,D,T"),n("glv-disp-from-region","Ctrl+/,D,H"),n("glv-hide-empty","Ctrl+/,D,E"),n(q,"Ctrl+/,U,A"),n(Z,"Ctrl+/,C,P"),n(ee,"Ctrl+/,C,C"),n(te,"Ctrl+/,C,S"),n(ae,"Ctrl+/,C,B")];for([D,v].forEach((function(e){var t=l.lookup(e);t.contextLabel=t.label})),a=t("#menu-create").attr(f),[Z,ee,te,ae].forEach((function(e){var t=l.lookup(e);t&&(t.contextLabel=a+": "+t.label)})),a=t("#menu-utilities").attr(f),[q].forEach((function(e){var t=l.lookup(e);t.contextLabel=a+": "+t.label})),e=0;e<o.length;e++)o[e].type="global";l.setShortcutKeyBindings(o)}),1),ve.pdPropertyEditor({mode:"main"}),Ge.pdPropertyEditor({mode:"attributes"}),ye.pdPropertyEditor({mode:"printing"})})),t((()=>{const a=()=>{const a=e.getComponents(e.COMP_TYPE.PAGE)[0].getProperty(e.PROP.JS_FUNCTION_AND_GLOBAL_VARIABLE_DECLARATION);if(a){const e=a.getValue();t.apex.codeEditor.registerJavaScriptContextCode("page-global",e,t.apex.codeEditor.LANG_JAVASCRIPT)}};e.observer("codeEditorIntellisense",{components:[{typeId:e.COMP_TYPE.PAGE}],properties:[pe.PROP.JS_FUNCTION_AND_GLOBAL_VARIABLE_DECLARATION],events:["change"]},a),t(document).on("modelReady",a)}))}(pe,apex.jQuery,apex.util,apex.lang,apex.navigation,window.pageDesigner,apex.server,apex.storage,apex.actions,apex.item,apex.commandHistory,apex.env);
!function(P,e,O,E,t,_,T){"use strict";let R={RICH_TEXT_EDITOR:"NATIVE_RICH_TEXT_EDITOR",TEXTAREA:"NATIVE_TEXTAREA",FILE:"NATIVE_FILE",IMAGE_UPLOAD:"NATIVE_IMAGE_UPLOAD",HIDDEN:"NATIVE_HIDDEN",TEXT_FIELD:"NATIVE_TEXT_FIELD",MARKDOWN_EDITOR:"NATIVE_MARKDOWN_EDITOR",NUMBER_FIELD:"NATIVE_NUMBER_FIELD",DATE_PICKER:"NATIVE_DATE_PICKER_APEX",ROW_ACTION:"NATIVE_ROW_ACTION",ROW_SELECTOR:"NATIVE_ROW_SELECTOR",INPUT:"NATIVE_INPUT",RANGE:"NATIVE_RANGE",AUTO_COMPLETE:"NATIVE_AUTO_COMPLETE",CHECKBOX:"NATIVE_CHECKBOX",COMBOBOX:"NATIVE_COMBOBOX",LIST_MANAGER:"NATIVE_LIST_MANAGER",POPUP_LOV:"NATIVE_POPUP_LOV",RADIOGROUP:"NATIVE_RADIOGROUP",SELECT_LIST:"NATIVE_SELECT_LIST",SHUTTLE:"NATIVE_SHUTTLE"},A={FACETED_SEARCH:"NATIVE_FACETED_SEARCH",SMART_FILTERS:"NATIVE_SMART_FILTERS",IG:"NATIVE_IG",FORM:"NATIVE_FORM"},C={INVOKE_API:"NATIVE_INVOKE_API",EXECUTION_CHAIN:"NATIVE_EXECUTION_CHAIN",DOWNLOAD:"NATIVE_DOWNLOAD",PRINT_REPORT:"NATIVE_PRINT_REPORT",INVOKE_WF:"NATIVE_INVOKE_WF",WORKFLOW:"NATIVE_WORKFLOW"},I="";const r=[P.PROP.SOURCE_QUERY_ORDER_BY,P.PROP.SOURCE_QUERY_ORDER_BY_ITEM,P.PROP.SOURCE_GRAPH_ORDER_BY,P.PROP.SOURCE_GRAPH_ORDER_BY_ITEM],i="BASIC",N="ITEM",n=O.hasOwnProperty,a=/&([A-Za-z0-9_$#]+(?:%[A-Za-z0-9_]+)?)\./g;function l(P){return t.getMessage("MODEL.CALLBACKS."+P)}function L(P){var e=[l(P)].concat(Array.prototype.slice.call(arguments,1));return t.format.apply(this,e)}function o(e,O,E,t){return e&&(O===P.CALLBACK_ACTION.CREATED||O===P.CALLBACK_ACTION.CHANGED&&E.id===e.id&&(e.getValue()!==t||void 0===t))}function p(P,e,O,E){return o(P,e,O)&&P.getValue()===E}function u(P,e,O,E){return o(P,e,O)&&P.getValue()!==E}function s(P){for(let e=0;e<P.length;e++)P[e].remove()}function M(P,e){s(P.getChilds(e))}function g(P,e,O){var E=P.getProperty(e);E&&E.setValue(O)}function S(P,e){let O;O=!P&&e&&e instanceof Object?e:P.getProperty(e),O&&O.setValue(O.getValue(),!0)}function d({componentTypeId:e,action:O,property:E,oldRegionId:t,component:_}){if(![P.CALLBACK_ACTION.CHANGED,P.CALLBACK_ACTION.VALIDATE].includes(O))return;const T=e===P.COMP_TYPE.REGION?P.PROP.PARENT_REGION:P.PROP.REGION,R=_.getPropertyValue(P.PROP.SLOT_PLACEHOLDER);if(O===P.CALLBACK_ACTION.VALIDATE&&E.id===T)return void(_.oldSlotPlaceholder=R);const A=_.getPropertyValue(T);let C,I;R&&"INVALID"!==R||(e===P.COMP_TYPE.PAGE_ITEM&&(C=_.getPropertyValue(P.PROP.ITEM_TYPE)),e===P.COMP_TYPE.REGION&&(I=_.getPropertyValue(P.PROP.REGION_TYPE)));const r=P.getSlots({componentTypeId:e,regionId:A,supportedItemType:C,supportedRegionType:I}),i=()=>{const O=P.getSlot({componentTypeId:e,regionId:A,supportedItemType:C,supportedRegionType:I})?.placeholder;O&&r.some((P=>P.placeholder===O))&&g(_,P.PROP.SLOT_PLACEHOLDER,O)};O===P.CALLBACK_ACTION.VALIDATE&&E.id!==P.PROP.SLOT_PLACEHOLDER&&""===R?i():O===P.CALLBACK_ACTION.CHANGED&&(0===r.length&&(_._properties[P.PROP.SLOT_PLACEHOLDER]._value="INVALID"),E.id===T?(""===R&&(r.some((P=>P.placeholder===_.oldSlotPlaceholder))&&(""===A&&""===t||A&&t)?g(_,P.PROP.SLOT_PLACEHOLDER,_.oldSlotPlaceholder):i()),delete _.oldSlotPlaceholder):E.id===P.PROP.SLOT_PLACEHOLDER&&(r.some((P=>P.placeholder===E.getValue()))||i()))}function Y(P){return O.escapeHTML(P.replace(/_+/g,"_").replace(/^_+/,"").replace(/_+$/,"").replace(/_/g," ").toLowerCase().split(" ").map((function(P){var e=P[0]||"";return P.replace(e,e.toUpperCase())})).join(" "))}function V(){return P.getComponents(P.COMP_TYPE.PAGE_PROCESS,{properties:[{id:P.PROP.PAGE_PROCESS_TYPE,value:new RegExp("^(NATIVE_FORM_FETCH|NATIVE_FORM_PROCESS)$")}]})}function D(e){0===P.getComponents(e.typeId,{parentId:e.parentId,properties:e.searchPropertyValues}).length&&new P.Component({previousComponent:e.previousComponent,typeId:e.typeId,parentId:e.parentId,values:e.searchPropertyValues.concat(e.addPropertyValues)})}function U(e,O,E,t,_){var T;T=P.getSourceLocationProperty(e)?.getColumns(!0),T?.length>0&&(function(e,O,E,_){var T,R,A,C,I,r;for(T=O?O.getChilds(E):P.getComponents(E,_.filter),R=0;R<T.length;R++){for(C=!1,(I=T[R].getProperty(t))?r=I.getValue():C=!0,A=0;A<e.length&&!C;A++)if(e[A].name===r&&(!_.compareCheck||_.compareCheck(e[A],T[R]))){e[A].regionColumn=T[R],C=!0;break}C||_.removeCheck&&!_.removeCheck(T[R])||T[R].remove()}}(T=function(P,e){var O,E=[];for(O=0;O<P.length;O++)E.push({name:P[O].name,type:P[O].type,maxLen:P[O].maxLen,isRequired:P[O].isRequired,isGeneric:P[O].isGeneric,isPrimaryKey:P[O].isPrimaryKey,isQueryOnly:P[O].isQueryOnly,no:O+1,regionColumn:null}),e&&e(E[O]);return E}(T,_.setSqlColumn),O,E,{compareCheck:_.compareCheck,removeCheck:_.removeCheck,filter:_.filter}),function(e,O,E,t){var _,T,R,A;for((_=O?O.getChilds(E):P.getComponents(E,t.filter)).length>0&&(R=_[_.length-1]),T=0;T<e.length;T++)"function"==typeof t.skipColumn&&t.skipColumn.call(void 0,e[T])||(e[T].regionColumn?t.update(e[T].regionColumn,e[T]):(A=[],t.add(A,e[T]),R=O?new P.Component({previousComponent:R,typeId:E,parentId:O.id,values:A,ignorePropertyIfNotExists:!0}):new P.Component({previousComponent:R,typeId:E,values:A,ignorePropertyIfNotExists:!0})))}(T,O,E,{add:_.add,update:_.update,filter:_.filter,skipColumn:_.skipColumn}))}function y(e,O){let E=e.getProperty(P.PROP.DATA_TYPE),t=e.getProperty(P.PROP.VALUE_REQUIRED),_=O.isRequired?"Y":"N";E.getValue()!==O.type&&E.setValue(O.type),t&&"Y"===_&&"N"===t.getValue()&&t.setValue(_)}function h(e){var O=e.getProperty(r);return P.getSourceLocationProperty(e).hasOrderBy()||O&&""!==O.getValue()}function c(e,O,E,t,_,T){var R,C,I,r,i,N,n,a,l,L,o,p,u,s=e.getChilds(P.COMP_TYPE.REGION_WS_PARAM),M="";function g(e,O,E,t,_){["OUT","IN_OUT"].includes(e.getProperty(P.PROP.DIRECTION).getValue())?("FETCH_COLLECTION"!==M&&O.push({id:P.PROP.IGNORE_OUTPUT,value:"Y"}),O.push({id:P.PROP.HIDDEN_REQUIRED_VALUE_TYPE,value:"ITEM"}),O.push({id:P.PROP.HIDDEN_VALUE_TYPE,value:"ITEM"}),""!==E&&O.push({id:P.PROP.VALUE_ITEM,value:E})):(O.push({id:P.PROP.HIDDEN_REQUIRED_VALUE_TYPE,value:"BASIC"}),O.push({id:P.PROP.HIDDEN_VALUE_TYPE,value:"Y"===_||""!==E?"ITEM":""===t?"NULL":"DEFAULT"}),O.push({id:P.PROP.VALUE_TYPE,value:"Y"===_||""!==E?"ITEM":""===t?"NULL":"DEFAULT"}),""!==E&&O.push({id:P.PROP.VALUE_ITEM,value:E}))}o=e.getProperty(P.PROP.REGION_TYPE)?e.getProperty(P.PROP.REGION_TYPE).getValue():"",[A.IG,A.FORM].includes(o)&&(o===A.IG?p=e.getChilds(P.COMP_TYPE.IG_ATTRIBUTES)[0]:o===A.FORM&&(p=e.getChilds(P.COMP_TYPE.REGION_PLUGIN_ATTR)[0]),u=p.getProperty(P.PROP.IS_EDITABLE).getValue()),L=[P.COMP_TYPE.PAGE_PROC_WS_PARAM,P.COMP_TYPE.WF_ACTIVITY_WS_PARAM].includes(_)||"Y"===u?"^(IN|IN_OUT|OUT)$":"^(IN|IN_OUT)$",R=P.getComponents(t,{parentId:E,properties:[{id:P.PROP.DIRECTION,value:new RegExp(L)}],filterFunction:function(){return!this.getProperty(P.PROP.IS_STATIC)||"N"===this.getProperty(P.PROP.IS_STATIC).getValue()}});for(let e=0;e<R.length;e++)if(!s.some((O=>O.getProperty(P.PROP.WEB_SRC_PARAM).getValue()===R[e].id))){if(l=[{id:P.PROP.WEB_SRC_PARAM,value:R[e].id}],n="",I=R[e].getProperty(P.PROP.NAME).getValue(),(a=P.getComponents(P.COMP_TYPE.PAGE_ITEM,{properties:[{id:P.PROP.ITEM_NAME,value:"P"+P.getCurrentPageId()+"_"+I.replace(/[^0-9A-Za-z#$]+/g,"_").toUpperCase()}]})).length>0&&(n=a[0].getProperty(P.PROP.ITEM_NAME).getValue()),C=R[e].getProperty(P.PROP.PARAMETER_VALUE).getValue(),i=R[e].getProperty(P.PROP.PARAMETER_REQUIRED)?.getValue(),N=R[e].getProperty(P.PROP.DIRECTION)?.getValue(),_!==P.COMP_TYPE.PAGE_PROC_WS_PARAM&&t===P.COMP_TYPE.WEB_SRC_OPER_PARAM&&T&&(M=T.getProperty(P.PROP.DATABASE_OPERATION).getValue(),l.push({id:P.PROP.DATABASE_OPERATION,value:M}),l.push({id:P.PROP.HTTP_METHOD,value:T.getProperty(P.PROP.HTTP_METHOD).getValue()})),l.push({id:P.PROP.API_DIRECTION,value:N}),(r=R[e].getProperty(P.PROP.WEB_SRC_PARAM_DATA_TYPE))&&["IN","IN_OUT"].includes(N)&&l.push({id:P.PROP.WEB_SRC_PARAM_DATA_TYPE,value:r.getValue()}),[P.COMP_TYPE.PAGE_PROC_WS_PARAM,P.COMP_TYPE.WF_ACTIVITY_WS_PARAM].includes(_))g(R[e],l,n,C,i);else{if("DATA_PROFILE"===R[e].getProperty(P.PROP.WEB_SRC_PARAM_TYPE).getValue())continue;g(R[e],l,n,C,i)}new P.Component({typeId:_,parentId:O,values:l})}}function G(e,O,E,t,_,T){let R;R=P.getComponents(P.COMP_TYPE.WEB_SRC_OPERATION,{parentId:E,properties:[{id:P.PROP.DATABASE_OPERATION,value:t},{id:P.PROP.SOURCE_WEB_SRC_ARRAY_COL,value:_}]}),0===R.length&&(R=P.getComponents(P.COMP_TYPE.WEB_SRC_OPERATION,{parentId:E,properties:[{id:P.PROP.DATABASE_OPERATION,value:t}]})),R&&R[0]&&c(e,O,R[0].id,P.COMP_TYPE.WEB_SRC_OPER_PARAM,T,R[0])}function W(e,O){let E,t,_="BASIC";const T=O.typeId===P.COMP_TYPE.WORKFLOW_ACTIVITY?P.COMP_TYPE.WF_ACTIVITY_WF_PARAM:P.COMP_TYPE.PAGE_PROCESS_WF_PARAM,R=e.getPropertyValue(P.PROP.API_DIRECTION),A="Y"===e.getPropertyValue(P.PROP.PARAMETER_REQUIRED),C=e.getPropertyValue(P.PROP.PARAMETER_DEFAULT_VALUE),I=[{id:P.PROP.WORKFLOW_PARAM,value:e.id},{id:P.PROP.API_DIRECTION,value:R},{id:P.PROP.WORKFLOW_DATA_TYPE,value:e.getPropertyValue(P.PROP.WORKFLOW_DATA_TYPE)}];["IN","IN_OUT"].includes(R)?("IN_OUT"===R&&(t="Y"),E=A?""!==C?"DEFAULT":"ITEM":"NULL"):"OUT"===R&&(_="",E="",t="Y"),I.push({id:P.PROP.HIDDEN_REQUIRED_VALUE_TYPE,value:_},{id:P.PROP.HIDDEN_VALUE_TYPE,value:E}),T===P.COMP_TYPE.WF_ACTIVITY_WF_PARAM&&"IN"!==R&&I.push({id:P.PROP.IGNORE_OUTPUT,value:t}),new P.Component({typeId:T,parentId:O.id,values:I})}function B(e,O,E,t){if(e){var _,T=e.getProperty(P.PROP.TITLE).getValue(),R=void 0===t?T:t,A=e.getChilds(E)[0]||e.getChildrenUntil(E)[0];A&&(_=A.getProperty(P.PROP.PRINT_PAGE_HEADER_TEXT).getValue(),O!==P.CALLBACK_ACTION.CREATED&&R!==_||g(A,P.PROP.PRINT_PAGE_HEADER_TEXT,T))}}function f(e,O){var E,t,_,T,R,C=e.getProperty(P.PROP.IS_EDITABLE),I=e.getParent()&&e.getParent().getProperty(P.PROP.SOURCE_WEB_SRC_QUERY),r=e.getParent()&&e.getParent().getProperty(P.PROP.WEB_SRC_USE_LOCAL_TABLE),i=e.getParent()&&e.getParent().getProperty(P.PROP.SOURCE_WEB_SRC_ARRAY_COL);if(I&&""!==I.getValue()&&(!r||"N"===r.getValue())&&e.getParent()&&e.getParent().getProperty(P.PROP.REGION_TYPE)&&[A.IG,A.FORM].includes(e.getParent().getProperty(P.PROP.REGION_TYPE).getValue()))if("Y"===C.getValue())G(e.getParent(),O,I.getValue(),"UPDATE",i?.getValue(),P.COMP_TYPE.REGION_WS_PARAM),G(e.getParent(),O,I.getValue(),"DELETE",i?.getValue(),P.COMP_TYPE.REGION_WS_PARAM),G(e.getParent(),O,I.getValue(),"INSERT",i?.getValue(),P.COMP_TYPE.REGION_WS_PARAM),G(e.getParent(),O,I.getValue(),"FETCH_SINGLE_ROW",i?.getValue(),P.COMP_TYPE.REGION_WS_PARAM),c(e.getParent(),O,I.getValue(),P.COMP_TYPE.WEB_SRC_MOD_PARAM,P.COMP_TYPE.REGION_WS_PARAM);else for(E=P.getComponents(P.COMP_TYPE.REGION_WS_PARAM,{parentId:O,properties:[]}),R=0;R<E.length;R++)(_=E[R].getProperty(P.PROP.WEB_SRC_PARAM))&&(T=_.getValue()),T&&((t=P.getComponents(P.COMP_TYPE.WEB_SRC_MOD_PARAM,{id:T}))[0]?t[0].getProperty(P.PROP.DIRECTION)&&"OUT"===t[0].getProperty(P.PROP.DIRECTION).getValue()&&s([E[R]]):(t=P.getComponents(P.COMP_TYPE.WEB_SRC_OPER_PARAM,{id:T}))&&t.length>0&&t[0].getProperty(P.PROP.DATABASE_OPERATION)&&["INSERT","UPDATE","DELETE","FETCH_SINGLE_ROW"].includes(t[0].getProperty(P.PROP.DATABASE_OPERATION).getValue())&&s([E[R]]))}function F(e){s(P.getComponents(P.COMP_TYPE.VALIDATION,{properties:[{id:P.PROP.VALIDATION_REGION,value:e}]})),s(P.getComponents(P.COMP_TYPE.PAGE_PROCESS,{properties:[{id:P.PROP.PROCESS_REGION,value:e}]}))}function K(e,O,E){if(O===P.CALLBACK_ACTION.VALIDATE&&[P.PROP.MULTI_VALUE_SEPARATOR_OPTIONAL,P.PROP.MULTI_VALUE_SEPARATOR_ALWAYS,P.PROP.MULTI_VALUE_SEPARATOR].includes(e?.id)&&["\\",'"',"\\005C","\\0022"].includes(E))return{error:l("ITEM.ERROR_MULTI_VALUE_SEPARATOR_NOT_ALLOWED")}}function H(e,O){let E="",t="";"REPORT"===O&&(E=P.getTheme().defaultTemplates.templateComponent,t="region"),g(e,P.PROP.REGION_TEMPLATE,E),g(e,P.PROP.LANDMARK_TYPE,t)}function m(e,O,E){var _,T=this.parentId,R=this.getProperty(P.PROP.IS_EDITABLE);o(R,e,O)&&("Y"===R.getValue()?D({typeId:P.COMP_TYPE.PAGE_PROCESS,searchPropertyValues:[{id:P.PROP.PAGE_PROCESS_TYPE,value:"NATIVE_FORM_DML"},{id:P.PROP.PROCESS_DATA_SOURCE_REGION,value:T}],addPropertyValues:[{id:P.PROP.NAME,value:t.formatMessageNoEscape("WIZARD.FORM.DML_PROCESS_NAME",this.getParent().getDisplayTitle())}],previousComponent:"first"}):(_=T,s(P.getComponents(P.COMP_TYPE.VALIDATION,{properties:[{id:P.PROP.VALIDATION_REGION,value:_}]})),s(P.getComponents(P.COMP_TYPE.PAGE_PROCESS,{properties:[{id:P.PROP.PAGE_PROCESS_TYPE,value:"NATIVE_FORM_DML"},{id:P.PROP.PROCESS_DATA_SOURCE_REGION,value:_}]}))),f(this,T));let A=this.getProperty(P.PROP.TEMPLATE_COMPONENT_TYPE);if(e===P.CALLBACK_ACTION.CHANGED&&o(A,e,O)){let e=A.getValue();H(this.getParent(),e);let O=this.getParent().getProperty(P.PROP.SOURCE_LOCATION);"REPORT"===e?""===O.getValue()&&O.setValue("LOCAL",!0):this.getParent().getChilds(P.COMP_TYPE.REGION_TMPL_COLUMN).length||O.setValue("",!0),P.getComponents(P.COMP_TYPE.REGION_TMPL_COLUMN,{parentId:T,properties:[]}).forEach((function(e){g(e,P.PROP.HIDDEN_TEMPLATE_COMPONENT_TYPE,A.getValue())}))}if(e===P.CALLBACK_ACTION.VALIDATE&&O.id===P.PROP.PAGINATION_TYPE&&"SCROLL"===E&&"MODAL"===P.getComponents(P.COMP_TYPE.PAGE,{id:P.getCurrentPageId()})[0].getProperty(P.PROP.PAGE_MODE).getValue())return{error:l("TEMPLATE_COMPONENT.MODAL_DIALOG_SCROLL_PAGINATION")}}function v(O,E){var t;O===P.CALLBACK_ACTION.CREATED||O===P.CALLBACK_ACTION.CHANGED&&-1!==e.inArray(E.id,P.SOURCE_LOCATION_PROPS)?(O===P.CALLBACK_ACTION.CREATED&&(new P.Component({typeId:P.COMP_TYPE.CARD,parentId:this.id}),(t=P.getTheme().defaultTemplates.cards)&&g(this,P.PROP.REGION_TEMPLATE,t)),"WEB_SOURCE"===this.getProperty(P.PROP.SOURCE_LOCATION).getValue()&&g(this,P.PROP.SHOW_TOTAL_ROW_COUNT,"N")):O===P.CALLBACK_ACTION.REMOVED&&(M(this,P.COMP_TYPE.CARD),M(this,P.COMP_TYPE.CARD_ACTION))}function b(O,E,t,_,T,R,A){var C,I;if(O===P.CALLBACK_ACTION.CREATED||O===P.CALLBACK_ACTION.CHANGED&&-1!==e.inArray(E.id,P.SOURCE_LOCATION_PROPS)?(O===P.CALLBACK_ACTION.CREATED&&(new P.Component({typeId:_,parentId:t.id}),B(t,O,R,A)),U(t,t,T,P.PROP.COLUMN_NAME,{removeCheck:function(e){return"N"===e.getProperty(P.PROP.DERIVED_COLUMN).getValue()},add:function(e,O){e.push({id:P.PROP.COLUMN_NAME,value:O.name}),e.push({id:P.PROP.QUERY_COLUMN_ID,value:O.no}),"BLOB"===O.type&&e.push({id:P.PROP.CLASSIC_REPORT_COLUMN_TYPE,value:"IMAGE"}),"NUMBER"===O.type&&(e.push({id:P.PROP.COLUMN_ALIGNMENT,value:"RIGHT"}),e.push({id:P.PROP.HEADING_ALIGNMENT,value:"RIGHT"})),e.push({id:P.PROP.COLUMN_HEADING,value:Y(O.name)})},update:function(e,O){var E=e.getProperty(P.PROP.QUERY_COLUMN_ID);parseInt(E.getValue(),10)!==O.no&&E.setValue(O.no)}})):O===P.CALLBACK_ACTION.CHANGED&&-1!==e.inArray(E.id,[P.PROP.HAS_GENERIC_COLUMNS,P.PROP.GENERIC_COLUMN_COUNT])?(I=P.getSourceLocationProperty(E.component)).setValue(I.getValue(),!0):O===P.CALLBACK_ACTION.CHANGED&&E.id===P.PROP.TITLE?B(t,O,R,A):O===P.CALLBACK_ACTION.REMOVED&&function(P){M(P,_),M(P,T)}(t),(O===P.CALLBACK_ACTION.CREATED||O===P.CALLBACK_ACTION.CHANGED&&(-1!==e.inArray(E.id,P.SOURCE_LOCATION_PROPS)||r.includes(E.id))&&h(t))&&h(t)){C=t.getChilds(T,{filterFunction:function(){var e=this.getProperty(P.PROP.COLUMN_SORT_SEQUENCE),O=this.getProperty(P.PROP.DISABLE_SORT_COLUMN);return e&&""!==e.getValue()||O&&"N"===O.getValue()}});for(let e=0;e<C.length;e++)g(C[e],P.PROP.COLUMN_SORT_SEQUENCE,""),g(C[e],P.PROP.DISABLE_SORT_COLUMN,"Y")}}function k(e,O,E){var t;t=this.typeId===P.COMP_TYPE.CLASSIC_REPORT?P.COMP_TYPE.CLASSIC_RPT_PRINT:P.COMP_TYPE.TAB_FORM_PRINT,e===P.CALLBACK_ACTION.CREATED?"Y"===this.getProperty(P.PROP.ENABLE_PRINTING).getValue()&&(new P.Component({typeId:t,parentId:this.id}),B(this.getParent(),e,t),_.getTab("pePrintingTabPanel").show()):e===P.CALLBACK_ACTION.CHANGED&&O.id===P.PROP.ENABLE_PRINTING&&O.getValue()!==E&&("Y"===O.getValue()?(new P.Component({typeId:t,parentId:this.id}),B(this.getParent(),P.CALLBACK_ACTION.CREATED,t)):M(this,t))}function Q(O,E,t){var _,T;O===P.CALLBACK_ACTION.CREATED||O===P.CALLBACK_ACTION.CHANGED&&-1!==e.inArray(E.id,P.SOURCE_LOCATION_PROPS)?(O===P.CALLBACK_ACTION.CREATED?(_=new P.Component({typeId:P.COMP_TYPE.IR_ATTRIBUTES,parentId:this.id}),B(this,O,P.COMP_TYPE.IR_PRINT_ATTR,t),(T=P.getTheme().defaultTemplates.ir)&&g(this,P.PROP.REGION_TEMPLATE,T)):_=this.getChilds(P.COMP_TYPE.IR_ATTRIBUTES)[0],U(this,_,P.COMP_TYPE.IR_COLUMN,P.PROP.COLUMN_NAME,{setSqlColumn:function(P){P.isTzDependent="N","VARCHAR2"===P.type?P.type="STRING":"TIMESTAMP"===P.type||"TIMESTAMP_TZ"===P.type?P.type="DATE":"TIMESTAMP_LTZ"===P.type?(P.type="DATE",P.isTzDependent="Y"):"NUMBER"!==P.type&&"DATE"!==P.type&&"CLOB"!==P.type&&(P.type="OTHER")},compareCheck:function(e,O){return e.type===O.getProperty(P.PROP.COLUMN_TYPE).getValue()},add:function(e,O){var E="D";e.push({id:P.PROP.COLUMN_NAME,value:O.name}),e.push({id:P.PROP.COLUMN_TYPE,value:O.type}),"DATE"===O.type?e.push({id:P.PROP.TZ_DEPENDENT,value:O.isTzDependent}):"NUMBER"===O.type?(e.push({id:P.PROP.COLUMN_ALIGNMENT,value:"RIGHT"}),e.push({id:P.PROP.HEADING_ALIGNMENT,value:"RIGHT"})):"CLOB"!==O.type&&"OTHER"!==O.type||(e.push({id:P.PROP.ALLOW_USERS_TO_SORT,value:"N"}),e.push({id:P.PROP.ALLOW_USERS_TO_CONTROL_BREAK,value:"N"}),e.push({id:P.PROP.ALLOW_USERS_TO_AGGREGATE,value:"N"}),e.push({id:P.PROP.ALLOW_USERS_TO_COMPUTE,value:"N"}),e.push({id:P.PROP.ALLOW_USERS_TO_CHART,value:"N"}),e.push({id:P.PROP.ALLOW_USERS_TO_GROUP_BY,value:"N"}),e.push({id:P.PROP.ALLOW_USERS_TO_PIVOT,value:"N"}),E="N","OTHER"===O.type&&(e.push({id:P.PROP.ALLOW_USERS_TO_FILTER,value:"N"}),e.push({id:P.PROP.ALLOW_USERS_TO_HIGHLIGHT,value:"N"}))),O.isPrimaryKey&&e.push({id:P.PROP.IS_PRIMARY_KEY,value:"Y"}),e.push({id:P.PROP.IR_COLUMN_FILTER_TYPE,value:E}),e.push({id:P.PROP.COLUMN_HEADING,value:Y(O.name)})},update:function(e,O){var E;"DATE"===O.type&&(E=e.getProperty(P.PROP.TZ_DEPENDENT),O.isTzDependent!==E.getValue()&&E.setValue(O.isTzDependent))}})):O===P.CALLBACK_ACTION.CHANGED&&E.id===P.PROP.TITLE?B(this,O,P.COMP_TYPE.IR_PRINT_ATTR,t):O===P.CALLBACK_ACTION.REMOVED&&M(this,P.COMP_TYPE.IR_ATTRIBUTES)}function w(O,E,t){function _(P,O){var E="Y"===P.getValue(),t=E?O.getValue().split(":"):[];return E&&(-1!==e.inArray("XLSX",t)||-1!==e.inArray("PDF",t))}O===P.CALLBACK_ACTION.CREATED?_(this.getProperty(P.PROP.SHOW_DOWNLOAD),this.getProperty(P.PROP.DOWNLOAD_FORMATS))&&(new P.Component({typeId:P.COMP_TYPE.IR_PRINT_ATTR,parentId:this.id}),B(this.getParent(),O,P.COMP_TYPE.IR_PRINT_ATTR)):O!==P.CALLBACK_ACTION.CHANGED||E.id!==P.PROP.DOWNLOAD_FORMATS&&E.id!==P.PROP.SHOW_DOWNLOAD||E.getValue()===t||(_(this.getProperty(P.PROP.SHOW_DOWNLOAD),this.getProperty(P.PROP.DOWNLOAD_FORMATS))?0===P.getComponents(P.COMP_TYPE.IR_PRINT_ATTR,{parentId:this.id}).length&&(new P.Component({typeId:P.COMP_TYPE.IR_PRINT_ATTR,parentId:this.id}),B(this.getParent(),P.CALLBACK_ACTION.CREATED,P.COMP_TYPE.IR_PRINT_ATTR)):M(this,P.COMP_TYPE.IR_PRINT_ATTR))}function X(e,O,E){(o(this.getProperty(P.PROP.IR_COLUMN_DISPLAY_TYPE),e,O,E)&&/^(TMPL)/.test(E)||e===P.CALLBACK_ACTION.REMOVED)&&M(this,P.COMP_TYPE.IR_COLUMN_ACTION)}function J(O,E,t,_){var T,A;if(O===P.CALLBACK_ACTION.VALIDATE&&-1!==e.inArray(E.id,P.SOURCE_LOCATION_PROPS)){if(_.hasOrderBy)return{error:L("IG.HAS_ORDER_BY")}}else O===P.CALLBACK_ACTION.CREATED||O===P.CALLBACK_ACTION.CHANGED&&-1!==e.inArray(E.id,P.SOURCE_LOCATION_PROPS)?(O===P.CALLBACK_ACTION.CREATED?(T=new P.Component({typeId:P.COMP_TYPE.IG_ATTRIBUTES,parentId:this.id}),(A=P.getTheme().defaultTemplates.ir)&&g(this,P.PROP.REGION_TEMPLATE,A),B(this,O,P.COMP_TYPE.IG_PRINT,t)):T=this.getChilds(P.COMP_TYPE.IG_ATTRIBUTES)[0],"WEB_SOURCE"===this.getProperty(P.PROP.SOURCE_LOCATION).getValue()&&g(T,P.PROP.SHOW_TOTAL_ROW_COUNT,"N"),U(this,this,P.COMP_TYPE.IG_COLUMN,P.PROP.SOURCE_DB_COLUMN,{add:function(O,E){var t=!0;O.push({id:P.PROP.COLUMN_NAME,value:E.name}),O.push({id:P.PROP.COLUMN_SOURCE_TYPE,value:"DB_COLUMN"}),O.push({id:P.PROP.SOURCE_DB_COLUMN,value:E.name}),O.push({id:P.PROP.DATA_TYPE,value:E.type}),E.isPrimaryKey||"ROWID"===E.type?(t=!1,O.push({id:P.PROP.ITEM_TYPE,value:R.HIDDEN}),O.push({id:P.PROP.IS_PRIMARY_KEY,value:"Y"}),O.push({id:P.PROP.IS_QUERY_ONLY,value:E.isQueryOnly?"Y":"N"})):"VARCHAR2"===E.type?(E.maxLen<256||E.isGeneric?O.push({id:P.PROP.ITEM_TYPE,value:R.TEXT_FIELD}):O.push({id:P.PROP.ITEM_TYPE,value:R.TEXTAREA}),E.maxLen&&O.push({id:P.PROP.ELEMENT_MAX_CHARACTERS,value:E.maxLen+""})):"CLOB"===E.type?(O.push({id:P.PROP.ITEM_TYPE,value:R.TEXTAREA}),O.push({id:P.PROP.REGION_COLUMN_SESSION_STATE_DATA_TYPE,value:"CLOB"})):"NUMBER"===E.type?O.push({id:P.PROP.ITEM_TYPE,value:R.NUMBER_FIELD}):-1!==e.inArray(E.type,["TIMESTAMP_TZ"])?O.push({id:P.PROP.ITEM_TYPE,value:R.TEXT_FIELD}):-1!==e.inArray(E.type,["DATE","TIMESTAMP","TIMESTAMP_LTZ"])&&O.push({id:P.PROP.ITEM_TYPE,value:R.DATE_PICKER}),t&&(O.push({id:P.PROP.FILTER_DATA_TYPE,value:E.type}),O.push({id:P.PROP.COLUMN_HEADING,value:Y(E.name)}),O.push({id:P.PROP.VALUE_REQUIRED,value:E.isRequired?"Y":"N"}))},update:y,skipColumn:P=>"BLOB"===P.type})):O===P.CALLBACK_ACTION.CHANGED&&E.id===P.PROP.TITLE?B(this,O,P.COMP_TYPE.IG_PRINT,t):O===P.CALLBACK_ACTION.REMOVED&&(M(this,P.COMP_TYPE.IG_ATTRIBUTES),M(this,P.COMP_TYPE.IG_COLUMN),F(this.id))}function x(O,E,_){var T,A=this.parentId;function C(P,O){var E="Y"===P.getValue(),t=E?O.getValue().split(":"):[];return E&&(-1!==e.inArray("XLSX",t)||-1!==e.inArray("PDF",t))}function I(e,O,E){var t=[{id:P.PROP.COLUMN_NAME,value:O}].concat(E||[]);0===P.getComponents(P.COMP_TYPE.IG_COLUMN,{parentId:e,properties:[{id:P.PROP.COLUMN_NAME,value:O}]}).length&&new P.Component({typeId:P.COMP_TYPE.IG_COLUMN,parentId:e,values:t})}function r(e,O){s(P.getComponents(P.COMP_TYPE.IG_COLUMN,{parentId:e,properties:[{id:P.PROP.COLUMN_NAME,value:O}]}))}if(O===P.CALLBACK_ACTION.CREATED?C(this.getProperty(P.PROP.ENABLE_DOWNLOAD),this.getProperty(P.PROP.IG_DOWNLOAD_FORMATS))&&(new P.Component({typeId:P.COMP_TYPE.IG_PRINT,parentId:A}),B(this.getParent(),O,P.COMP_TYPE.IG_PRINT)):O!==P.CALLBACK_ACTION.CHANGED||E.id!==P.PROP.IG_DOWNLOAD_FORMATS&&E.id!==P.PROP.ENABLE_DOWNLOAD||E.getValue()===_||(C(this.getProperty(P.PROP.ENABLE_DOWNLOAD),this.getProperty(P.PROP.IG_DOWNLOAD_FORMATS))?0===P.getComponents(P.COMP_TYPE.IG_PRINT,{parentId:A}).length&&(new P.Component({typeId:P.COMP_TYPE.IG_PRINT,parentId:A}),B(this.getParent(),P.CALLBACK_ACTION.CREATED,P.COMP_TYPE.IG_PRINT)):M(this,P.COMP_TYPE.IG_PRINT)),O===P.CALLBACK_ACTION.CREATED||O===P.CALLBACK_ACTION.CHANGED&&E.id===P.PROP.IS_EDITABLE&&E.getValue()!==_){if("Y"===this.getProperty(P.PROP.IS_EDITABLE).getValue()){if(0===P.getComponents(P.COMP_TYPE.IG_COLUMN,{parentId:A,properties:[{id:P.PROP.IS_PRIMARY_KEY,value:"Y"}]}).length){T=P.getSourceLocationProperty(this.getParent()).getColumns(!0);for(let e=0;e<T.length;e++)if("ROWID"===T[e].type){I(A,T[e].name,[{id:P.PROP.ITEM_TYPE,value:R.HIDDEN},{id:P.PROP.COLUMN_SOURCE_TYPE,value:"DB_COLUMN"},{id:P.PROP.SOURCE_DB_COLUMN,value:T[e].name},{id:P.PROP.DATA_TYPE,value:"ROWID"},{id:P.PROP.IS_PRIMARY_KEY,value:"Y"}]);break}}I(A,"APEX$ROW_ACTION",[{id:P.PROP.ITEM_TYPE,value:R.ROW_ACTION}]),I(A,"APEX$ROW_SELECTOR",[{id:P.PROP.ITEM_TYPE,value:R.ROW_SELECTOR}]),D({typeId:P.COMP_TYPE.PAGE_PROCESS,searchPropertyValues:[{id:P.PROP.PAGE_PROCESS_TYPE,value:"NATIVE_IG_DML"},{id:P.PROP.PROCESS_REGION,value:A}],addPropertyValues:[{id:P.PROP.NAME,value:t.formatMessageNoEscape("WIZARD.IG.DML_PROCESS_NAME",this.getParent().getDisplayTitle())}],previousComponent:"last"})}else r(A,"APEX$ROW_SELECTOR"),r(A,"APEX$ROW_ACTION"),F(A);f(this,A)}}function Z(O,E,t){const _=P.getComponentType(P.COMP_TYPE.IG_COLUMN).pluginType.plugins[this.getProperty(P.PROP.ITEM_TYPE).getValue()],T=-1!==e.inArray("JOIN_LOV",_.features),A=this.getProperty(P.PROP.ITEM_TYPE),C=this.getProperty(P.PROP.DATA_TYPE),I=this.getProperty(P.PROP.FILTER_DATA_TYPE),r=this.getProperty(P.PROP.LOV_TYPE);let i,N;if(N=K(E,O,t),N)return N;gP(this,O,E),u(this.getProperty(P.PROP.MASTER_COLUMN),O,E,"")&&g(this,P.PROP.ITEM_TYPE,R.HIDDEN),p(this.getProperty(P.PROP.ITEM_TYPE),O,E,R.HIDDEN)&&(g(this,P.PROP.ENABLE_SORT_GROUP,"N"),g(this,P.PROP.INCLUDE_IN_EXPORT_PRINT,"N")),p(A,O,E,R.TEXT_FIELD)||p(A,O,E,R.TEXTAREA)||o(A,O,E)&&r?(g(this,P.PROP.COLUMN_ALIGNMENT,"LEFT"),g(this,P.PROP.HEADING_ALIGNMENT,"LEFT"),p(A,O,E,R.TEXTAREA)&&(g(this,P.PROP.FILTER_LOV_TYPE,"NONE"),g(this,P.PROP.ENABLE_SORT_GROUP,"N"))):p(A,O,E,R.NUMBER_FIELD)&&(g(this,P.PROP.COLUMN_ALIGNMENT,"RIGHT"),g(this,P.PROP.HEADING_ALIGNMENT,"RIGHT"),g(this,P.PROP.FILTER_LOV_TYPE,"NONE")),o(C,O,E)&&(-1!==e.inArray(C.getValue(),P.UNSORTABLE_COLUMN_DATA_TYPES)?"CLOB"===C.getValue()?(g(this,P.PROP.COLUMN_FILTER,"Y"),g(this,P.PROP.FILTER_LOV_TYPE,"NONE")):g(this,P.PROP.COLUMN_FILTER,"N"):g(this,P.PROP.COLUMN_FILTER,"Y")),O!==P.CALLBACK_ACTION.CREATED&&O!==P.CALLBACK_ACTION.CHANGED||!I||(T&&r&&""!==r.getValue()?i="VARCHAR2":C&&(i=C.getValue(),""===i&&(i="VARCHAR2")),I.getValue()!==i&&I.setValue(i)),u(this.getProperty(P.PROP.LOV_TYPE),O,E,"")&&g(this,P.PROP.FILTER_LOV_TYPE,"LOV")}function $(e,O){if(e===P.CALLBACK_ACTION.CHANGED&&O.id===P.PROP.IS_GROUP){const e=this.getParent(),E=e.getProperty(P.PROP.SOURCE_QUERY_ORDER_BY_TYPE),t=e.getProperty(r),_=this.getProperty(P.PROP.SOURCE_DB_COLUMN).getValue(),T=e.getChilds(P.COMP_TYPE.REGION_PLUGIN_ATTR)[0],R=e.getChilds(P.COMP_TYPE.REGION_TMPL_COLUMN,{properties:[{id:P.PROP.IS_GROUP,value:"Y"}]});T&&g(T,P.PROP.HIDDEN_COLUMNS_HAVE_GROUPS,R?.length>0?"Y":"N"),_&&"Y"===O.getValue()&&""===E.getValue()&&(E.setValue("STATIC"),g(e,[P.PROP.SOURCE_QUERY_ORDER_BY,P.PROP.SOURCE_GRAPH_ORDER_BY],_)),t&&S(null,t)}}function q(e,O,E,t){let _,T;if(e===P.CALLBACK_ACTION.CREATED||e===P.CALLBACK_ACTION.CHANGED&&P.SOURCE_LOCATION_PROPS.includes(O.id)){if(e===P.CALLBACK_ACTION.CREATED){const e=this.getProperty(P.PROP.REGION_TYPE).getValue(),O=P.getComponentType(P.COMP_TYPE.REGION).pluginType.plugins[e].templateTypes,E=O.includes("REPORT")?"REPORT":O.includes("PARTIAL")?"PARTIAL":"REGION_ONLY",t=this.getProperty(P.PROP.SOURCE_LOCATION).getValue();_=new P.Component({typeId:P.COMP_TYPE.REGION_PLUGIN_ATTR,parentId:this.id,values:[{id:P.PROP.HIDDEN_REGION_TYPE,value:e},{id:P.PROP.TEMPLATE_COMPONENT_TYPE,value:E},{id:P.PROP.HIDDEN_SOURCE_LOCATION,value:t}]}),"REPORT"===E&&this.getProperty(P.PROP.SOURCE_LOCATION).setValue("LOCAL",!0),H(this,E)}else _=this.getChilds(P.COMP_TYPE.REGION_PLUGIN_ATTR)[0],T=_.getProperty(P.PROP.TEMPLATE_COMPONENT_TYPE).getValue();"WEB_SOURCE"===this.getProperty(P.PROP.SOURCE_LOCATION)?.getValue()&&g(_,P.PROP.SHOW_TOTAL_ROW_COUNT,"N"),U(this,this,P.COMP_TYPE.REGION_TMPL_COLUMN,P.PROP.SOURCE_DB_COLUMN,{add:function(e,O){e.push({id:P.PROP.HIDDEN_TEMPLATE_COMPONENT_TYPE,value:T}),e.push({id:P.PROP.COLUMN_NAME_UPPER,value:O.name.replace(/ /g,"_").toUpperCase()}),e.push({id:P.PROP.COLUMN_SOURCE_TYPE,value:"DB_COLUMN"}),e.push({id:P.PROP.SOURCE_DB_COLUMN,value:O.name}),e.push({id:P.PROP.DATA_TYPE,value:O.type}),(O.isPrimaryKey||"ROWID"===O.type)&&e.push({id:P.PROP.IS_PRIMARY_KEY,value:"Y"})},update:function(e,O){let E=e.getProperty(P.PROP.DATA_TYPE);E.getValue()!==O.type&&E.setValue(O.type)}})}else e===P.CALLBACK_ACTION.REMOVED&&(M(this,P.COMP_TYPE.REGION_TMPL_COLUMN),M(this,P.COMP_TYPE.REGION_ACTION));if(e===P.CALLBACK_ACTION.VALIDATE){if(P.SOURCE_LOCATION_PROPS.includes(O.id)&&t.hasOrderBy)return{error:L("TMPL_COMPONENT.HAS_ORDER_BY")};if(r.includes(O.id)){const e=this.getChilds(P.COMP_TYPE.REGION_TMPL_COLUMN,{properties:[{id:P.PROP.IS_GROUP,value:"Y"}]}),O=this.getProperty(r);let t;if(e.every((e=>{const _=e.getProperty(P.PROP.SOURCE_DB_COLUMN)?.getValue();return!_||(t=!function(e,O,E){let t;function _(P,e){return P.filter((P=>P.toUpperCase().includes(e))).length>0}return[P.PROP.SOURCE_QUERY_ORDER_BY_ITEM,P.PROP.SOURCE_GRAPH_ORDER_BY_ITEM].includes(e)?t=JSON.parse(O).orderBys.every((P=>_(P.expr.split(","),E))):[P.PROP.SOURCE_QUERY_ORDER_BY,P.PROP.SOURCE_GRAPH_ORDER_BY].includes(e)&&(t=_(O.split(","),E)),t}(O?.id,E,_),!t)})),t)return{warning:L("TMPL_COMPONENTS_COLUMN_GROUP.COLUMN_IS_NOT_IN_ORDER_BY_CLAUSE")}}}}function z(e,O,E){b(e,O,this,P.COMP_TYPE.CLASSIC_REPORT,P.COMP_TYPE.CLASSIC_RPT_COLUMN,P.COMP_TYPE.CLASSIC_RPT_PRINT,E)}function j(e,O,E){var t=this;if(e===P.CALLBACK_ACTION.CREATED)alert(L("TABFORM.WARNING"));else if(e===P.CALLBACK_ACTION.VALIDATE&&O.id===P.PROP.REGION_TYPE&&P.getComponents(P.COMP_TYPE.REGION,{properties:[{id:P.PROP.REGION_TYPE,value:"NATIVE_TABFORM"}],filterFunction:function(){return this.id!==t.id}}).length>0)return{error:L("TABFORM.ONLY_ONE_PER_PAGE")};b(e,O,this,P.COMP_TYPE.TABULAR_FORM,P.COMP_TYPE.TAB_FORM_COLUMN,P.COMP_TYPE.TAB_FORM_PRINT,E)}function PP(e,O,E,t,_){var T,R=e.getParent();if(E===P.CALLBACK_ACTION.VALIDATE&&(t.id===P.PROP.DISABLE_SORT_COLUMN&&"N"===_||t.id===P.PROP.COLUMN_SORT_SEQUENCE&&""!==_)&&h(R))return{error:L("CLASSIC_RPT_TABFORM_COLUMN.NO_SORTING")};E===P.CALLBACK_ACTION.CHANGED&&t.id===P.PROP.COLUMN_SORT_SEQUENCE&&""===t.getValue()&&h(R)&&"N"===e.getProperty(P.PROP.DISABLE_SORT_COLUMN).getValue()&&g(e,P.PROP.DISABLE_SORT_COLUMN,"Y"),E===P.CALLBACK_ACTION.CHANGED&&t.id===P.PROP.CLASSIC_REPORT_COLUMN_TYPE&&"HIDDEN_COLUMN"===_&&(T=e.getProperty(P.PROP.COLUMN_HEADING))&&""===T.getValue()&&T.setValue(Y(e.getProperty(P.PROP.COLUMN_NAME).getValue()))}function eP(e,O,E){return PP(this,P.COMP_TYPE.CLASSIC_RPT_COLUMN,e,O,E)}function OP(e,O,E){return PP(this,P.COMP_TYPE.TAB_FORM_COLUMN,e,O,E)}function EP(e,O,E,t){if(O===P.CALLBACK_ACTION.VALIDATE&&E?.id===P.PROP.FORMAT_MASK_DATE&&!(""+t).match(a))try{const P=T.format(new Date,t);T.parse(P,t)}catch(P){return{error:L("ITEM.ERROR_FORMAT_MASK_DATE",P?.cause)}}}function tP(e){const O="P"+P.getCurrentPageId()+"_SEARCH";let E;E=this.getProperty(P.PROP.REGION_TYPE).getValue()===A.FACETED_SEARCH?P.COMP_TYPE.FACET:P.COMP_TYPE.SFILTER,e===P.CALLBACK_ACTION.CREATED?D({typeId:E,parentId:this.id,searchPropertyValues:[{id:P.PROP.ITEM_NAME,value:O}],addPropertyValues:[{id:P.PROP.ITEM_NAME,value:O},{id:P.PROP.ITEM_TYPE,value:"NATIVE_SEARCH"},{id:P.PROP.ITEM_LABEL,value:t.getMessage("SL.PLACEHOLDER")}],previousComponent:"first"}):e===P.CALLBACK_ACTION.REMOVED&&(M(this,P.COMP_TYPE.FACET),M(this,P.COMP_TYPE.FACET_GROUP),M(this,P.COMP_TYPE.SFILTER),M(this,P.COMP_TYPE.SFILTER_GROUP))}function _P(O,E){var t=P.getComponentType(P.COMP_TYPE.REGION).pluginType.plugins[this.getProperty(P.PROP.REGION_TYPE).getValue()],_=-1!==e.inArray("VALUE_ALIGNMENT",t.features);O===P.CALLBACK_ACTION.CREATED||O===P.CALLBACK_ACTION.CHANGED&&-1!==e.inArray(E.id,P.SOURCE_LOCATION_PROPS)?U(this,this,P.COMP_TYPE.REGION_COLUMN,P.PROP.COLUMN_NAME,{add:function(O,E){O.push({id:P.PROP.COLUMN_NAME,value:E.name}),O.push({id:P.PROP.HIDDEN_REGION_TYPE,value:t.name}),O.push({id:P.PROP.COLUMN_TYPE,value:E.type}),E.isPrimaryKey||"ROWID"===E.type?O.push({id:P.PROP.IS_VISIBLE,value:"N"}):(-1!==e.inArray("COLUMN_HEADING",t.features)&&O.push({id:P.PROP.COLUMN_HEADING,value:Y(E.name)}),_&&("NUMBER"===E.type?(O.push({id:P.PROP.COLUMN_ALIGNMENT,value:"RIGHT"}),O.push({id:P.PROP.HEADING_ALIGNMENT,value:"RIGHT"})):(O.push({id:P.PROP.COLUMN_ALIGNMENT,value:"LEFT"}),O.push({id:P.PROP.HEADING_ALIGNMENT,value:"LEFT"}))))},update:function(e,O){var E=e.getProperty(P.PROP.COLUMN_TYPE);E.getValue()!==O.type&&E.setValue(O.type)}}):O===P.CALLBACK_ACTION.REMOVED&&M(this,P.COMP_TYPE.REGION_COLUMN)}function TP(e,O){var E=this.getProperty(P.PROP.ICON_SOURCE_TYPE),t=this.getProperty(P.PROP.MEDIA_SOURCE_TYPE),_=this.getProperty(P.PROP.CARD_USES_BLOB_COLUMN);(o(E,e,O)||o(t,e,O))&&(E&&"BLOB"===E.getValue()||t&&"BLOB"===t.getValue()?_.setValue("Y"):_.setValue("N"))}function RP(e){e===P.CALLBACK_ACTION.CREATED&&new P.Component({typeId:P.COMP_TYPE.MAP_LAYER,parentId:this.id})}function AP(e){if(e===P.CALLBACK_ACTION.CREATED){new P.Component({typeId:P.COMP_TYPE.SEARCH_REGION_SOURCE,parentId:this.id});let e=P.getTheme().defaultTemplates.search;e&&g(this,P.PROP.REGION_TEMPLATE,e)}else e===P.CALLBACK_ACTION.REMOVED&&M(this,P.COMP_TYPE.SEARCH_REGION_SOURCE)}function CP(e){e===P.CALLBACK_ACTION.CREATED?new P.Component({typeId:P.COMP_TYPE.MAP_REGION,parentId:this.id}):e===P.CALLBACK_ACTION.REMOVED&&M(this,P.COMP_TYPE.MAP_REGION)}function IP(e){e===P.CALLBACK_ACTION.CREATED?new P.Component({typeId:P.COMP_TYPE.JET_CHART,parentId:this.id}):e===P.CALLBACK_ACTION.REMOVED&&M(this,P.COMP_TYPE.JET_CHART)}function rP(O,E){var t,_,T,R=["area","bar","boxPlot","bubble","combo","line","lineWithArea","range","polar","radar","stock","scatter","gantt"],A=this,C=A.getProperty(P.PROP.JET_CHART_TYPE),I=C.getValue();function r(){var e,O;0===A.getChilds(P.COMP_TYPE.JET_CHART_AXES).length&&("gantt"===I?(e="major",O="minor"):(e="x",O="y"),new P.Component({typeId:P.COMP_TYPE.JET_CHART_AXES,parentId:A.id,values:[{id:P.PROP.NAME,value:e}]}),new P.Component({typeId:P.COMP_TYPE.JET_CHART_AXES,parentId:A.id,values:[{id:P.PROP.NAME,value:O}]}))}if(O===P.CALLBACK_ACTION.CREATED)new P.Component({typeId:P.COMP_TYPE.JET_CHART_SERIES,parentId:A.id,values:[{id:P.PROP.SERIES_CHART_TYPE,value:I}]}),-1!==e.inArray(I,R)&&r();else if(O===P.CALLBACK_ACTION.CHANGED&&(t=A.getChilds(P.COMP_TYPE.JET_CHART_SERIES),E.id===P.PROP.JET_CHART_TYPE)){for(let e=0;e<t.length;e++)g(t[e],P.PROP.SERIES_CHART_TYPE,I);if(-1!==e.inArray(I,["dial","stock","gantt"]))for(let P=1;P<t.length;P++)t[P].remove();-1!==e.inArray(I,R)?(0!==(_=A.getChilds(P.COMP_TYPE.JET_CHART_AXES)).length&&("x"===_[0].getProperty(P.PROP.NAME).getValue()&&"gantt"===I&&M(A,P.COMP_TYPE.JET_CHART_AXES),"major"===_[0].getProperty(P.PROP.NAME).getValue()&&"gantt"!==I&&M(A,P.COMP_TYPE.JET_CHART_AXES)),r()):M(A,P.COMP_TYPE.JET_CHART_AXES)}o(C,O,E)&&("pie"===I&&g(A,P.PROP.LEGEND_RENDERED,"on"),"pie"!==I&&"donut"!==I||(g(A,P.PROP.VALUE_FORMAT_TYPE,"decimal"),g(A,P.PROP.VALUE_DECIMAL_PLACES,"0"),g(A,P.PROP.VALUE_FORMAT_SCALING,"none"))),T=A.getProperty(P.PROP.JET_GAUGE_ORIENTATION),p(C,O,E,"dial")||o(T,O,E)?"circular"===T.getValue()?(g(A,P.PROP.CHART_HEIGHT,"100"),g(A,P.PROP.CHART_MAX_WIDTH,"90")):"vertical"===T.getValue()?(g(A,P.PROP.CHART_HEIGHT,"200"),g(A,P.PROP.CHART_MAX_WIDTH,"21")):"horizontal"===T.getValue()&&(g(A,P.PROP.CHART_HEIGHT,""),g(A,P.PROP.CHART_MAX_WIDTH,"250")):u(C,O,E,"dial")&&(g(A,P.PROP.CHART_HEIGHT,"400"),g(A,P.PROP.CHART_MAX_WIDTH,""))}function iP(O,E,t){var _,T,R=[P.PROP.JET_SERIES_TYPE_COMBO,P.PROP.JET_SERIES_TYPE_RANGE,P.PROP.JET_SERIES_TYPE_POLAR,P.PROP.JET_SERIES_TYPE_RADAR,P.PROP.JET_SERIES_TYPE_BOX_PLOT,P.PROP.SERIES_CHART_TYPE],A=this;if((O===P.CALLBACK_ACTION.CREATED||O===P.CALLBACK_ACTION.CHANGED&&-1!==e.inArray(E.id,R))&&g(A,P.PROP.JET_SERIES_TYPE_COLUMN_MAPPING,function(){var P,e;for(P=0;P<R.length&&!(e=A.getProperty(R[P]));P++);return e.getValue()}()),O===P.CALLBACK_ACTION.CHANGED&&E.id===P.PROP.CHILD_SOURCE_LOCATION&&(_=A.getParent().getParent().getProperty(P.PROP.SOURCE_LOCATION),"REGION_SOURCE"===A.getProperty(P.PROP.CHILD_SOURCE_LOCATION).getValue()?(_._isRequired=!0,""===_.getValue()&&_.setValue("",!0)):_._isRequired=!1),T=QP(O,this,E,t,P.COMP_TYPE.JET_CHART_WS_PARAM))return T;O===P.CALLBACK_ACTION.CHANGED&&E.id===P.PROP.ASSIGNED_TO_Y2&&"on"===A.getProperty(P.PROP.ASSIGNED_TO_Y2).getValue()&&2===A.getParent().getChilds(P.COMP_TYPE.JET_CHART_AXES).length&&new P.Component({typeId:P.COMP_TYPE.JET_CHART_AXES,parentId:A.getParent().id,values:[{id:P.PROP.NAME,value:"y2"}]}),p(A.getProperty(P.PROP.SERIES_CHART_TYPE),O,E,"pie")&&g(A,P.PROP.ITEMS_LABEL_RENDERED,"Y")}function NP(e){var O,E=this;e===P.CALLBACK_ACTION.CREATED&&("y"===(O=E.getProperty(P.PROP.NAME).getValue())?(g(E,P.PROP.VALUE_FORMAT_TYPE,"decimal"),g(E,P.PROP.VALUE_DECIMAL_PLACES,"0"),g(E,P.PROP.VALUE_FORMAT_SCALING,"none")):"major"===O?g(E,P.PROP.JET_AXIS_SCALE,"months"):"minor"===O&&(g(E,P.PROP.VALUE_FORMAT_TYPE,"decimal"),g(E,P.PROP.JET_AXIS_SCALE,"days")))}function nP(e,O,E){var t,_=this;return e===P.CALLBACK_ACTION.CHANGED&&O.id===P.PROP.CHILD_SOURCE_LOCATION&&(t=_.getParent().getParent().getProperty(P.PROP.SOURCE_LOCATION),"REGION_SOURCE"===_.getProperty(P.PROP.CHILD_SOURCE_LOCATION).getValue()?(t._isRequired=!0,""===t.getValue()&&t.setValue("",!0)):t._isRequired=!1),QP(e,_,O,E,P.COMP_TYPE.MAP_LAYER_WS_PARAM)}function aP(e,O){var E=this;if(e===P.CALLBACK_ACTION.CREATED)new P.Component({typeId:P.COMP_TYPE.CLASSIC_CALENDAR,parentId:this.id}),alert(L("LEGACY_CALENDAR.WARNING"));else if(e===P.CALLBACK_ACTION.VALIDATE&&O.id===P.PROP.REGION_TYPE){if(P.getComponents(P.COMP_TYPE.REGION,{properties:[{id:P.PROP.REGION_TYPE,value:"NATIVE_CALENDAR"}],filterFunction:function(){return this.id!==E.id}}).length>0)return{error:L("LEGACY_CALENDAR.ONLY_ONE_PER_PAGE")}}else e===P.CALLBACK_ACTION.REMOVED&&M(this,P.COMP_TYPE.CLASSIC_CALENDAR)}function lP(O,E){var _=this;O===P.CALLBACK_ACTION.CREATED?new P.Component({previousComponent:"last",typeId:P.COMP_TYPE.PAGE_PROCESS,values:[{id:P.PROP.PAGE_PROCESS_TYPE,value:"NATIVE_FORM_INIT"},{id:P.PROP.PROCESS_DATA_SOURCE_REGION,value:_.id},{id:P.PROP.PROCESS_POINT,value:"BEFORE_HEADER"},{id:P.PROP.NAME,value:t.formatMessageNoEscape("WIZARD.FORM.INIT_PROCESS_NAME",this.getParent().getDisplayTitle())}]}):O===P.CALLBACK_ACTION.REMOVED&&(s(P.getComponents(P.COMP_TYPE.PAGE_ITEM,{properties:[{id:P.PROP.DATA_SOURCE_REGION,value:_.id}]})),s(P.getComponents(P.COMP_TYPE.PAGE_PROCESS,{properties:[{id:P.PROP.PROCESS_DATA_SOURCE_REGION,value:_.id}]}))),(O===P.CALLBACK_ACTION.CREATED||O===P.CALLBACK_ACTION.CHANGED&&-1!==e.inArray(E.id,P.SOURCE_LOCATION_PROPS))&&U(_,void 0,P.COMP_TYPE.PAGE_ITEM,P.PROP.DATA_SOURCE_COLUMN,{add:function(O,E){var t,T=!0;t=P.getUniquePropertyValue(null,P.COMP_TYPE.PAGE_ITEM,P.PROP.ITEM_NAME,"P"+P.getCurrentPageId()+"_"+E.name),O.push({id:P.PROP.ITEM_NAME,value:t}),O.push({id:P.PROP.REGION,value:_.id}),O.push({id:P.PROP.DATA_SOURCE_REGION,value:_.id}),O.push({id:P.PROP.DATA_SOURCE_COLUMN,value:E.name}),O.push({id:P.PROP.DATA_TYPE,value:E.type}),E.isPrimaryKey||"ROWID"===E.type?(T=!1,O.push({id:P.PROP.ITEM_TYPE,value:R.HIDDEN}),O.push({id:P.PROP.IS_PRIMARY_KEY,value:"Y"}),O.push({id:P.PROP.IS_QUERY_ONLY,value:E.isQueryOnly?"Y":"N"})):"VARCHAR2"===E.type?(E.maxLen<256||E.isGeneric?O.push({id:P.PROP.ITEM_TYPE,value:R.TEXT_FIELD}):O.push({id:P.PROP.ITEM_TYPE,value:R.TEXTAREA}),E.maxLen&&O.push({id:P.PROP.ELEMENT_MAX_CHARACTERS,value:E.maxLen+""})):"CLOB"===E.type?(O.push({id:P.PROP.ITEM_TYPE,value:R.TEXTAREA}),O.push({id:P.PROP.PAGE_ITEM_DATA_TYPE,value:"CLOB"})):"NUMBER"===E.type?O.push({id:P.PROP.ITEM_TYPE,value:R.NUMBER_FIELD}):-1!==e.inArray(E.type,["TIMESTAMP_TZ"])?O.push({id:P.PROP.ITEM_TYPE,value:R.TEXT_FIELD}):-1!==e.inArray(E.type,["DATE","TIMESTAMP","TIMESTAMP_LTZ"])&&O.push({id:P.PROP.ITEM_TYPE,value:R.DATE_PICKER}),T&&(O.push({id:P.PROP.ITEM_LABEL,value:Y(E.name)}),O.push({id:P.PROP.VALUE_REQUIRED,value:E.isRequired?"Y":"N"}))},update:y,filter:{properties:[{id:P.PROP.DATA_SOURCE_REGION,value:_.id}]}})}function LP(e,O){var E=P.getPluginProperty(P.COMP_TYPE.DA_ACTION,"NATIVE_SET_VALUE",1).id,t=this.getProperty(P.PROP.FIRE_ON_PAGE_LOAD);e===P.CALLBACK_ACTION.CHANGED&&O.id===E&&"DIALOG_RETURN_ITEM"===O.getValue()&&"Y"===t.getValue()&&t.setValue("N")}function oP(e,O,E){let t;if(t=EP(0,e,O,E),t)return t;if(this.typeId===P.COMP_TYPE.SFILTER){const E=this.getProperty(P.PROP.SUGGESTIONS_TYPE);p(E,e,O,"DYNAMIC")&&E.setValue("")}}function pP(P,e,O){let E;if(E=EP(0,P,e,O),E)return E}function uP(e){e===P.CALLBACK_ACTION.CREATED&&(g(this,P.PROP.FC_ZERO_COUNT_ENTRIES,"D"),g(this,P.PROP.FC_SORT_BY_TOP_COUNTS,"N"))}function sP(e,O,E){var t,_,T,R,A,C=this;function I(){M(C,P.COMP_TYPE.PAGE_PROC_WS_P_I),M(C,P.COMP_TYPE.PAGE_PROC_WS_P_O),M(C,P.COMP_TYPE.PAGE_PROC_WS_P_A)}function r(e,O,E){var t=P.getComponents(O,{parentId:e});for(let e=0;e<t.length;e++)new P.Component({typeId:E,parentId:C.id,values:[{id:P.PROP.PARAMETER_ID,value:t[e].id},{id:P.PROP.NAME,value:t[e].getProperty(P.PROP.NAME).getValue()}]})}t=e===P.CALLBACK_ACTION.VALIDATE&&O.id===P.PROP.PAGE_PROCESS_TYPE?E:this.getProperty(P.PROP.PAGE_PROCESS_TYPE).getValue(),_=P.getPluginProperty(P.COMP_TYPE.PAGE_PROCESS,t,1).id,T=P.getPluginProperty(P.COMP_TYPE.PAGE_PROCESS,t,2).id,e!==P.CALLBACK_ACTION.CREATED&&e!==P.CALLBACK_ACTION.CHANGED||(R=this.getProperty(_).getValue(),A=this.getProperty(T).getValue()),e===P.CALLBACK_ACTION.CREATED&&""!==R||e===P.CALLBACK_ACTION.CHANGED&&O.id===_&&R!==E?(e===P.CALLBACK_ACTION.CHANGED&&I(),""!==R&&(r(R,P.COMP_TYPE.WS_REF_OPER_P_I,P.COMP_TYPE.PAGE_PROC_WS_P_I),r(R,P.COMP_TYPE.WS_REF_OPER_P_H,P.COMP_TYPE.PAGE_PROC_WS_P_I),"ITEMS"===A&&r(R,P.COMP_TYPE.WS_REF_OPER_P_O,P.COMP_TYPE.PAGE_PROC_WS_P_O),r(R,P.COMP_TYPE.WS_REF_OPER_P_A,P.COMP_TYPE.PAGE_PROC_WS_P_A))):e===P.CALLBACK_ACTION.CHANGED&&O.id===T&&A!==E?(M(C,P.COMP_TYPE.PAGE_PROC_WS_P_O),"ITEMS"===A&&r(R,P.COMP_TYPE.WS_REF_OPER_P_O,P.COMP_TYPE.PAGE_PROC_WS_P_O)):e===P.CALLBACK_ACTION.REMOVED&&I()}function MP(e,O,E){const t=P.getPluginProperty(P.COMP_TYPE.PAGE_PROCESS,"NATIVE_CREATE_TASK",1).id;let _,T,R=this;function A(P){M(R,P)}T=this.typeId===P.COMP_TYPE.WORKFLOW_ACTIVITY?P.COMP_TYPE.WF_ACTIVITY_TASK_PARAM:P.COMP_TYPE.PAGE_PROCESS_TASK_PARAM,o(this.getProperty(t),e,O,E)?(e===P.CALLBACK_ACTION.CHANGED&&A(T),_=this.getProperty(t).getValue(),""!==_&&function(e,O){var E,t;E=P.getComponents(P.COMP_TYPE.TASK_DEF_PARAM,{parentId:e});for(let e=0;e<E.length;e++)t=[{id:P.PROP.TASK_DEF_PARAM,value:E[e].id}],"Y"===E[e].getProperty(P.PROP.PARAMETER_REQUIRED).getValue()?t.push({id:P.PROP.TASK_VALUE_TYPE,value:"STATIC"}):t.push({id:P.PROP.TASK_VALUE_TYPE,value:"NULL"}),new P.Component({typeId:O,parentId:R.id,values:t})}(_,T)):e===P.CALLBACK_ACTION.REMOVED&&A(T)}function gP(e,O,E){const t=e.getProperty(P.PROP.LOV_SQL),_=t?.getValue();O===P.CALLBACK_ACTION.CHANGED&&E?.id===P.PROP.ITEM_TYPE&&_&&t.setValue(_,!0)}function SP(e,O,E){const t=this.getProperty(P.getPluginProperty(this.typeId,R.COMBOBOX,"multi_selection").id),_=this.getProperty(P.PROP.MULTI_VALUE_TYPE_OPTIONAL);if(e===P.CALLBACK_ACTION.VALIDATE&&O?.id===t?.id&&!_?.getValue()&&"Y"===E)return{error:l("ITEM.ERROR_COMBOBOX_MULTI_VALUE_AND_MULTI_SELECTION")};e!==P.CALLBACK_ACTION.CHANGED||O?.id!==P.PROP.MULTI_VALUE_TYPE_OPTIONAL||_?.getValue()||t.setValue("N")}function dP(e,O,E){const t=this.getProperty(P.getPluginProperty(this.typeId,R.SELECT_LIST,"page_action_on_selection").id),_=this.getProperty(P.PROP.MULTI_VALUE_TYPE_OPTIONAL);if(e===P.CALLBACK_ACTION.CHANGED&&O?.id===P.PROP.MULTI_VALUE_TYPE_OPTIONAL){const P=t?.getValue();t.setValue(P,!0)}else if(e===P.CALLBACK_ACTION.VALIDATE&&O?.id===t?.id&&_?.getValue()&&"NONE"!==E)return{error:l("ITEM.ERROR_SELECT_LIST_MULTI_VALUE_AND_PAGE_ACTION")};if(e===P.CALLBACK_ACTION.CREATED||O?.id===P.PROP.MULTI_VALUE_TYPE_OPTIONAL){let e;e=_.getValue()?5:1,g(this,P.PROP.ELEMENT_HEIGHT,e)}}function YP(e,O,E){const t=this.getProperty(P.getPluginProperty(this.typeId,R.POPUP_LOV,"additional_outputs").id),_=this.getProperty(P.PROP.MULTI_VALUE_TYPE_OPTIONAL);if(e===P.CALLBACK_ACTION.CHANGED&&O?.id===P.PROP.MULTI_VALUE_TYPE_OPTIONAL){const P=t?.getValue();t.setValue(P,!0)}else if(e===P.CALLBACK_ACTION.VALIDATE&&O?.id===t?.id&&_?.getValue()&&E)return{error:l("ITEM.ERROR_POPUP_LOV_MULTI_VALUE_AND_ADDITIONAL_OUTPUTS")}}function VP(e,O){const E=this,t=E.getProperty(P.getPluginProperty(P.COMP_TYPE.PAGE_PROCESS,C.WORKFLOW,1).id),_=E.getProperty(P.getPluginProperty(P.COMP_TYPE.PAGE_PROCESS,C.WORKFLOW,2).id);if(e===P.CALLBACK_ACTION.REMOVED||u(t,e,O,"START"))M(E,P.COMP_TYPE.PAGE_PROCESS_WF_PARAM);else if(o(_,e,O)){let e=E.getChilds(P.COMP_TYPE.PAGE_PROCESS_WF_PARAM),O=P.getComponents(P.COMP_TYPE.WORKFLOW_PARAM,{parentId:_.getValue(),properties:[{id:P.PROP.API_DIRECTION,value:new RegExp("^(IN|IN_OUT)$")}]});e.length>0&&DP(O,e),O.forEach((P=>{W(P,E)}))}}function DP(e,O){for(let E=0;E<O.length;E++)0===e.filter((e=>e.id===O[E].getPropertyValue(P.PROP.WORKFLOW_PARAM))).length&&O[E].remove()}function UP(e,O,E){const t=this,T=t.getProperty(P.getPluginProperty(P.COMP_TYPE.WORKFLOW_ACTIVITY,C.INVOKE_WF,1).id),R=t.getProperty(P.getPluginProperty(P.COMP_TYPE.WORKFLOW_ACTIVITY,C.INVOKE_WF,5).id);if(e===P.CALLBACK_ACTION.REMOVED)M(t,P.COMP_TYPE.WF_ACTIVITY_WF_PARAM);else if(e===P.CALLBACK_ACTION.VALIDATE&&O.id===T?.id){let e=t.getParent(P.COMP_TYPE.WORKFLOW);if("Y"===R?.getValue()&&e?.id){let P=_.getConnectedWorkflows(e.id);if(e.id===E||P.some((P=>P.workflowId===E)))return{error:l("WF.ERROR_SELF_REFERENCE")}}}else if(o(T,e,O,E)||o(R,e,O,E)){let e=t.getChilds(P.COMP_TYPE.WF_ACTIVITY_WF_PARAM),O="Y"===t.getPropertyValue(R.id),E=P.getComponents(P.COMP_TYPE.WORKFLOW_PARAM,{parentId:T.getValue(),properties:[{id:P.PROP.API_DIRECTION,value:new RegExp("^(IN|IN_OUT"+(O?"|OUT":"")+")$")}]});e.length>0&&DP(E,e),e=t.getChilds(P.COMP_TYPE.WF_ACTIVITY_WF_PARAM),E.forEach((O=>{e.filter((e=>e.getPropertyValue(P.PROP.WORKFLOW_PARAM)===O.id))[0]||W(O,t)}))}}function yP(e,O){var E=this.getProperty(P.SOURCE_SNIPPET_PROPS);(p(this.getProperty(P.PROP.PLSQL_PROCESS_LOCATION),e,O,"LOCAL")||u(this.getProperty(P.PROP.SOURCE_REMOTE_DATABASE),e,O,""))&&""!==E.getValue()&&E.setValue(E.getValue(),!0)}function hP(e,O){var E,t,_,T=P.getPluginProperty(P.COMP_TYPE.PAGE_PROCESS,"NATIVE_SEND_EMAIL",12).id,R=this.getProperty(P.getPluginProperty(P.COMP_TYPE.PAGE_PROCESS,"NATIVE_SEND_EMAIL",11).id),A={};if(u(R,e,O,"")){if((E=P.getComponents(P.COMP_TYPE.EMAIL_TEMPLATE,{id:R.getValue()}))&&1===E.length&&(P.getEmailPlaceholders(R.getValue()).forEach((function(P){""!==P&&(A[P]="")})),""!==(t=this.getProperty(T).getValue())))try{_=JSON.parse(t),Object.keys(_).forEach((function(P){n(A,P)&&(A[P]=_[P])}))}catch(P){}g(this,T,JSON.stringify(A,null,4))}}function cP(e,O,E,t){const _=e===C.DOWNLOAD?l("PROCESS_DOWNLOAD.PROCESS_NOT_SUPPORTED"):e===C.PRINT_REPORT?l("PROCESS_PRINT_REPORT.PROCESS_NOT_SUPPORTED"):"",T=P.getComponents(P.COMP_TYPE.PAGE,{id:P.getCurrentPageId()})[0].getProperty(P.PROP.RELOAD_ON_SUBMIT);if(O===P.CALLBACK_ACTION.VALIDATE&&E.id===P.PROP.PROCESS_POINT&&!(["BEFORE_HEADER"].includes(t)||["ON_SUBMIT_BEFORE_COMPUTATION","AFTER_SUBMIT_BEFORE_VALIDATION","AFTER_SUBMIT"].includes(t)&&"A"===T.getValue()))return{error:_}}function GP(P,e,O){return cP(C.DOWNLOAD,P,e,O)}function WP(P,e,O){return cP(C.PRINT_REPORT,P,e,O)}function BP(e){const O=this.getProperty(P.PROP.ITEM_TYPE).getValue();e===P.CALLBACK_ACTION.CREATED&&([R.RICH_TEXT_EDITOR,R.TEXTAREA,R.SHUTTLE].includes(O)?g(this,P.PROP.ELEMENT_HEIGHT,"5"):O===R.MARKDOWN_EDITOR?(g(this,P.PROP.ELEMENT_WIDTH,""),g(this,P.PROP.ELEMENT_HEIGHT,"")):O!==R.FILE&&O!==R.IMAGE_UPLOAD||this.getProperty(P.PROP.DATA_SOURCE_COLUMN)||0!==V().length||g(this,P.getPluginProperty(P.COMP_TYPE.PAGE_ITEM,O,"storage_type").id,"APEX_APPLICATION_TEMP_FILES"))}function fP(e,O,E){var t,_,T,R,A=/^(P\d+_)/;t=E.replace(A,""),_=O.getValue().replace(A,""),!(T=e.getProperty(P.PROP.ITEM_LABEL))||Y(t)!==T.getValue()&&""!==T.getValue()||T.setValue(Y(_)),!(R=e.getProperty(P.PROP.SOURCE_DB_COLUMN))||E.replace(A,"")!==R.getValue()&&""!==R.getValue()||R.setValue(O.getValue().replace(A,""))}function FP(e,O){const E=this.getProperty(P.PROP.ENABLE_META_TAGS);o(E,e,O)&&("Y"===E.getValue()?new P.Component({typeId:P.COMP_TYPE.META_TAG,parentId:this.id,values:[{id:P.PROP.META_TAG_NAME,value:"description"}]}):M(this,P.COMP_TYPE.META_TAG));const t=this.getProperty(P.PROP.PAGE_AUTHENTICATION);o(t,e,O)&&"N"===t.getValue()&&M(this,P.COMP_TYPE.META_TAG);const _=this.getProperty(P.PROP.RELOAD_ON_SUBMIT);o(_,e,O)&&P.getComponents(P.COMP_TYPE.PAGE_PROCESS,{properties:[{id:P.PROP.PAGE_PROCESS_TYPE,value:new RegExp("(NATIVE_DOWNLOAD|NATIVE_PRINT_REPORT)")}],hasErrors:"A"===_.getValue()||void 0}).forEach((function(e){S(e,P.PROP.PROCESS_POINT)}))}function KP(e,O,E){let t,_,T,R,A,C;if(C=K(O,e,E),C)return C;if(gP(this,e,O),e===P.CALLBACK_ACTION.CHANGED)if(O.id===P.PROP.ITEM_NAME)fP(this,O,E);else if(O.id===P.PROP.SOURCE_TYPE)T=this.getProperty(P.PROP.SOURCE_USED),T&&"DB_COLUMN"===O.getValue()?T.setValue("NO"):T.setValue("YES");else if(O.id===P.PROP.SOURCE_DB_COLUMN){if(_=O.getValue(),R=V(),R.length>0){A="NATIVE_FORM_FETCH"===R[0].getProperty(P.PROP.PAGE_PROCESS_TYPE).getValue()?R[0].getProperty(P.PROP.FORM_FETCH_TABLE_NAME).getColumns():R[0].getProperty(P.PROP.FORM_PROCESS_TABLE_NAME).getColumns();for(let e=0;e<A.length;e++)A[e].name===_&&(g(this,P.PROP.VALUE_REQUIRED,A[e].isRequired?"Y":"N"),g(this,P.PROP.ELEMENT_MAX_CHARACTERS,n(A[e],"maxLen")?A[e].maxLen+"":""))}}else if(O.id===P.PROP.DATA_SOURCE_COLUMN){t=O.getValue(),A=O._getAvailableColumns(!0);for(let e=0;e<A.length;e++)A[e].name===t&&(g(this,P.PROP.DATA_TYPE,A[e].type),g(this,P.PROP.VALUE_REQUIRED,A[e].isRequired?"Y":"N"),g(this,P.PROP.ELEMENT_MAX_CHARACTERS,n(A[e],"maxLen")?A[e].maxLen+"":""))}p(this.getProperty(P.PROP.IS_PRIMARY_KEY),e,O,"Y")&&g(this,P.PROP.SESSION_STATE_PROTECTION,"S"),d({componentTypeId:P.COMP_TYPE.PAGE_ITEM,action:e,property:O,oldRegionId:E,component:this})}function HP(e,O,E){const t=P.getPluginProperty(P.COMP_TYPE.REGION,A.FACETED_SEARCH,"show_charts").id;let _,T,R;if(e===P.CALLBACK_ACTION.CHANGED&&(O.id===P.PROP.ITEM_NAME?fP(this,O,E):O.id===P.PROP.FC_SHOW_CHART&&"N"===E&&"Y"===O.getValue()&&(_=this.getParent().getChilds(P.COMP_TYPE.REGION_PLUGIN_ATTR)[0],_&&(T=_.getProperty(t),T&&"N"===T.getValue()&&T.setValue("Y")))),R=K(O,e,E),R)return R}function mP(e){e===P.CALLBACK_ACTION.CREATED?new P.Component({typeId:P.COMP_TYPE.FACET_GROUP_ITEM,parentId:this.id,values:[{id:P.PROP.HIDDEN_PARENT_REGION,value:this.parentId}]}):e===P.CALLBACK_ACTION.REMOVED&&M(this,P.COMP_TYPE.FACET_GROUP_ITEM)}function vP(e,O,E){e===P.CALLBACK_ACTION.CHANGED&&O.id===P.PROP.ITEM_NAME&&fP(this,O,E)}function bP(e){e===P.CALLBACK_ACTION.CREATED?new P.Component({typeId:P.COMP_TYPE.SFILTER_GROUP_ITEM,parentId:this.id,values:[{id:P.PROP.HIDDEN_PARENT_REGION,value:this.parentId}]}):e===P.CALLBACK_ACTION.REMOVED&&M(this,P.COMP_TYPE.SFILTER_GROUP_ITEM)}function kP(e,O,E){var t=this.getProperty(P.PROP.BUTTON_LABEL),_=Y(this.getProperty(P.PROP.BUTTON_NAME).getValue());function T(e,O,E){var t,_;t=P.getComponents(O,{properties:[{id:E,value:e}]});for(let P=0;P<t.length;P++)(_=t[P].getProperty(E)).setValue(_.getValue(),!0)}d({componentTypeId:P.COMP_TYPE.BUTTON,action:e,property:O,oldRegionId:E,component:this}),e===P.CALLBACK_ACTION.CREATED?t.setValue(_):e===P.CALLBACK_ACTION.CHANGED&&(O.id===P.PROP.BUTTON_NAME?(t=this.getProperty(P.PROP.BUTTON_LABEL),Y(E)!==t.getValue()&&""!==t.getValue()||t.setValue(_)):O.id===P.PROP.BUTTON_TEMPLATE&&(T(this.id,P.COMP_TYPE.DA_EVENT,P.PROP.WHEN_BUTTON),T(this.id,P.COMP_TYPE.DA_ACTION,P.PROP.AFFECTED_BUTTON)))}function QP(e,O,E,t,_){function T(P){let e=O.getProperty(P.id),E="",t="MYSQL"===h?"`":'"';P.value?E=P.value:e&&(E=e.getValue()||""),""!==E&&(P.prefix&&(W+=P.prefix),"MYSQL"===h?P.identifier&&!/^[A-Za-z]+[A-Za-z0-9_$]*$/.test(E)?W+=t+E.replace(/\u0060/,"``")+t:W+=E:P.identifier&&!/^[A-Z]+[A-Z0-9_$]*$/.test(E)?W+=t+E+t:W+=E,P.postfix&&(W+=P.postfix))}function R(P){let e=O.getProperty(P);return e&&""!==e.getValue().trim()}let A,C,r,i,N,n,a,l,u,s,S,d,Y,V,D,U,y,h="ORACLE",W="";if(O.typeId===P.COMP_TYPE.WORKFLOW_VERSION?(Y=P.PROP.WF_SOURCE_QUERY_TYPE,V=P.PROP.WF_SOURCE_QUERY_OWNER,D=P.PROP.WF_SOURCE_QUERY_TABLE,U=P.PROP.WF_SOURCE_SQL_QUERY):(Y=P.PROP.SOURCE_QUERY_TYPE,V=P.PROP.SOURCE_QUERY_OWNER,D=P.PROP.SOURCE_QUERY_TABLE,U=P.PROP.SOURCE_SQL_QUERY),O.typeId===P.COMP_TYPE.REGION&&p(O.getProperty(P.PROP.SOURCE_LOCATION),e,E,"")&&[P.COMP_TYPE.REGION_COLUMN,P.COMP_TYPE.REGION_TMPL_COLUMN].forEach((P=>M(O,P))),E&&E.id===Y)if(s=O.getProperty(Y).getValue(),e===P.CALLBACK_ACTION.VALIDATE){if(A=O.getProperty(P.PROP.SOURCE_LOCATION),A&&"REMOTE"===A.getValue()){if("GRAPH"===t)return{error:L("GRAPH.REMOTE_DB_NOT_SUPPORTED")};A=O.getProperty(P.PROP.SOURCE_REMOTE_DATABASE_TYPE),h=A?A.getValue():"ORACLE"}if("TABLE"===s&&["SQL","FUNC_BODY_RETURNING_SQL"].includes(t)){if(d=O.getProperty(D).getColumns(),d.length>0){A=O.getProperty(P.PROP.SOURCE_INCLUDE_ROWID_COLUMN),A&&"Y"===A.getValue()&&"ORACLE"===h&&T({value:"ROWID",postfix:",\n",identifier:!0});for(let P=0;P<d.length;P++)T({value:d[P].name,prefix:""===W?"":"       ",postfix:P<d.length-1?",\n":"",identifier:!0});W="select "+W+"\n  from ",T({id:V,postfix:".",identifier:!0}),T({id:D,identifier:!0}),T({id:P.PROP.SOURCE_QUERY_WHERE,prefix:"\n where "})}I=W+""}else"GRAPH"===s&&["SQL","FUNC_BODY_RETURNING_SQL"].includes(t)?R(P.PROP.SOURCE_GRAPH_NAME)&&R(P.PROP.SOURCE_GRAPH_MATCH_CLAUSE)&&R(P.PROP.SOURCE_GRAPH_COLUMNS_CLAUSE)&&(W="select *\n  from graph_table (\n           ",T({id:V,postfix:".",identifier:!0}),T({id:P.PROP.SOURCE_GRAPH_NAME,identifier:!0}),T({id:P.PROP.SOURCE_GRAPH_MATCH_CLAUSE,prefix:"\n           match "}),T({id:P.PROP.SOURCE_GRAPH_WHERE_CLAUSE,prefix:"\n           where "}),S=O.getProperty(P.PROP.SOURCE_GRAPH_COLUMNS_CLAUSE).getValue(),"("===S.trim().substr(0,1)?T({value:S,prefix:"\n           columns"}):T({value:S,prefix:"\n           columns( ",postfix:" )"}),W+="\n       )",T({id:P.PROP.SOURCE_GRAPH_STATIC_ORDER_BY,prefix:"\n order by "}),I=W+""):I="SQL"===s&&"FUNC_BODY_RETURNING_SQL"===t?O.getProperty(U).getValue()+"":""}else e===P.CALLBACK_ACTION.CHANGED&&["TABLE","GRAPH","SQL"].includes(t)&&""!==I&&("SQL"===s?g(O,U,I):"FUNC_BODY_RETURNING_SQL"===s&&g(O,P.PROP.SOURCE_QUERY_PLSQL_FUNC_BODY_SQL,"return q'~\n"+I+"\n~';"),I="");else if(e===P.CALLBACK_ACTION.VALIDATE&&E?.id===P.PROP.SOURCE_LOCATION&&O.getPropertyValue(P.PROP.REGION_TYPE).startsWith("TMPL_")){const e=P.getTemplateComponentType(O);if(""===t&&"REPORT"===e)return{error:L("NO_SOURCE_ERROR")}}if(e===P.CALLBACK_ACTION.CHANGED&&E.id===P.PROP.SOURCE_INCLUDE_ROWID_COLUMN&&(A=O.getProperty(D),A.setValue(A.getValue(),!0)),P.getSourceLocationProperty(O)&&E&&(E.id===P.PROP.SOURCE_REMOTE_DATABASE||E.id===D)&&g(O,P.PROP.SOURCE_REMOTE_DATABASE_TYPE,P.getSourceLocationProperty(O).databaseType()),i=O.getProperty(P.PROP.SOURCE_LOCATION),N=O.getProperty(P.PROP.REGION_TYPE),i?.getValue()===P.LOCATION.WEB_SOURCE?A=O.getProperty(P.PROP.SOURCE_WEB_SRC_QUERY):i?.getValue()===P.LOCATION.DUALITY_VIEW?A=O.getProperty(P.PROP.SOURCE_DUALITY_VIEW):i?.getValue()===P.LOCATION.JSON_COLLECTION&&(A=O.getProperty(P.PROP.SOURCE_JSON_COLLECTION)),P.getSourceLocationProperty(O)&&E&&[P.PROP.SOURCE_WEB_SRC_QUERY,P.PROP.SOURCE_DUALITY_VIEW,P.PROP.SOURCE_JSON_COLLECTION].includes(E.id)&&((o(A,e,E,t)||o(i,e,E,t))&&(E.id===P.PROP.SOURCE_WEB_SRC_QUERY?P.getSourceLocationProperty(O).wsmHasArrayColumns()?g(O,P.PROP.WEB_SRC_HAS_ARRAY_COLUMNS,"Y"):g(O,P.PROP.WEB_SRC_HAS_ARRAY_COLUMNS,"N"):P.getSourceLocationProperty(O).wsmHasArrayColumns()?g(O,P.PROP.DOC_SRC_HAS_ARRAY_COLUMNS,"Y"):g(O,P.PROP.DOC_SRC_HAS_ARRAY_COLUMNS,"N")),C=O.getProperty(P.PROP.SOURCE_WEB_SRC_ARRAY_COL),r=C?C.getValue():"",P.getSourceLocationProperty(O).wsmHasLocalTableFor(r)?g(O,P.PROP.WEB_SRC_HAS_LOCAL_TABLE,"Y"):g(O,P.PROP.WEB_SRC_HAS_LOCAL_TABLE,"N")),n=O.getProperty(P.PROP.WEB_SRC_USE_LOCAL_TABLE),(o(A,e,E,t)||o(i,e,E,t)||o(C,e,E,t)||o(n,e,E,t))&&(M(O,_),A&&(a=A.getValue(),l=r,""!==a&&(O.getProperty(P.PROP.WEB_SRC_USE_LOCAL_TABLE)&&"N"!==O.getProperty(P.PROP.WEB_SRC_USE_LOCAL_TABLE).getValue()||(c(O,O.id,a,P.COMP_TYPE.WEB_SRC_MOD_PARAM,_),G(O,O.id,a,"FETCH_COLLECTION",l,_),N&&("NATIVE_IG"===N.getValue()?u=O.getChilds(P.COMP_TYPE.IG_ATTRIBUTES):"NATIVE_FORM"===N.getValue()&&(u=O.getChilds(P.COMP_TYPE.REGION_PLUGIN_ATTR)),u&&u[0]&&f(u[0],O.id)))))),A=O.getProperty([P.PROP.SOURCE_POST_PROCESSING,P.PROP.DUALITYVIEW_SOURCE_POST_PROCESSING,P.PROP.JSONCOLL_SOURCE_POST_PROCESSING]),p(A,e,E,"SQL")||p(A,e,E,"FUNC_BODY_RETURNING_SQL")){let e,E,t,_=A.id;if(_===P.PROP.SOURCE_POST_PROCESSING?(e=P.PROP.SOURCE_WEB_SRC_QUERY,E=P.PROP.POST_PROC_SQL_QUERY,t=P.PROP.POST_PROC_PLSQL_FUNC_BODY_SQL):_===P.PROP.DUALITYVIEW_SOURCE_POST_PROCESSING?(e=P.PROP.SOURCE_DUALITY_VIEW,E=P.PROP.DUALITYVIEW_POST_PROC_SQL_QUERY,t=P.PROP.DUALITYVIEW_POST_PROC_PLSQL_FUNC_BODY_SQL):_===P.PROP.JSONCOLL_SOURCE_POST_PROCESSING&&(e=P.PROP.SOURCE_JSON_COLLECTION,E=P.PROP.JSONCOLL_POST_PROC_SQL_QUERY,t=P.PROP.JSONCOLL_POST_PROC_PLSQL_FUNC_BODY_SQL),W="",d=O.getProperty(e).getColumns(),d.length>0){for(let P=0;P<d.length;P++)T({value:d[P].name,prefix:0===P?"":"       ",postfix:P<d.length-1?",\n":"",identifier:!0});W="select "+W+"\n  from #APEX$SOURCE_DATA#","SQL"===A.getValue()?g(O,E,W):"FUNC_BODY_RETURNING_SQL"===A.getValue()&&g(O,t,"return q'~\n"+W+"\n~';")}}else if(p(A,e,E,"")){let e=O.getProperty(P.getSourceLocationProperty(O).id);e&&e.setValue(e.getValue(),!0)}if(o(O.getProperty(P.PROP.SOURCE_WEB_SRC_ARRAY_COL),e,E,t)&&(A=O.getProperty(P.PROP.SOURCE_WEB_SRC_QUERY),A.setValue(A.getValue(),!0)),o(O.getProperty(P.PROP.SOURCE_DUALITY_VIEW_ARRAY_COL),e,E,t)&&(A=O.getProperty(P.PROP.SOURCE_DUALITY_VIEW),A.setValue(A.getValue(),!0)),o(O.getProperty(P.PROP.SOURCE_JSON_COLLECTION_ARRAY_COL),e,E,t)&&(A=O.getProperty(P.PROP.SOURCE_JSON_COLLECTION),A.setValue(A.getValue(),!0)),y=O.getProperty(P.PROP.SOURCE_LOCATION),o(y,e,E,t)){let e=O.getChilds(P.COMP_TYPE.REGION_PLUGIN_ATTR)[0];e&&g(e,P.PROP.HIDDEN_SOURCE_LOCATION,y.getValue())}}function wP(e,O,E){let t;if(d({componentTypeId:P.COMP_TYPE.REGION,action:e,property:O,oldRegionId:E,component:this}),""!==this.getProperty(P.PROP.PARENT_REGION).getValue()&&(e===P.CALLBACK_ACTION.CREATED||e===P.CALLBACK_ACTION.CHANGED&&O.id===P.PROP.PARENT_REGION&&""===E)&&g(this,P.PROP.REGION_DISPLAY_SELECTOR,"N"),e===P.CALLBACK_ACTION.CHANGED&&O.id===P.PROP.MASTER_REGION&&""!==E){t=this.getChilds(P.COMP_TYPE.IG_COLUMN,{filterFunction:function(){var e=this.getProperty(P.PROP.MASTER_COLUMN);return e&&""!==e.getValue()}});for(let e=0;e<t.length;e++)g(t[e],P.PROP.MASTER_COLUMN,"")}return QP(e,this,O,E,P.COMP_TYPE.REGION_WS_PARAM)}function XP(O,t){var _,T,R,A=E.getDecimalSeparator(),C={LETTER:{units:"INCHES",width:"8"+A+"5",height:"11"},LEGAL:{units:"INCHES",width:"8"+A+"5",height:"14"},TABLOID:{units:"INCHES",width:"8.5",height:"17"},A4:{units:"MILLIMETERS",width:"210",height:"297"},A3:{units:"MILLIMETERS",width:"297",height:"420"}};O===P.CALLBACK_ACTION.CREATED?(_=-1!==e.inArray(P.getPrimaryLanguage(),["en","en-us","en-ca","fr-ca"])?"LETTER":"A4",g(this,P.PROP.PRINT_PAGE_SIZE,_)):O===P.CALLBACK_ACTION.CHANGED&&(t.id===P.PROP.PRINT_PAGE_SIZE&&"CUSTOM"!==t.getValue()?(_=C[t.getValue()],g(this,P.PROP.PRINT_UNITS,_.units),"VERTICAL"===this.getProperty(P.PROP.PRINT_ORIENTATION).getValue()?(g(this,P.PROP.PRINT_WIDTH,_.width),g(this,P.PROP.PRINT_HEIGHT,_.height)):(g(this,P.PROP.PRINT_WIDTH,_.height),g(this,P.PROP.PRINT_HEIGHT,_.width))):t.id===P.PROP.PRINT_ORIENTATION&&(T=this.getProperty(P.PROP.PRINT_WIDTH).getValue(),R=this.getProperty(P.PROP.PRINT_HEIGHT).getValue(),g(this,P.PROP.PRINT_WIDTH,R),g(this,P.PROP.PRINT_HEIGHT,T)))}function JP(e){var O,E;if(""!==e&&""!==(E=(O=P.getComponents(P.COMP_TYPE.BUTTON,{id:e})[0]).getProperty(P.PROP.BUTTON_TEMPLATE).getValue())&&!P.getButtonTemplates()[E].hasButtonId&&!/id=/.test(O.getProperty(P.PROP.CUSTOM_ATTRIBUTES).getValue()))return{error:t.formatMessage("PD.PE.BUTTON_NO_ID_ERROR")}}function xP(e){var O;return e.getProperty(P.PROP.JS_CONDITION)?O=e.getProperty(P.PROP.JS_CONDITION):e.getProperty(P.PROP.JS_CONDITION_WHEN_IG)&&(O=e.getProperty(P.PROP.JS_CONDITION_WHEN_IG)),!O||""===O.getValue()}function ZP(O,E,t){var _,T,R,A,C,I,r,i,N,n=this.getProperty(P.PROP.IG_REGION),a="";if(O===P.CALLBACK_ACTION.CREATED||O===P.CALLBACK_ACTION.CHANGED&&[P.PROP.WHEN_TYPE,P.PROP.WHEN_REGION,P.PROP.WHEN_IG_REGION].includes(E.id)){const e=this.getProperty([P.PROP.WHEN_REGION,P.PROP.WHEN_IG_REGION]);for(e&&""!==e.getValue()&&"NATIVE_IG"===P.getComponents(P.COMP_TYPE.REGION,{id:e.getValue()})[0].getProperty(P.PROP.REGION_TYPE).getValue()&&(a=e.getValue()),n.setValue(a),I=this.getChilds(P.COMP_TYPE.DA_ACTION),_=0;_<I.length;_++)g(I[_],P.PROP.IG_REGION,a)}if(O===P.CALLBACK_ACTION.CHANGED&&-1!==e.inArray(E.id,[P.PROP.JS_CONDITION,P.PROP.JS_CONDITION_WHEN_IG]))if(A=this.getChilds(P.COMP_TYPE.DA_ACTION,{properties:[{id:P.PROP.FIRE_WHEN_EVENT_RESULT_IS,value:"FALSE"}]}),xP(this))s(A);else for(_=0;_<A.length;_++)(C=A[_].getProperty(P.PROP.FIRE_WHEN_EVENT_RESULT_IS)).setValue(C.getValue());if((O===P.CALLBACK_ACTION.CREATED||O===P.CALLBACK_ACTION.CHANGED&&-1!==e.inArray(E.id,[P.PROP.JS_CONDITION,P.PROP.JS_CONDITION_WHEN_IG,P.PROP.WHEN_ITEMS,P.PROP.WHEN_COLUMNS]))&&(""===n.getValue()?(r=this.getProperty(P.PROP.WHEN_ITEMS),i=this.getProperty(P.PROP.JS_CONDITION_ITEM)):(r=this.getProperty(P.PROP.WHEN_COLUMNS),i=this.getProperty(P.PROP.JS_CONDITION_COLUMN_WHEN_IG)),r&&i&&(""===i.getValue()||E.id===r.id&&i.getValue()===t.split(",")[0])&&i.setValue(r.getValue().split(",")[0])),o(T=this.getProperty(P.PROP.WHEN_BUTTON),O,E))/^apex/.test(this.getProperty(P.PROP.EVENT).getValue())||!T||T.getMetaData().isReadOnly||""===T.getValue()||"DEFINED_BY_DA"!==(R=P.getComponents(P.COMP_TYPE.BUTTON,{id:T.getValue()})[0].getProperty(P.PROP.BUTTON_ACTION)).getValue()&&R.setValue("DEFINED_BY_DA");else if(O===P.CALLBACK_ACTION.VALIDATE&&E.id===P.PROP.WHEN_BUTTON)return JP(t);p(N=this.getProperty(P.PROP.DA_EXECUTION_TYPE),O,E,"DEBOUNCE")?g(this,P.PROP.DA_EXECUTION_IMMEDIATE,"N"):p(N,O,E,"THROTTLE")&&g(this,P.PROP.DA_EXECUTION_IMMEDIATE,"Y")}function $P(O,E,_){const T=this.getProperty(P.PROP.NAME),R=this.getProperty(P.PROP.DA_ACTION_TYPE);let A=this.getProperty(P.PROP.AFFECTED_TYPE);if(O===P.CALLBACK_ACTION.CREATED)g(this,P.PROP.IG_REGION,this.getParent().getProperty(P.PROP.IG_REGION).getValue()),A&&""===A.getValue()&&"NATIVE_JAVASCRIPT_CODE"!==R.getValue()&&(""===this.getProperty(P.PROP.IG_REGION).getValue()?A.setValue("ITEM"):A.setValue("COLUMN"));else if(O===P.CALLBACK_ACTION.CHANGED)E.id===P.PROP.DA_EVENT&&"FALSE"===this.getProperty(P.PROP.FIRE_WHEN_EVENT_RESULT_IS).getValue()&&xP(this.getParent())&&g(this,P.PROP.FIRE_WHEN_EVENT_RESULT_IS,"TRUE");else if(O===P.CALLBACK_ACTION.VALIDATE)if(E.id===P.PROP.FIRE_WHEN_EVENT_RESULT_IS){if("FALSE"===_&&xP(this.getParent()))return{error:t.formatMessage("PD.PE.INVALID_FALSE_ACTIONS")}}else{if(E.id===P.PROP.AFFECTED_BUTTON)return JP(_);if(E.id===P.PROP.AFFECTED_COLUMNS){if(""!==this.getProperty(P.PROP.IG_REGION).getValue()&&""!==_&&e.inArray(this.getProperty(P.PROP.DA_ACTION_TYPE).getValue(),["NATIVE_SHOW","NATIVE_HIDE"])>-1)return{error:t.formatMessage("PD.PE.SHOW_HIDE_NOT_SUPPORTED")}}else if(E.id===P.PROP.DA_ACTION_TYPE&&""!==this.getProperty(P.PROP.IG_REGION).getValue()&&this.getProperty(P.PROP.AFFECTED_COLUMNS)&&""!==this.getProperty(P.PROP.AFFECTED_COLUMNS).getValue()&&e.inArray(_,["NATIVE_SHOW","NATIVE_HIDE"])>-1)return{error:t.formatMessage("PD.PE.SHOW_HIDE_NOT_SUPPORTED")}}(o(T,O,E)||o(R,O,E))&&this.getProperty(P.PROP.NAME_HIDDEN).setValue(T.getValue()||R.getDisplayValue()),p(R,O,E,"NATIVE_JAVASCRIPT_CODE")&&A.setValue("")}function qP(e,O,E){let t=this,_=t.getProperty(P.PROP.VALUE_TYPE),T=t.getProperty(P.PROP.API_DIRECTION),R=t.getProperty(P.PROP.IGNORE_OUTPUT),C=t.getProperty(P.PROP.OUT_VALUE_TYPE);if(o(_,e,O)||o(R,e,O)||C&&o(C,e,O)){let e,O=T.getValue(),E=R?R.getValue():"";"IN"===O?e=i:"OUT"===O&&"Y"===E?e="":"IN_OUT"===O&&["Y",""].includes(E)?e=i:["IN_OUT","OUT"].includes(O)&&"N"===E&&(e=N),g(t,P.PROP.HIDDEN_REQUIRED_VALUE_TYPE,e),_=t.getProperty(P.PROP.VALUE_TYPE),C=t.getProperty(P.PROP.OUT_VALUE_TYPE),C?g(t,P.PROP.HIDDEN_VALUE_TYPE,C.getValue()):_?g(t,P.PROP.HIDDEN_VALUE_TYPE,_.getValue()):e!==N&&""!==e||g(t,P.PROP.HIDDEN_VALUE_TYPE,e)}if(e===P.CALLBACK_ACTION.VALIDATE){if([P.COMP_TYPE.REGION_WS_PARAM,P.COMP_TYPE.JET_CHART_WS_PARAM,P.COMP_TYPE.MAP_LAYER_WS_PARAM].includes(t.typeId)&&O.id===P.PROP.IGNORE_OUTPUT&&"N"===E){let e,O,E,_,T=t.getParent(),R="N";if(T.typeId===P.COMP_TYPE.REGION&&(e=t.getParent().getProperty(P.PROP.REGION_TYPE).getValue(),[A.IG,A.FORM].includes(e)&&(e===A.IG?_=T.getChilds(P.COMP_TYPE.IG_ATTRIBUTES)[0]:e===A.FORM&&(_=T.getChilds(P.COMP_TYPE.REGION_PLUGIN_ATTR)[0]),R=_.getProperty(P.PROP.IS_EDITABLE).getValue())),"N"===R)return{error:L("WEB_SRC_PARAM.IGNORE_OUTPUT_NON_EDITABLE")};if(O=P.getComponents(P.COMP_TYPE.WEB_SRC_OPER_PARAM,{id:t.getProperty(P.PROP.WEB_SRC_PARAM).getValue()})[0],O&&(E=O.getProperty(P.PROP.DATABASE_OPERATION),E&&"FETCH_COLLECTION"===E.getValue()))return{error:L("WEB_SRC_PARAM.IGNORE_OUTPUT_FETCH_COLLECTION")}}if(O.id===P.PROP.VALUE_TYPE&&"NULL"===E){let e,O;if(e=P.getComponents(P.COMP_TYPE.WEB_SRC_MOD_PARAM,{id:t.getProperty(P.PROP.WEB_SRC_PARAM).getValue()})[0],e||(e=P.getComponents(P.COMP_TYPE.WEB_SRC_OPER_PARAM,{id:t.getProperty(P.PROP.WEB_SRC_PARAM).getValue()})[0]),e&&(O=e.getProperty(P.PROP.PARAMETER_REQUIRED),O&&"Y"===O.getValue()))return{error:L("WEB_SRC_PARAM.REQUIRES_VALUE")}}}}function zP(e,O,E,t){let _,T,R=this,A=R.getProperty(P.getPluginProperty(R.typeId,C.INVOKE_API,1).id),I=R.getProperty([P.getPluginProperty(R.typeId,C.INVOKE_API,4).id,P.getPluginProperty(R.typeId,C.INVOKE_API,5).id]),r=R.getProperty(P.getPluginProperty(R.typeId,C.INVOKE_API,6).id),i=R.getProperty(P.getPluginProperty(R.typeId,C.INVOKE_API,7).id);if(this.typeId===P.COMP_TYPE.WORKFLOW_ACTIVITY?(_=P.COMP_TYPE.WF_ACTIVITY_API_PARAM,T=P.COMP_TYPE.WF_ACTIVITY_WS_PARAM):(_=P.COMP_TYPE.PAGE_PROC_API_PARAM,T=P.COMP_TYPE.PAGE_PROC_WS_PARAM),e===P.CALLBACK_ACTION.VALIDATE&&I&&I.id===O.id){if(t.parameters&&t.parameters.length>1)return{warning:L("INVOKE_API.OVERLOADED_WARNING",E)}}else if(e===P.CALLBACK_ACTION.REMOVED)M(R,_),M(R,T);else if(o(A,e,O)&&(M(R,_),M(R,T)),o(I,e,O)){let e=I.getParameters(),O=R.getChilds(_);e.length>0&&(function(e,O){let E,t,_,T;for(E=0;E<O.length;E++){for(_=!1,T=O[E].getProperty(P.PROP.NAME).getValue().toLowerCase(),t=0;t<e.length&&!_;t++)if(e[t].name.toLowerCase()===T){e[t].parameterComponent=O[E],_=!0;break}_||O[E].remove()}}(e,O),function(e,O,E){let t,_;for(O.length>0&&(_=O[O.length-1]),t=0;t<e.length;t++)if(e[t].parameterComponent){let O=e[t].parameterComponent;g(O,P.PROP.API_DIRECTION,e[t].direction),g(O,P.PROP.HAS_DEFAULT,e[t].hasDefault?"Y":"N"),e[t].isCustomDataType?(g(O,P.PROP.API_DATA_TYPE,"CUSTOM"),g(O,P.PROP.API_CUSTOM_DATA_TYPE,e[t].dataType)):g(O,P.PROP.API_DATA_TYPE,e[t].dataType)}else _=new P.Component({previousComponent:_,typeId:E,parentId:R.id,values:[{id:P.PROP.NAME,value:e[t].name}]})}(e,O,_))}else{let E,t,_=o(r,e,O),A=o(i,e,O);if(_)M(R,T),c(R,R.id,r.getValue(),P.COMP_TYPE.WEB_SRC_MOD_PARAM,T);else if(A){E=R.getChilds(T);for(let e=0;e<E.length;e++)t=P.getComponents(P.COMP_TYPE.WEB_SRC_OPER_PARAM,{id:E[e].getProperty(P.PROP.WEB_SRC_PARAM).getValue()}),t[0]&&s([E[e]]);c(R,R.id,i.getValue(),P.COMP_TYPE.WEB_SRC_OPER_PARAM,T,P.getComponents(P.COMP_TYPE.WEB_SRC_OPERATION,{id:i.getValue()})[0])}}}function jP(e,O,E){const t=["ON_SUBMIT_BEFORE_COMPUTATION","AFTER_SUBMIT"];let _,T,R,A,I=this,r=I.getProperty(P.PROP.PROCESS_POINT),i=P.getPluginProperty(I.typeId,C.EXECUTION_CHAIN,1).id;function N(e,O){let E=[];return function e(t){let _;if(t.getProperty(P.PROP.PAGE_PROCESS_TYPE).getValue()===C.EXECUTION_CHAIN){_=P.getComponents(P.COMP_TYPE.PAGE_PROCESS,{properties:[{id:P.PROP.PARENT_PROCESS,value:t.id}]});for(let P=0;P<_.length;P++)E.push(_[P]),O&&e(_[P])}}(e),E}if(e===P.CALLBACK_ACTION.CHANGED&&O.id===P.PROP.PROCESS_POINT&&(t.includes(r.getValue())||function e(O){g(O,i,"N"),_=N(O,!1);for(let O=0;O<_.length;O++)_[O].getProperty(P.PROP.PAGE_PROCESS_TYPE).getValue()===C.EXECUTION_CHAIN&&e(_[O])}(I)),e===P.CALLBACK_ACTION.VALIDATE&&O.id===i&&"Y"===E){if(R=function e(O){let E,t=O.getProperty(P.PROP.PARENT_PROCESS);return t&&""!==t.getValue()&&(E=P.getComponents(P.COMP_TYPE.PAGE_PROCESS,{id:t.getValue()})[0],E)?e(E):O}(I),r=R.getProperty(P.PROP.PROCESS_POINT),T=R.getProperty(P.PROP.NAME),r&&(A=r.getValue(),!t.includes(A)))return{error:L("PROCESS_BACKGROUND.PAGE_RENDERING_NOT_SUPPORTED",T.getValue())};_=N(I,!0);for(let e=0;e<_.length;e++){let O=_[e].getProperty(P.PROP.PROCESS_REGION),E=_[e].getProperty(P.PROP.NAME);if(O&&""!==O.getValue())return{error:L("PROCESS_BACKGROUND.CHILD_PROCESSES_W_REGION_NOT_SUPPORTED",E.getValue())}}}}function Pe(e,O,E){const t=[P.PROP.API_VALUE_TYPE_BASIC,P.PROP.API_VALUE_TYPE_BLOB,P.PROP.API_VALUE_TYPE_CUSTOM],_="API_DEFAULT";let T=this,R=T.getProperty(P.PROP.NAME),I=T.getProperty(P.PROP.API_DIRECTION),r=T.getProperty(P.PROP.API_DATA_TYPE),n=T.getProperty(P.PROP.IGNORE_OUTPUT),a=T.getProperty(t),l=T.getProperty(P.PROP.HAS_DEFAULT);if(e===P.CALLBACK_ACTION.CREATED||o(R,e,O,E)){let e,O,E=T.getParent(),t="",i="",N=E.getProperty([P.getPluginProperty(E.typeId,C.INVOKE_API,4).id,P.getPluginProperty(E.typeId,C.INVOKE_API,5).id]).getParameters(),n=R.getValue().toLowerCase();for(E.typeId!==P.COMP_TYPE.WORKFLOW_ACTIVITY&&(t=E.getProperty(P.PROP.PROCESS_REGION).getValue()),""!==t&&(e=pe.getComponents(pe.COMP_TYPE.REGION,{id:t},!1)[0],i=e.getProperty(pe.PROP.REGION_TYPE).getValue()),O=0;O<N.length;O++)if(N[O].name.toLowerCase()===n)if(I.setValue(N[O].direction),g(T,P.PROP.HAS_DEFAULT,N[O].hasDefault?"Y":"N"),N[O].isCustomDataType)r.setValue("CUSTOM"),g(T,P.PROP.API_CUSTOM_DATA_TYPE,N[O].dataType),N[O].hasDefault&&g(T,P.PROP.API_VALUE_TYPE_CUSTOM,_);else if(r.setValue(N[O].dataType),"BLOB"!==N[O].dataType){let E,t=[];i===A.IG&&(E=P.PROP.COLUMN_NAME,t=e.getChilds(P.COMP_TYPE.IG_COLUMN,{properties:[{id:E,value:N[O].name.replace(/^p_|pi_|po_/,"").toUpperCase()}]})),0===t.length&&(E=P.PROP.ITEM_NAME,t=P.getComponents(P.COMP_TYPE.PAGE_ITEM,{properties:[{id:E,value:"P"+P.getCurrentPageId()+"_"+N[O].name.replace(/^p_|pi_|po_/,"").toUpperCase()}]})),t.length>0?(g(T,P.PROP.API_VALUE_TYPE_BASIC,"ITEM"),g(T,P.PROP.VALUE_ITEM,t[0].getProperty(E).getValue())):N[O].hasDefault?g(T,P.PROP.API_VALUE_TYPE_BASIC,_):"BOOLEAN"===N[O].dataType&&g(T,P.PROP.API_VALUE_TYPE_BASIC,"STATIC")}else N[O].hasDefault&&g(T,P.PROP.API_VALUE_TYPE_BLOB,_)}else if(e===P.CALLBACK_ACTION.VALIDATE&&(O.id===P.PROP.HAS_DEFAULT||t.includes(O.id)))if(O.id===P.PROP.HAS_DEFAULT&&"N"===E){if(a&&a.getValue()===_)return{error:L("INVOKE_API.HAS_DEFAULT_ERROR")}}else if(E===_&&(!l||"N"===l.getValue()))return{error:L("INVOKE_API.API_DEFAULT_ERROR")};if(o(I,e,O)||o(r,e,O)||o(n,e,O)){let e,O=I.getValue(),E=r.getValue(),_=n?n.getValue():"";["IN","IN_OUT"].includes(O)&&"BLOB"===E?e="BLOB":["IN","IN_OUT"].includes(O)&&"CUSTOM"===E?e="CUSTOM":"IN"===O?e=i:"OUT"===O&&["BLOB","CUSTOM"].includes(E)||"OUT"===O&&"Y"===_?e="":"IN_OUT"===O&&"Y"===_?e=i:["IN_OUT","OUT"].includes(O)&&"N"===_&&(e=N),g(T,P.PROP.HIDDEN_REQUIRED_VALUE_TYPE,e),a=T.getProperty(t),a?g(T,P.PROP.HIDDEN_VALUE_TYPE,a.getValue()):e!==N&&""!==e||g(T,P.PROP.HIDDEN_VALUE_TYPE,e)}o(a,e,O)&&g(T,P.PROP.HIDDEN_VALUE_TYPE,a.getValue())}function ee(e,O,E){const t=this.getProperty(P.PROP.IGNORE_OUTPUT);if(e===P.CALLBACK_ACTION.CREATED)this.getProperty(P.PROP.PARAMETER_VALUE_TYPE)?.setValue(this.getProperty(P.PROP.HIDDEN_VALUE_TYPE).getValue());else if(o(this.getProperty(P.PROP.PARAMETER_VALUE_TYPE),e,O,E))this.getProperty(P.PROP.HIDDEN_VALUE_TYPE).setValue(this.getProperty(P.PROP.PARAMETER_VALUE_TYPE).getValue());else if(o(t,e,O)||o(this.getProperty(P.PROP.API_DIRECTION),e,O)){let e=this.getProperty(P.PROP.API_DIRECTION).getValue();"IN_OUT"===e?"Y"===t.getValue()?this.getProperty(P.PROP.HIDDEN_REQUIRED_VALUE_TYPE).setValue("BASIC"):(this.getProperty(P.PROP.HIDDEN_REQUIRED_VALUE_TYPE).setValue("ITEM"),this.getProperty(P.PROP.HIDDEN_VALUE_TYPE).setValue("ITEM")):"OUT"===e?(this.getProperty(P.PROP.HIDDEN_REQUIRED_VALUE_TYPE).setValue(""),this.getProperty(P.PROP.HIDDEN_VALUE_TYPE).setValue("N"===t.getValue()?"ITEM":"")):"IN"===e&&this.getProperty(P.PROP.HIDDEN_REQUIRED_VALUE_TYPE).setValue("BASIC")}}function Oe(e,O,E){const t="NATIVE_PLSQL",_="ON_DEMAND",T=this;let R,A=T.getProperty(P.PROP.PROCESS_POINT),I=T.getProperty(P.PROP.PAGE_PROCESS_TYPE),r=T.getProperty(P.PROP.PARENT_PROCESS);if(e===P.CALLBACK_ACTION.CHANGED&&O.id===P.PROP.PARENT_PROCESS&&""!==E&&""===r.getValue()&&A.setValue(function e(O){let E,t=P.getComponents(P.COMP_TYPE.PAGE_PROCESS,{id:O})[0],_=t.getProperty(P.PROP.PARENT_PROCESS);return E=_&&""!==_.getValue()?e(_.getValue()):t.getProperty(P.PROP.PROCESS_POINT)?t.getProperty(P.PROP.PROCESS_POINT).getValue():"AFTER_SUBMIT",E}(E)),e===P.CALLBACK_ACTION.VALIDATE&&O.id===P.PROP.PROCESS_REGION&&""!==E&&(R=function e(O){let E,t,_=O.getProperty(P.PROP.PARENT_PROCESS),R=!1;return _&&""!==_.getValue()&&(t=P.getComponents(P.COMP_TYPE.PAGE_PROCESS,{id:_.getValue()})[0],t&&(E=t.getProperty(P.getPluginProperty(T.typeId,C.EXECUTION_CHAIN,1).id),R=E&&"Y"===E.getValue()?t.getProperty(P.PROP.NAME).getValue():e(t))),R}(T),R))return{error:L("PROCESS_BACKGROUND.PROCESS_W_REGION_NOT_SUPPORTED",R)};if(e===P.CALLBACK_ACTION.VALIDATE&&O.id===P.PROP.PAGE_PROCESS_TYPE&&E!==C.EXECUTION_CHAIN&&(i=T,P.getComponents(P.COMP_TYPE.PAGE_PROCESS,{properties:[{id:P.PROP.PARENT_PROCESS,value:i.id}]})?.length>0))return{error:L("PROCESS.CHILDREN_ONLY_ALLOWED_FOR_EXECUTION_CHAINS")};var i;if(!O||!A||!I)return;let N=A.getValue(),n=I.getValue(),a=O.id===P.PROP.PAGE_PROCESS_TYPE,l=O.id===P.PROP.PROCESS_POINT,o=N===_,p=n===t,u=n===C.DOWNLOAD,s=n===C.PRINT_REPORT;switch(e){case P.CALLBACK_ACTION.VALIDATE:if(a&&o&&E!==t||l&&!p&&E===_)return{error:L("PROCESS.AJAX_RESTRICTION")};break;case P.CALLBACK_ACTION.CHANGED:a&&p&&o?S(null,A):l&&!p&&E===_?S(null,I):a&&(u||s)&&S(null,A)}}function Ee(e,O,E){let t=this,_=t.getProperty(P.PROP.ACTION_POSITION),T=t.getProperty(P.PROP.ACTION_TEMPLATE),R=t.getProperty(P.PROP.HIDDEN_TEMPLATE_ID);if(o(O,e,_,E)){let e=P.getPluginActionPosition(_.getValue());"LINK"===e.type?R.setValue("0"):e.templateId&&R.setValue(e.templateId)}if(T&&o(O,e,T,E)&&R.setValue(T.getValue()),o(O,e,R,E)){let e;t.typeId===P.COMP_TYPE.REGION_ACTION?e=P.COMP_TYPE.REGION_ACTION_MENU_ENTRY:t.typeId===P.COMP_TYPE.IR_COLUMN_ACTION&&(e=P.COMP_TYPE.IR_COL_ACTION_MENU_ENTRY),"MENU"===P.getActionPositionType(t)?0===t.getChilds(e).length&&new P.Component({typeId:e,parentId:t.id}):M(t,e)}}function te(e,O){let E,t=this;(u(O,e,t.getProperty(P.PROP.MENU_ENTRY_TYPE),"SUB_MENU")||e===P.CALLBACK_ACTION.REMOVED)&&(t.typeId===P.COMP_TYPE.REGION_ACTION_MENU_ENTRY?E=P.PROP.REGION_ACTION_PARENT_MENU:t.typeId===P.COMP_TYPE.IR_COL_ACTION_MENU_ENTRY&&(E=P.PROP.IR_COLUMN_ACTION_PARENT_MENU),s(P.getComponents(t.typeId,{parentId:t.parentId,properties:[{id:E,value:t.id}]},!1)))}function _e(e){switch(e.getProperty(P.PROP.STATE).getValue()){case"ACTIVE":this.enable(),this.getProperties().forEach((e=>e.id!==P.PROP.DIAGRAM&&e.disable()));break;case"DEVELOPMENT":this.enable(),this.getProperties().forEach((e=>{[P.PROP.CHANGED_ON,P.PROP.CHANGED_BY].includes(e.id)||e.enable()}));break;case"INACTIVE":this.disable()}}function Te(e,O,E){const t=this,_=P.getPluginProperty(P.COMP_TYPE.WORKFLOW_ACTIVITY,C.INVOKE_WF,1).id,T=P.getPluginProperty(P.COMP_TYPE.WORKFLOW_ACTIVITY,C.INVOKE_WF,5).id,R=t.getPropertyValue(P.PROP.API_DIRECTION),A=this.getProperty(P.PROP.WORKFLOW_DATA_TYPE),I=this.getProperty(P.PROP.PARAMETER_DEFAULT_VALUE),r=this.getProperty(P.PROP.PARAMETER_REQUIRED),i=()=>P.getComponents(P.COMP_TYPE.WF_ACTIVITY_WF_PARAM,{properties:[{id:P.PROP.WORKFLOW_PARAM,value:t.id}]});e===P.CALLBACK_ACTION.CREATED||o(this.getProperty(P.PROP.API_DIRECTION),e,O)?P.getComponents(P.COMP_TYPE.WORKFLOW_ACTIVITY,{properties:[{id:P.PROP.PAGE_PROCESS_TYPE,value:C.INVOKE_WF},{id:_,value:t.getParent().id}]}).forEach((O=>{let E=O.getChilds(P.COMP_TYPE.WF_ACTIVITY_WF_PARAM).filter((e=>e.getPropertyValue(P.PROP.WORKFLOW_PARAM)===t.id))[0],_=O.getPropertyValue(T);e!==P.CALLBACK_ACTION.CREATED&&E?E&&("N"===_&&"OUT"===R?E.remove():function(e,O){const E="ITEM",t="NULL",_=e.getPropertyValue(P.PROP.API_DIRECTION),T="Y"===e.getPropertyValue(P.PROP.PARAMETER_REQUIRED),R=e.getPropertyValue(P.PROP.PARAMETER_DEFAULT_VALUE),A=O.getPropertyValue(P.PROP.API_DIRECTION),C=O.getPropertyValue(P.PROP.HIDDEN_VALUE_TYPE),I=()=>{g(O,P.PROP.PARAMETER_VALUE_TYPE,""!==R?"DEFAULT":E)};A!==_?(O.getProperty(P.PROP.API_DIRECTION).setValue(_,{checkReadOnly:!1}),C!==E&&("OUT"===A&&"IN_OUT"===_||"OUT"===A&&"IN"===_)&&(T?I():g(O,P.PROP.PARAMETER_VALUE_TYPE,t))):T&&C===t&&I()}(t,E)):("OUT"!==R||"OUT"===R&&"Y"===_)&&W(t,O)})):o(A,e,O,E)?i().forEach((e=>e.getProperty(P.PROP.WORKFLOW_DATA_TYPE).setValue(A.getValue(),{checkReadOnly:!1}))):o(I,e,O,E)&&"Y"===r?.getValue()&&i().forEach((e=>{"NULL"===e.getPropertyValue(P.PROP.PARAMETER_VALUE_TYPE)&&g(e,P.PROP.PARAMETER_VALUE_TYPE,"DEFAULT")}))}function Re(e){let O=this.getParent(P.COMP_TYPE.WORKFLOW_VERSION);[P.CALLBACK_ACTION.PARENT_UPDATE,P.CALLBACK_ACTION.INIT].includes(e)&&O&&_e.call(this,O)}function Ae(e){let O=this.getParent(P.COMP_TYPE.WORKFLOW_VERSION);[P.CALLBACK_ACTION.PARENT_UPDATE,P.CALLBACK_ACTION.INIT].includes(e)&&O&&_e.call(this,O)}function Ce(e,O,E){const t="OTHERWISE";let _,T=this.getParent(P.COMP_TYPE.WORKFLOW_VERSION);if([P.CALLBACK_ACTION.PARENT_UPDATE,P.CALLBACK_ACTION.INIT].includes(e)&&T)_e.call(this,T);else if(e===P.CALLBACK_ACTION.VALIDATE){if(O.id===P.PROP.OPERATOR)return _=this.getParent().getChilds(P.COMP_TYPE.WORKFLOW_BRANCH,{properties:[{id:P.PROP.OPERATOR,value:t}]}),E===t&&O.getValue()!==t&&_.length?{error:l("WF.ERROR_MAX_ONE_OTHERWISE")}:{};if(P.PROP.TO_WORKFLOW_ACTIVITY===O.id&&E&&O.id===P.PROP.TO_WORKFLOW_ACTIVITY){let e=P.getComponents(P.COMP_TYPE.WORKFLOW_ACTIVITY,{id:E});if(1===e.length&&"NATIVE_WORKFLOW_START"===e[0].getProperty(P.PROP.PAGE_PROCESS_TYPE).getValue())return{error:l("WF.ERROR_START_AS_TARGET")}}}else e===P.CALLBACK_ACTION.REMOVED&&(this.isReadOnly()||this.getParent().getChilds(P.COMP_TYPE.WORKFLOW_BRANCH,{properties:[{id:P.PROP.OPERATOR,value:t}]}).forEach((e=>{let O=e.getProperty(P.PROP.OPERATOR);O.setValue(O.getValue(),!0)})))}function Ie(e,O,E){const t="NORMAL",_="TIMEOUT",T=[P.PROP.FROM_WORKFLOW_ACTIVITY,P.PROP.TO_WORKFLOW_ACTIVITY,P.PROP.TRANSITION_TYPE];let R,A,C,I,r,i=this;switch(e){case P.CALLBACK_ACTION.VALIDATE:if(O.id===P.PROP.TRANSITION_TYPE){if("ERROR"===E||!i.getParent())return{};if(A=i.getParent().getChilds(P.COMP_TYPE.WORKFLOW_TRANS,{parentId:i.parentId,properties:[{id:P.PROP.TRANSITION_TYPE,value:t}]}),E===t&&A.length>0&&i.id!==A[0].id)return{error:l("WF.ERROR_MAX_ONE_NORMAL")};if(A=i.getParent().getChilds(P.COMP_TYPE.WORKFLOW_TRANS,{parentId:i.parentId,properties:[{id:P.PROP.TRANSITION_TYPE,value:_}]}),E===_&&A.length>0&&i.id!==A[0].id)return{error:l("WF.ERROR_MAX_ONE_TIMEOUT")}}if([P.PROP.FROM_WORKFLOW_ACTIVITY,P.PROP.TO_WORKFLOW_ACTIVITY].includes(O.id)){if(O.id===P.PROP.FROM_WORKFLOW_ACTIVITY&&E===i.getProperty(P.PROP.TO_WORKFLOW_ACTIVITY).getValue()||O.id===P.PROP.TO_WORKFLOW_ACTIVITY&&E===i.getProperty(P.PROP.FROM_WORKFLOW_ACTIVITY).getValue())return{error:l("WF.ERROR_SAME_FROM_TO")};if(E&&O.id===P.PROP.TO_WORKFLOW_ACTIVITY&&(r=P.getComponents(P.COMP_TYPE.WORKFLOW_ACTIVITY,{id:E}),1===r.length&&"NATIVE_WORKFLOW_START"===r[0].getProperty(P.PROP.PAGE_PROCESS_TYPE).getValue()))return{error:l("WF.ERROR_START_AS_TARGET")}}break;case P.CALLBACK_ACTION.CREATED:R=i.getProperty(P.PROP.TRANSITION_TYPE),R.setValue(R.getValue(),!0);break;case P.CALLBACK_ACTION.REMOVED:i.isReadOnly()||i.getParent().getChilds(P.COMP_TYPE.WORKFLOW_TRANS).forEach((e=>{e.id!==i.id&&(R=e.getProperty(P.PROP.TRANSITION_TYPE),R.isReadOnly()||R.setValue(R.getValue(),!0))}));break;case P.CALLBACK_ACTION.CHANGED:[P.PROP.FROM_WORKFLOW_ACTIVITY,P.PROP.TO_WORKFLOW_ACTIVITY].includes(O.id)&&E!==O.getValue()&&(R=i.getProperty(O.id===P.PROP.FROM_WORKFLOW_ACTIVITY?P.PROP.TO_WORKFLOW_ACTIVITY:P.PROP.FROM_WORKFLOW_ACTIVITY),R.isReadOnly()||R.setValue(R.getValue(),!0));break;case P.CALLBACK_ACTION.INIT:case P.CALLBACK_ACTION.PARENT_UPDATE:if(C=this.getParent(P.COMP_TYPE.WORKFLOW_VERSION),!C)return;I=C.getProperty(P.PROP.STATE).getValue(),"INACTIVE"===I?this.disable():"ACTIVE"===I?this.getProperties().forEach((P=>{T.includes(P.id)?P.disable():P.isReadOnly()||P.enable()})):(this.getProperties().forEach((P=>{T.includes(P.id)&&P.enable()})),this.enable())}}function re(e,O,E){const t="NATIVE_WORKFLOW_SWITCH",_="NATIVE_WORKFLOW_START",T="NATIVE_WORKFLOW_END",R="NATIVE_CREATE_TASK",A="TASK_OUTCOME",C="APPROVER",I="NULL",r="TIMEOUT";let i,N,n,a,L=this,p=P.getPluginProperty(P.COMP_TYPE.PAGE_PROCESS,t,1).id;const u=[P.PROP.PAGE_PROCESS_TYPE,P.PROP.WF_SOURCE_SQL_QUERY,P.PROP.STATIC_ID,P.PROP.DUE_ON_TYPE,P.PROP.DUE_ON_INTERVAL_VALUE,P.PROP.DUE_ON_SCHEDULER_VALUE,P.PROP.DUE_ON_QUERY_VALUE,p],s=function(){let e=L.getParent(P.COMP_TYPE.WORKFLOW_VERSION),O=e.getChilds(P.COMP_TYPE.WORKFLOW_VARIABLE);O.filter((e=>e.getProperty(P.PROP.WF_IDENTIFICATION_STATIC_ID).getValue()===C)).length||new P.Component({typeId:P.COMP_TYPE.WORKFLOW_VARIABLE,parentId:e.id,values:[{id:P.PROP.WF_IDENTIFICATION_STATIC_ID,value:C},{id:P.PROP.ITEM_LABEL,value:"Approver"},{id:P.PROP.WORKFLOW_VALUE_TYPE,value:I}]}),O.filter((e=>e.getProperty(P.PROP.WF_IDENTIFICATION_STATIC_ID).getValue()===A)).length||new P.Component({typeId:P.COMP_TYPE.WORKFLOW_VARIABLE,parentId:e.id,values:[{id:P.PROP.WF_IDENTIFICATION_STATIC_ID,value:A},{id:P.PROP.ITEM_LABEL,value:"TaskOutcome"},{id:P.PROP.WORKFLOW_VALUE_TYPE,value:I}]})},g=function(e){let O=[];if(T!==e&&(L.getChilds(e===t?P.COMP_TYPE.WORKFLOW_BRANCH:P.COMP_TYPE.WORKFLOW_TRANS)?.length||O.push(l("WF.ERROR_NO_OUTGOING_CONN"))),_!==e){let e=L.getParent()?.getChildrenUntil(P.COMP_TYPE.WORKFLOW_TRANS).some((e=>e.getProperty(P.PROP.TO_WORKFLOW_ACTIVITY).getValue()===L.id));e||=L.getParent()?.getChildrenUntil(P.COMP_TYPE.WORKFLOW_BRANCH).some((e=>e.getProperty(P.PROP.TO_WORKFLOW_ACTIVITY).getValue()===L.id)),e||O.push(l("WF.ERROR_NO_INCOMING_CONN"))}return O};switch(e){case P.CALLBACK_ACTION.CREATED:n=this.getProperty(P.PROP.PAGE_PROCESS_TYPE).getValue(),n===R&&s(),this.getProperty(P.PROP.NAME).setValue(this.getProperty(P.PROP.NAME).getValue(),!0);break;case P.CALLBACK_ACTION.VALIDATE:if(O.id===P.PROP.PAGE_PROCESS_TYPE&&(a=P.getComponents(P.COMP_TYPE.WORKFLOW_ACTIVITY,{parentId:L.parentId,properties:[{id:P.PROP.PAGE_PROCESS_TYPE,value:_}]}),L.getProperty(P.PROP.PAGE_PROCESS_TYPE).getValue()!==E&&E===_&&a.length>0))return{error:l("WF.ERROR_ONE_START")};break;case P.CALLBACK_ACTION.CHANGED:n=L.getProperty(P.PROP.PAGE_PROCESS_TYPE).getValue(),E===t&&o(this.getProperty(P.PROP.PAGE_PROCESS_TYPE),e,O,E)||o(L.getProperty(p),e,O,E)?M(L,P.COMP_TYPE.WORKFLOW_BRANCH):o(L.getProperty(P.PROP.PAGE_PROCESS_TYPE),e,O,E)?[t,T].includes(n)?M(L,P.COMP_TYPE.WORKFLOW_TRANS):"NATIVE_WORKFLOW_WAIT"===n?L.getChilds(P.COMP_TYPE.WORKFLOW_TRANS,{properties:[{id:P.PROP.TRANSITION_TYPE,value:r}]}).forEach((P=>P.remove())):L.getParent().getChilds(P.COMP_TYPE.WORKFLOW_ACTIVITY).forEach((e=>{n=e.getProperty(P.PROP.PAGE_PROCESS_TYPE),n.errors.length&&n.setValue(n.getValue(),!0),n.getValue()===R&&s()})):o(L.getProperty(P.PROP.DUE_ON_TYPE),e,O,E)&&""===L.getProperty(P.PROP.DUE_ON_TYPE).getValue()&&L.getChilds(P.COMP_TYPE.WORKFLOW_TRANS,{properties:[{id:P.PROP.TRANSITION_TYPE,value:r}]}).forEach((P=>P.remove())),P.getComponentsAdvanced([{typeId:P.COMP_TYPE.WORKFLOW_TRANS,filter:{properties:[{id:P.PROP.TO_WORKFLOW_ACTIVITY,value:L.id}]}},{typeId:P.COMP_TYPE.WORKFLOW_BRANCH,filter:{properties:[{id:P.PROP.TO_WORKFLOW_ACTIVITY,value:L.id}]}}]).forEach((e=>{e.getProperty(P.PROP.TO_WORKFLOW_ACTIVITY).isReadOnly()||e.getProperty(P.PROP.TO_WORKFLOW_ACTIVITY).setValue(L.id,!0)}));break;case P.CALLBACK_ACTION.VALIDATE_COMPONENT:return n=this.getProperty(P.PROP.PAGE_PROCESS_TYPE).getValue(),{error:g(n)};case P.CALLBACK_ACTION.INIT:case P.CALLBACK_ACTION.PARENT_UPDATE:if(i=this.getParent(P.COMP_TYPE.WORKFLOW_VERSION),!i)return;N=i.getProperty(P.PROP.STATE).getValue(),"ACTIVE"===N?(this.getProperties().forEach((P=>{u.includes(P.id)&&P.disable()})),this.enable()):"DEVELOPMENT"===N?this.getProperties().forEach((P=>{u.includes(P.id)&&P.enable()})):"INACTIVE"===N&&this.disable()}}function ie(e,O,E){const t="DEVELOPMENT",_="ACTIVE",T="INACTIVE",R="NATIVE_WORKFLOW_START",A="NATIVE_WORKFLOW_END",C=[P.PROP.WF_SOURCE_QUERY_TYPE,P.PROP.WF_SOURCE_QUERY_OWNER,P.PROP.COLUMN_MAPPING_PK_COLUMN,P.PROP.WF_SOURCE_QUERY_TABLE,P.PROP.WF_SOURCE_SQL_QUERY];let I,r,i,N=this,n=[];const a=function(){let e=N.getProperty(P.PROP.STATE).getValue();e===T?(N.disable(),N.getAllChildren().forEach((P=>P.disable()))):e===_&&C.forEach((P=>N.getProperty(P)?.disable()))};switch(e){case P.CALLBACK_ACTION.VALIDATE_COMPONENT:return I=this.getChilds(pe.COMP_TYPE.WORKFLOW_ACTIVITY,{properties:[{id:pe.PROP.PAGE_PROCESS_TYPE,value:R}]}),1!==I.length&&n.push(l("WF.ERROR_ONE_START")),i=this.getChilds(pe.COMP_TYPE.WORKFLOW_ACTIVITY,{properties:[{id:pe.PROP.PAGE_PROCESS_TYPE,value:A}]}),i.length<1&&n.push(l("WF.ERROR_NO_END")),{error:n};case P.CALLBACK_ACTION.VALIDATE:if(O?.id===P.PROP.STATE){if(P.getComponents(N.typeId,{parentId:N.parentId,properties:[{id:P.PROP.STATE,value:t}]}).length&&"DEVELOPMENT"!==O.getValue()&&E===t)return{error:l("WF.ERROR_DUP_DEV")}}else O.id===P.PROP.WF_SOURCE_QUERY_TYPE&&QP(e,N,O,E);break;case P.CALLBACK_ACTION.CHANGED:O.id===P.PROP.STATE?(E===t&&O.getValue()===_&&(P.getComponents(N.typeId,{parentId:N.parentId,properties:[{id:P.PROP.STATE,value:_}]}).forEach((e=>{e.id!==N.id&&e.getProperty(P.PROP.STATE).setValue(T)})),P.getComponents(N.typeId,{parentId:N.parentId,properties:[{id:P.PROP.STATE,value:t}]}).forEach((e=>{e.id!==N.id&&e.getProperty(P.PROP.STATE).setValue(t)}))),a()):O.id===P.PROP.WF_SOURCE_QUERY_TYPE&&QP(e,N,O,E);break;case P.CALLBACK_ACTION.CREATED:I=new P.Component({typeId:P.COMP_TYPE.WORKFLOW_ACTIVITY,parentId:N.id,values:[{id:P.PROP.PAGE_PROCESS_TYPE,value:R},{id:P.PROP.NAME,value:l("WF.START_ACT")},{id:P.PROP.DISPLAY_SEQUENCE,value:10}]}),r=new P.Component({typeId:P.COMP_TYPE.WORKFLOW_ACTIVITY,parentId:N.id,previousComponent:I,values:[{id:P.PROP.DISPLAY_SEQUENCE,value:20},{id:P.PROP.NAME,value:l("WF.ACT")}]}),i=new P.Component({previousComponent:r,typeId:P.COMP_TYPE.WORKFLOW_ACTIVITY,parentId:N.id,values:[{id:P.PROP.PAGE_PROCESS_TYPE,value:A},{id:P.PROP.NAME,value:l("WF.END_ACT")},{id:P.PROP.DISPLAY_SEQUENCE,value:30}]}),new P.Component({typeId:P.COMP_TYPE.WORKFLOW_TRANS,parentId:I.id,previousComponent:I,values:[{id:P.PROP.FROM_WORKFLOW_ACTIVITY,value:I.id},{id:P.PROP.TO_WORKFLOW_ACTIVITY,value:r.id}]}),new P.Component({typeId:P.COMP_TYPE.WORKFLOW_TRANS,parentId:r.id,previousComponent:r,values:[{id:P.PROP.FROM_WORKFLOW_ACTIVITY,value:r.id},{id:P.PROP.TO_WORKFLOW_ACTIVITY,value:i.id}]});break;case P.CALLBACK_ACTION.REMOVED:P.getComponents(N.typeId,{parentId:N.parentId,properties:[{id:P.PROP.STATE,value:t}]}).forEach((e=>{let O=e.getProperty(P.PROP.STATE);O.setValue(O.getValue())}));break;case P.CALLBACK_ACTION.INIT:a.call(this)}}function Ne(e){e===P.CALLBACK_ACTION.CREATED&&new P.Component({typeId:P.COMP_TYPE.WORKFLOW_VERSION,parentId:this.id})}e(document).on("modelConfigLoaded",(function(){const O=P.getComponentType(P.COMP_TYPE.REGION).pluginType.plugins;let E;for(E in P.setComponentTypeCallback(P.COMP_TYPE.PAGE,FP),P.setComponentTypeCallback(P.COMP_TYPE.PAGE_ITEM,KP),P.setComponentTypeCallback(P.COMP_TYPE.FACET,HP),P.setComponentTypeCallback(P.COMP_TYPE.FACET_GROUP,mP),P.setComponentTypeCallback(P.COMP_TYPE.FACET_GROUP_ITEM,HP),P.setComponentTypeCallback(P.COMP_TYPE.SFILTER,vP),P.setComponentTypeCallback(P.COMP_TYPE.SFILTER_GROUP,bP),P.setComponentTypeCallback(P.COMP_TYPE.SFILTER_GROUP_ITEM,vP),P.setComponentTypeCallback(P.COMP_TYPE.BUTTON,kP),P.setComponentTypeCallback(P.COMP_TYPE.REGION,wP),P.setComponentTypeCallback(P.COMP_TYPE.DA_EVENT,ZP),P.setComponentTypeCallback(P.COMP_TYPE.DA_ACTION,$P),P.setComponentTypeCallback(P.COMP_TYPE.REGION_PLUGIN_ATTR,m),P.setComponentTypeCallback(P.COMP_TYPE.CARD,TP),P.setComponentTypeCallback(P.COMP_TYPE.JET_CHART,rP),P.setComponentTypeCallback(P.COMP_TYPE.JET_CHART_SERIES,iP),P.setComponentTypeCallback(P.COMP_TYPE.JET_CHART_AXES,NP),P.setComponentTypeCallback(P.COMP_TYPE.CLASSIC_REPORT,k),P.setComponentTypeCallback(P.COMP_TYPE.CLASSIC_RPT_COLUMN,eP),P.setComponentTypeCallback(P.COMP_TYPE.TABULAR_FORM,k),P.setComponentTypeCallback(P.COMP_TYPE.TAB_FORM_COLUMN,OP),P.setComponentTypeCallback(P.COMP_TYPE.IG_ATTRIBUTES,x),P.setComponentTypeCallback(P.COMP_TYPE.IG_COLUMN,Z),P.setComponentTypeCallback(P.COMP_TYPE.IR_ATTRIBUTES,w),P.setComponentTypeCallback(P.COMP_TYPE.IR_PRINT_ATTR,XP),P.setComponentTypeCallback(P.COMP_TYPE.IR_COLUMN,X),P.setComponentTypeCallback(P.COMP_TYPE.CLASSIC_RPT_PRINT,XP),P.setComponentTypeCallback(P.COMP_TYPE.TAB_FORM_PRINT,XP),P.setComponentTypeCallback(P.COMP_TYPE.IG_PRINT,XP),P.setComponentTypeCallback(P.COMP_TYPE.MAP_REGION,RP),P.setComponentTypeCallback(P.COMP_TYPE.MAP_LAYER,nP),P.setComponentTypeCallback(P.COMP_TYPE.REGION_WS_PARAM,qP),P.setComponentTypeCallback(P.COMP_TYPE.JET_CHART_WS_PARAM,qP),P.setComponentTypeCallback(P.COMP_TYPE.MAP_LAYER_WS_PARAM,qP),P.setComponentTypeCallback(P.COMP_TYPE.PAGE_PROC_WS_PARAM,qP),P.setComponentTypeCallback(P.COMP_TYPE.PAGE_PROC_API_PARAM,Pe),P.setComponentTypeCallback(P.COMP_TYPE.PAGE_PROCESS,Oe),P.setComponentTypeCallback(P.COMP_TYPE.REGION_ACTION,Ee),P.setComponentTypeCallback(P.COMP_TYPE.REGION_ACTION_MENU_ENTRY,te),P.setComponentTypeCallback(P.COMP_TYPE.IR_COLUMN_ACTION,Ee),P.setComponentTypeCallback(P.COMP_TYPE.IR_COL_ACTION_MENU_ENTRY,te),P.setComponentTypeCallback(P.COMP_TYPE.WF_ACTIVITY_WS_PARAM,qP),P.setComponentTypeCallback(P.COMP_TYPE.WF_ACTIVITY_API_PARAM,Pe),P.setComponentTypeCallback(P.COMP_TYPE.WF_ACTIVITY_WF_PARAM,ee),P.setComponentTypeCallback(P.COMP_TYPE.PAGE_PROCESS_WF_PARAM,ee),P.setComponentTypeCallback(P.COMP_TYPE.WORKFLOW_BRANCH,Ce,[P.CALLBACK_ACTION.PARENT_UPDATE,P.CALLBACK_ACTION.INIT,P.CALLBACK_ACTION.PARENT_UPDATE]),P.setComponentTypeCallback(P.COMP_TYPE.WORKFLOW_TRANS,Ie,[P.CALLBACK_ACTION.VALIDATE_COMPONENT,P.CALLBACK_ACTION.INIT,P.CALLBACK_ACTION.PARENT_UPDATE]),P.setComponentTypeCallback(P.COMP_TYPE.WORKFLOW_ACT_VAR,Re,[P.CALLBACK_ACTION.PARENT_UPDATE,P.CALLBACK_ACTION.INIT]),P.setComponentTypeCallback(P.COMP_TYPE.WORKFLOW_ACTIVITY,re,[P.CALLBACK_ACTION.VALIDATE_COMPONENT,P.CALLBACK_ACTION.INIT,P.CALLBACK_ACTION.PARENT_UPDATE]),P.setComponentTypeCallback(P.COMP_TYPE.WORKFLOW_PARAM,Te,[P.CALLBACK_ACTION.PARENT_UPDATE,P.CALLBACK_ACTION.INIT]),P.setComponentTypeCallback(P.COMP_TYPE.WORKFLOW_VARIABLE,Ae,[P.CALLBACK_ACTION.PARENT_UPDATE,P.CALLBACK_ACTION.INIT]),P.setComponentTypeCallback(P.COMP_TYPE.WORKFLOW_VERSION,ie,[P.CALLBACK_ACTION.VALIDATE_COMPONENT,P.CALLBACK_ACTION.INIT]),P.setComponentTypeCallback(P.COMP_TYPE.WORKFLOW,Ne),P.setComponentTypeCallback(P.COMP_TYPE.REGION_TMPL_COLUMN,$),O)n(O,E)&&-1!==e.inArray("COLUMNS",O[E].features)&&P.setPluginCallback(P.COMP_TYPE.REGION,E,_P);for(E in O)n(O,E)&&/^(TMPL)/.test(E)&&P.setPluginCallback(P.COMP_TYPE.REGION,E,q);P.setPluginCallback(P.COMP_TYPE.REGION,"NATIVE_CARDS",v),P.setPluginCallback(P.COMP_TYPE.REGION,A.IG,J),P.setPluginCallback(P.COMP_TYPE.REGION,"NATIVE_IR",Q),P.setPluginCallback(P.COMP_TYPE.REGION,"NATIVE_SQL_REPORT",z),P.setPluginCallback(P.COMP_TYPE.REGION,"NATIVE_TABFORM",j),P.setPluginCallback(P.COMP_TYPE.REGION,"NATIVE_JET_CHART",IP),P.setPluginCallback(P.COMP_TYPE.REGION,"NATIVE_MAP_REGION",CP),P.setPluginCallback(P.COMP_TYPE.REGION,"NATIVE_CALENDAR",aP),P.setPluginCallback(P.COMP_TYPE.REGION,A.FORM,lP),P.setPluginCallback(P.COMP_TYPE.REGION,"NATIVE_SEARCH_REGION",AP),P.setPluginCallback(P.COMP_TYPE.REGION,A.FACETED_SEARCH,tP),P.setPluginCallback(P.COMP_TYPE.REGION,A.SMART_FILTERS,tP),P.setPluginCallback(P.COMP_TYPE.DA_ACTION,"NATIVE_SET_VALUE",LP),P.setPluginCallback(P.COMP_TYPE.PAGE_ITEM,R.RICH_TEXT_EDITOR,BP),P.setPluginCallback(P.COMP_TYPE.PAGE_ITEM,R.TEXTAREA,BP),P.setPluginCallback(P.COMP_TYPE.PAGE_ITEM,R.SHUTTLE,BP),P.setPluginCallback(P.COMP_TYPE.PAGE_ITEM,R.MARKDOWN_EDITOR,BP),P.setPluginCallback(P.COMP_TYPE.PAGE_ITEM,R.FILE,BP),P.setPluginCallback(P.COMP_TYPE.PAGE_ITEM,R.IMAGE_UPLOAD,BP),P.setPluginCallback(P.COMP_TYPE.PAGE_ITEM,R.COMBOBOX,SP),P.setPluginCallback(P.COMP_TYPE.PAGE_ITEM,R.POPUP_LOV,YP),P.setPluginCallback(P.COMP_TYPE.PAGE_ITEM,R.SELECT_LIST,dP),P.setPluginCallback(P.COMP_TYPE.SFILTER,R.INPUT,oP),P.setPluginCallback(P.COMP_TYPE.SFILTER,R.RANGE,pP),P.setPluginCallback(P.COMP_TYPE.SFILTER,R.RADIOGROUP,uP),P.setPluginCallback(P.COMP_TYPE.FACET,R.INPUT,oP),P.setPluginCallback(P.COMP_TYPE.FACET,R.RANGE,pP),P.setPluginCallback(P.COMP_TYPE.FACET,R.RADIOGROUP,uP),P.setPluginCallback(P.COMP_TYPE.PAGE_PROCESS,"NATIVE_WEB_SERVICE",sP),P.setPluginCallback(P.COMP_TYPE.PAGE_PROCESS,"NATIVE_WEB_SERVICE_LEGACY",sP),P.setPluginCallback(P.COMP_TYPE.PAGE_PROCESS,"NATIVE_PLSQL",yP),P.setPluginCallback(P.COMP_TYPE.PAGE_PROCESS,"NATIVE_SEND_EMAIL",hP),P.setPluginCallback(P.COMP_TYPE.PAGE_PROCESS,"NATIVE_CREATE_TASK",MP),P.setPluginCallback(P.COMP_TYPE.PAGE_PROCESS,C.INVOKE_API,zP),P.setPluginCallback(P.COMP_TYPE.PAGE_PROCESS,C.EXECUTION_CHAIN,jP),P.setPluginCallback(P.COMP_TYPE.PAGE_PROCESS,C.DOWNLOAD,GP),P.setPluginCallback(P.COMP_TYPE.PAGE_PROCESS,C.PRINT_REPORT,WP),P.setPluginCallback(P.COMP_TYPE.PAGE_PROCESS,C.WORKFLOW,VP),P.setPluginCallback(P.COMP_TYPE.WORKFLOW_ACTIVITY,"NATIVE_CREATE_TASK",MP),P.setPluginCallback(P.COMP_TYPE.WORKFLOW_ACTIVITY,C.INVOKE_API,zP),P.setPluginCallback(P.COMP_TYPE.WORKFLOW_ACTIVITY,"NATIVE_SEND_EMAIL",hP),P.setPluginCallback(P.COMP_TYPE.WORKFLOW_ACTIVITY,"NATIVE_PLSQL",yP),P.setPluginCallback(P.COMP_TYPE.WORKFLOW_ACTIVITY,C.INVOKE_WF,UP)})),e(document).on("modelReady modelSaved",(function(){const e=[{typeId:P.COMP_TYPE.WORKFLOW_VERSION},{typeId:P.COMP_TYPE.WORKFLOW_VARIABLE},{typeId:P.COMP_TYPE.WORKFLOW_ACTIVITY},{typeId:P.COMP_TYPE.WORKFLOW_ACT_VAR},{typeId:P.COMP_TYPE.WORKFLOW_PARAM},{typeId:P.COMP_TYPE.WORKFLOW_TRANS}];P.getComponentsAdvanced(e).forEach((e=>{e._callComponentTypeCallback({action:P.CALLBACK_ACTION.INIT})}))}))}(window.pe,apex.jQuery,apex.util,apex.locale,apex.lang,window.pageDesigner,apex.date);
!function(e,t,n){"use strict";var i="messages_",o="error",a="icon-remove-sign";const s=n.hasOwnProperty;t.widget("apex.peMessagesView",{options:{},_create:function(){var n,o=this;this.element.empty(),n=t("<div>",{class:"a-AlertMessages"}).appendTo(this.element),this._container$=t("<ul></ul>",{class:"a-AlertMessages-list"}).appendTo(n).on("click","a",this._goToComponent),t(document).on("modelReady",(function(){e.observer(i+this.uuid,{events:[e.EVENT.ERRORS,e.EVENT.NO_ERRORS,e.EVENT.WARNINGS,e.EVENT.NO_WARNINGS,e.EVENT.DELETE,e.EVENT.REMOVE_PROP,e.EVENT.VALIDATE_COMPONENT]},(function(e){o._update(e)})),t(document).one("modelCleared",(function(){o._container$.empty(),"function"==typeof o.options.badge?o.options.badge(""):t(o.options.badge).text("")}))}))},_init:function(){},_destroy:function(){this.element.empty(),t(document).off("modelReady"),t(document).off("modelCleared"),e.unobserver(i+this.uuid)},_update:function(i){function r(t,i,o,a,s){function r(e){e&&(p+=` ${p.length?"&rarr;":""} ${n.escapeHTML(e)}`)}let p="",l="";for(var d=0;d<o.length;d++)r(e.getComponentType(t.typeId).title.singular),r(t.getDisplayTitle()),l+='\n                    <li class="a-AlertMessages-item" data-typeid="#TYPEID#" data-componentid="#COMPONENTID#" data-propertyid="#PROPERTYID#">\n                        <a href="#" class="a-MediaBlock a-AlertMessages-message is-#CSS_CLASS#">\n                            <div class="a-MediaBlock-graphic">\n                                <span class="a-FAIcon a-FAIcon--medium a-FAIcon--#CSS_CLASS# #ICON_CLASS#"></span>\n                            </div>\n                            <div class="a-MediaBlock-content">\n                                <h5 class="a-AlertMessages-propertyTitle">#PATH#</h5>\n                                <p class="a-AlertMessages-messageDescription">#MESSAGE#</p>\n                            </div>\n                        </a>\n                    </li>\n                '.replace(/#CSS_CLASS#/g,a).replace(/#ICON_CLASS#/g,s).replace("#TYPEID#",t.typeId).replace("#COMPONENTID#",t.id).replace("#MESSAGE#",o[d]),i&&(r(e.getDisplayGroup(i.getMetaData().displayGroupId).title),r(i.getMetaData().prompt),l=l.replace("#PROPERTYID#",i.id)),l=l.replace("#PATH#",p);this._container$.append(l)}function p(){this._container$.find(E+"[data-propertyid='#PROPERTYID#']").remove(),i.errors?.length&&r.call(this,g,null,i.errors,o,a)}var l,d,c,g=i.component,E="li[data-typeid='"+g.typeId+"'][data-componentid='"+g.id+"']",u=this.options.badge,h=this.options.button,m=this.options.noMsgHandler;if(t.inArray(e.EVENT.DELETE,i.events)>=0)this._container$.find(E).remove();else if(Object.keys(i.properties).length){for(var T in i.properties)s(i.properties,T)&&(this._container$.find(E+"[data-propertyid='"+T+"']").remove(),-1===t.inArray(e.EVENT.REMOVE_PROP,i.properties[T])&&(l=g.getProperty(T),r.call(this,g,l,l.errors,o,a),r.call(this,g,l,l.warnings,"warning","icon-warning-sign")));i.events.includes(e.EVENT.ERRORS)&&i.errors?.length&&p.call(this)}else p.call(this);c=(d=this._container$.find("li").length)>0,h.toggle(c&&h.length>0),"function"==typeof u?u(d):t(u).text(c?d:""),c||"function"!=typeof m||m()},_goToComponent:function(){var n=t(this).closest("li"),i=e.getComponents(n.data("typeid"),{id:n.data("componentid")})[0];window.pageDesigner.goToComponent(i.typeId,i.id,n.data("propertyid"))}})}(window.pe,apex.jQuery,apex.util);
!function(e,t,n){"use strict";var a="search_";const p=n.hasOwnProperty;var o=null;function i(t,a){var p=t.component,o=t.getMetaData(),i=t.getDisplayValue();return i=(i=n.escapeHTML(i.replace(a,"~~peSearchHitBegin~~$&~~peSearchHitEnd~~"))).replace(/~~peSearchHitBegin~~/g,'<span class="a-Search-term">').replace(/~~peSearchHitEnd~~/g,"</span>"),'\n            <li class="a-AlertMessages-item" data-typeid="#TYPEID#" data-componentid="#COMPONENTID#" data-propertyid="#PROPERTYID#">\n                <a href="#" class="a-MediaBlock a-AlertMessages-message">\n                    <div class="a-MediaBlock-graphic">\n                        <span class="#ICON_CLASS#"></span>\n                    </div>\n                    <div class="a-MediaBlock-content">\n                        <h5 class="a-AlertMessages-propertyTitle">#COMPONENT_TYPE#&colon; #COMPONENT# &rarr; #DISPLAY_GROUP# &rarr; #PROPERTY#</h5>\n                        <p class="a-AlertMessages-messageDescription"><pre>#VALUE#</pre></p>\n                    </div>\n                </a>\n            </li>'.replace(/#CSS_CLASS#/g,"warning").replace(/#ICON_CLASS#/g,"a-Icon icon-search").replace("#TYPEID#",p.typeId).replace("#COMPONENTID#",p.id).replace("#PROPERTYID#",t.id).replace("#COMPONENT_TYPE#",n.escapeHTML(e.getComponentType(p.typeId).title.singular)).replace("#COMPONENT#",n.escapeHTML(p.getDisplayTitle())).replace("#DISPLAY_GROUP#",n.escapeHTML(e.getDisplayGroup(o.displayGroupId).title)).replace("#PROPERTY#",n.escapeHTML(o.prompt)).replace("#VALUE#",i)}t.widget("apex.peSearch",{options:{componentType:e.COMP_TYPE.PAGE},_create:function(){var n,p=this;p.componentType=this.options.componentType,this.element.empty(),n=t("<div>",{class:"a-AlertMessages"}).appendTo(this.element),this._container$=t("<ul></ul>",{class:"a-AlertMessages-list"}).appendTo(n).on("click","a",this._goToComponent),t(document).on("modelReady",(function(){e.observer(a+this.uuid,{events:[e.EVENT.CHANGE,e.EVENT.DELETE,e.EVENT.REMOVE_PROP]},(function(e){p._update(e)})),t(document).one("modelCleared",(function(){p._container$.empty(),o=null}))}))},_init:function(){},_destroy:function(){this.element.empty(),t(document).off("modelReady"),t(document).off("modelCleared"),e.unobserver(a+this.uuid)},search:function(t){o=t instanceof RegExp?t:""!==t&&void 0!==t?new RegExp(n.escapeRegExp(t),"gi"):null,this._container$.empty(),null!==o&&this._container$.append(function t(n,a){var p,o,r,s,c="";for(r=0,s=(p=e.fullTextSearch(a,{typeId:n})).length;r<s;r++)c+=i(p[r],a);for(r=0,s=(o=e.getComponentType(n)).childComponentTypes.length;r<s;r++)c+=t(o.childComponentTypes[r],a);return c}(this.componentType,o))},clear:function(){o=null,this._container$.empty()},_update:function(n){var a,r,s=o,c=n.component,l="li[data-typeid='"+c.typeId+"'][data-componentid='"+c.id+"']";if(null!==s)if(t.inArray(e.EVENT.DELETE,n.events)>=0)this._container$.find(l).remove();else for(var d in n.properties)p(n.properties,d)&&(a=this._container$.find(l+"[data-propertyid='"+d+"']"),t.inArray(e.EVENT.REMOVE_PROP,n.properties[d])>=0?a.remove():t.inArray(e.EVENT.CHANGE,n.properties[d])>=0&&a.length>0&&(r=[n.component.getProperty(d)],(r=e.fullTextSearch(s,{properties:r})).length>0?a.replaceWith(i(r[0],s)):a.remove()))},_goToComponent:function(){var n=t(this).closest("li"),a=e.getComponents(n.data("typeid"),{id:n.data("componentid")})[0];window.pageDesigner.goToComponent(a.typeId,a.id,n.data("propertyid"))}})}(window.pe,apex.jQuery,apex.util);
!function(t,e,n,o){"use strict";var i="a-GridLayout",s="a-GridLayout-page",r=".a-GridLayout-page",a="a-GridLayout-pageItem",l="a-GridLayout-region",h="a-GridLayout-button",p="a-GridLayout-regionContainer",d=".a-GridLayout-regionContainer",c="a-GridLayout-itemContainer",u=".a-GridLayout-itemContainer",f="a-GridLayout-buttonContainer",m=".a-GridLayout-buttonGroup,.a-GridLayout-regionContent",g=".a-GridLayout-buttonRow",_="a-GridLayout--conditional",v="a-GridLayout-items",y="a-GridLayout-regions",C="a-GridLayout-buttons",w="a-GridLayout-grid",b=".a-GridLayout-grid",k="a-GridLayout-stack",S="a-GridLayout-flow",P=".a-GridLayout-label",G=".a-GridLayout-dragAction",L=".a-GridLayout-pageItem, .a-GridLayout-region, .a-GridLayout-button",I=".a-GridLayout-page, .a-GridLayout-pageItem, .a-GridLayout-region, .a-GridLayout-button",x=".a-GridLayout-regionContainer, .a-GridLayout-itemContainer, .a-GridLayout-buttonContainer",R=".a-GridLayout-grid, .a-GridLayout-stack, .a-GridLayout-flow",T="a-GridLayout-templateGrid",O="is-focused",A=".is-selected",D="is-selected",E="is-active",N="aria-selected",F=-2,H=[p,y],M=[c,v],W=[f,C],B={region:l,item:a,button:h},q=[50,75,100,125,150,175,200];const $=e.hasOwnProperty;function K(t,e,n){return t>e&&t<e+n}function Y(t){return t.parent().children(":visible").index(t)}function z(t,e,n,o){var i,s;"string"!=typeof e&&(o=n,n=e,e="*"),(s=(i=t.children(e)).index(n))>=0&&s<o&&(o+=1),o>=i.length?t.append(n):i.eq(o).before(n)}function U(t){var e,n=t||"";if(!((e=n.indexOf("_"))<0))return n.substring(e+1)}function V(t,e){var n;for(n=0;n<t.length;n++)if(t[n]===e)return n;return-1}function X(t){var e=0;return t.parent().children().each((function(){if(this===t[0])return!1;e+=this.colSpan||1})),e}function j(t,e,n,o){var i=e[n];i!==o&&(t.propertyChanges.push({component:e,property:n,oldValue:i,newValue:o}),e[n]=o)}function Z(t,e,n,o){var i,s,r;if(n<0&&(n=0),o>0)for(0===(r=Math.floor(n/o))&&(r=1),i=e;i<t.length;i++)-1===(s=t[i]).span&&(s.span=r,(n-=r)>0&&n<r&&(s.span+=n))}function J(t,e){var n,o,i,s=e,r=0,a=0,l=0,h=1;for(n=0;n<t.columns.length;n++)(i=t.columns[n]).col>1&&(o=i.col-h,Z(t.columns,r,o-a,l),s-=o,r=n,a=0,l=0,h=i.col),i.span>0?a+=i.span:l+=1;Z(t.columns,r,s-a,l)}function Q(t,e,n){var o;for(o in n)$(n,o)&&e[o]&&(t+=" "+n[o]);return t}function tt(t,e){var n;for(n in e)if($(e,n)&&t[n])return e[n];return null}function et(t,e){let n="";return t.hasRegionSupport&&(""!==n&&(n+=" "),n+=" "+H[e]),t.hasItemSupport&&(""!==n&&(n+=" "),n+=" "+M[e]),t.hasButtonSupport&&(""!==n&&(n+=" "),n+=" "+W[e]),n}function nt(t){var e="";return t.hasClass(y)&&(e+=",."+l),t.hasClass(v)&&(e+=",."+a),t.hasClass(C)&&(e+=",."+h),e.substr(1)}function ot(t){var e="",n=t.closest(x);return n.hasClass(p)&&(e+=" "+y),n.hasClass(c)&&(e+=" "+v),n.hasClass(f)&&(e+=" "+C),e.slice(1)}function it(t,e,n){return n?function(t){var e=[o.getMessage(t)].concat(Array.prototype.slice.call(arguments,1));return o.formatNoEscape.apply(this,e)}(t,e):e}t.widget("apex.gridlayout",t.ui.mouse,{widgetEventPrefix:"gridlayout",dragging:!1,animating:!1,nodeMap:{},nextId:1,dragComponent:null,helper:null,fromOutside:!1,isOver:!1,lastZoom:"",pageRoot:null,options:{getPageRoot:null,getIconForComponent:function(t){var e="",n=t.type;return"region"===n?e="region":"item"===n?e="page-item":"button"===n?e="button":"page"===n&&(e="page"),e},makeComponent:null,updateComponentCopy:null,deleteKeyAction:null,contextMenuAction:null,stateClassMap:{},stateIconMap:{},displayFrom:null,hideLegacySlots:!1,hideEmptySlots:!1,hideButtons:!1,hideItems:!1,zoom:100,iconType:"a-GIcon",appendTo:"parent",containment:!1,cursor:"auto",cursorAt:!1,gridTolerance:10,idPrefix:null,multiple:!0,opacity:!1,animate:!0,scroll:!0,scrollSensitivity:20,scrollSpeed:20,tolerance:"intersect",zIndex:1e3,activate:null,deactivate:null,out:null,over:null,start:null,beforeStop:null,stop:null,selectionChange:null,added:null,removed:null,moved:null,copied:null},_create:function(){var e=this.options,n=this;if(!e.makeComponent||!e.updateComponentCopy||!e.getPageRoot)throw new Error("Missing required options.");this.pageRoot=e.getPageRoot(),this.containerCache={},this.element.addClass(i),this.baseId=(e.idPrefix||this.element[0].id||"glv")+"_",this.refresh(!1),this._setZoom(),this.offset=this.element.offset(),this._mouseInit(),this.element.on("keydown.glv",(function(o){var i=t.ui.keyCode,s=o.which;o.altKey||(s===i.HOME?(n._select(t(r+":first"),o,!0,!0),o.preventDefault()):s===i.END?(n._select(n.element.find(I).last(),o,!0,!0),o.preventDefault()):s===i.DOWN?(n._traverseDown(o),o.preventDefault()):s===i.UP?(n._traverseUp(o),o.preventDefault(),o.stopPropagation()):s===i.LEFT?(n._traverseLeft(o),o.preventDefault()):s===i.RIGHT?(n._traverseRight(o),o.preventDefault()):s===i.SPACE?(n.lastFocused&&n._select(t(n.lastFocused),o,!0,!0),o.preventDefault()):e.deleteKeyAction&&s===i.DELETE?(n.lastFocused&&e.deleteKeyAction(o),o.preventDefault()):e.contextMenuAction&&o.shiftKey&&121===s&&(n.lastFocused&&!t(n.lastFocused).is(A)&&n._select(t(n.lastFocused),{},!1,!0),e.contextMenuAction(o),o.preventDefault()))})).on("focusin",(function(e){var o=t(e.target).closest(I);0!==o.length&&(o.addClass(O),n._setFocusable(o[0]))})).on("focusout",(function(e){t(e.target).closest(I).removeClass(O)})).on("contextmenu",(function(o){var i;e.contextMenuAction&&((i=t(o.target).closest(I).not(A)).length&&n._select(i,{},!1,!1),e.contextMenuAction(o),o.preventDefault())}))},_destroy:function(){return this.element.removeClass(i).empty(),this._mouseDestroy(),this},_setOption:function(e,n){"disabled"===e?(this.options[e]=n,this.widget().toggleClass("is-disabled",!!n)):t.Widget.prototype._setOption.apply(this,arguments),"displayFrom"===e?this.refresh(!1):["hideLegacySlots","hideButtons","hideItems","hideEmptySlots"].includes(e)?this._showOrHideSlots():"zoom"===e&&this._setZoom()},pageDataChanged:function(){var t=this.options;this.pageRoot=this.options.getPageRoot(),t.displayFrom&&(this._find(t.displayFrom,!0)||(t.displayFrom=null)),this.refresh(!1)},getPageData:function(){return this.pageRoot},refresh:function(t){var o,i,s,r,a,l,h,p=this.options,d=e.htmlBuilder();if(n.info("Gridlayout refresh"),!t)for(a=[],r=this.getSelectedComponents(),o=0;o<r.length;o++)a.push(r[o].id);if(this._layoutPage(),this.nodeMap={},p.displayFrom){if(!(i=this._find(p.displayFrom,!0)))throw new Error("No such region in displayFrom option: "+p.displayFrom);for(l=!0,h=i._parent;h;){if(h.components&&!h.isGrid){l=!1;break}h=h._parent}this._renderRegion(d,i,l,!0)}else this._renderPage(d,this.pageRoot);return this.element.html(d.toString()),this._showOrHideSlots(),s=this.element.children().eq(0),t?(this._select(s,t),this._trigger("selectionChange")):(this._setFocusable(s[0]),a.length>0&&this.element.is(":visible")&&(this.setSelectedComponents(a,!1),this.getSelection().length>0&&a.length!==this.getSelection().length&&this._trigger("selectionChange"))),this},dump:function(){n.log("Page: \r\n"+JSON.stringify(this.pageRoot,(function(t,e){return"_parent"===t?"-> "+(this._parent.id||this._parent.title):"_modelComponent"===t?"[id="+e.id+"]":"_parentGrid"===t?"-> "+V(this._parentGrid._parent._grids,this._parentGrid):"_parentRow"===t?"-> "+V(this._parentRow._parentGrid.rows,this._parentRow):"_parentColumn"===t?"-> "+V(this._parentColumn._parentRow.columns,this._parentColumn):e}),2))},findById:function(e){var n=this._find(e);return n?this._getElement(n):t()},findComponentById:function(t){return this._find(t)},getContainer:function(t){return t.closest(x)},findContainer:function(t,e){var n,o=this.pageRoot;if(n=o.id===t?o:this._find(t,!0))for(const t of n.slots)if(t.placeholder===e)return t;return null},getComponents:function(t){var e=this,n=[];return t.each((function(){n.push(e._getNode(this))})),n},getSelection:function(){return this.element.find(A)},getSelectedComponents:function(){return this.getComponents(this.getSelection())},setSelection:function(t,e){e=!!e,this._select(t,null,e,!1,!0)},setSelectedComponents:function(e,n){var o,i,s,r=[];for(n=!!n,o=0;o<e.length;o++)(i=this._find(e[o]))&&(s=this._getElement(i)).length>0&&r.push(s[0]);this._select(t(r),null,n,!1,!0)},focus:function(){this.lastFocused&&this.lastFocused.focus()},makeHelper:function(n,o,i,s,r,a){var l,h,p=this.options.getIconForComponent,d=new e.htmlBuilder;return n||(n=(l=this._getNode(this.dragComponent[0])).type,o=p(l),i=l.title),h=B[n]+" a-GridLayout-helper",d.markup("<div").attr("class",h),"region"===n?d.optionalAttr("data-region-type",r):"item"===n&&d.optionalAttr("data-item-type",a),d.optionalAttr("data-type-id",s).markup(">"),this._renderHeader(d,o,i,!0),d.markup("<div").attr("class","a-GridLayout-dragAction").markup("></div></div>"),t(d.toString())},getDropTargets:function(e,n){var i,s,r,p,d,c,u,f,m=[];function _(n){r=n,t(this).children().eq(0).children(d).each((function(n){u&&this===e[0]?c=!0:i.items.push({element:t(this),row:s,col:r,index:n,name:t(this).children("h3").text()})}))}function b(e){s=e,t(this).children("td").each(_)}if(u="move"===(n=n||"move"),"add"===n&&"string"==typeof e&&(f=e),"item"===f||!f&&e.hasClass(a))p=v;else if("region"===f||!f&&e.hasClass(l))p=y;else{if("button"!==f&&(f||!e.hasClass(h)))throw new Error("Invalid component or component type");p=C}return d="."+d,t(p="."+p,this.element).filter(":visible").each((function(){var n,s,r,a,l,h=t(this),p=null;d=nt(h),h.hasClass(w)?s="grid":h.hasClass(k)?s="stack":h.hasClass(S)&&(s="flow"),"stack"===s&&"TD"===h.parent()[0].nodeName||u&&0!==h.parents().filter(e[0]).length||(l="",""!==(a=h.parent().closest(".a-GridLayout-region").find(".a-GridLayout-label").eq(0).text())&&(l=a+" > "),"flow"===s&&"TD"===h.parent()[0].nodeName?(r=h.closest(g).prev().text(),h.parent().next().length>0?(r=o.formatMessageNoEscape("GL.BTN_POS_L",r),p="left"):(r=o.formatMessageNoEscape("GL.BTN_POS_R",r),p="right")):r=h.prev().text(),l+=r,i={element:h.closest(x),type:s,region:a,name:r,label:l},c=!1,"grid"===s?(i.items=[],h.children("tbody").children("tr").each(b)):(i.items=[],p&&(i.alignment=p),h.children(d).each((function(o){u&&this===e[0]?c=!0:(n={element:t(this),index:o,name:t(this).children("h3").text()},p&&(n.alignment=p),i.items.push(n))}))),c&&0===i.items.length||m.push(i))})),m},update:function(o,i,s){var r,a,l,h,p,d,c=this.options,u=!1;if("string"==typeof o&&(o=this._find(o)),!o)throw new Error("Nothing to update");if(n.getLevel()>=n.LOG_LEVEL.INFO&&n.info("Gridlayout update component: "+o.title+", layoutChange: "+i+", childrenOnly: "+s),i&&(s&&!o._parent||(o=o._parent._parent),u="page"===o.type||Array.isArray(o._parent._grids),this._layoutSlots(o.slots,o,u,12)),(l=this._getElement(o)).length)if(i)p=this.getSelectedComponents(),a=e.htmlBuilder(),"page"===o.type?this._renderPage(a,o):this._renderComponent(a,o,u),h=t(a.toString()),l.hasClass(D)&&h.addClass(D),h[0].tabIndex=l[0].tabIndex,l.replaceWith(h),this._showOrHideSlots(h),this.setSelectedComponents(p);else{for(r in l.find(P).first().html(e.escapeHTML(o.title)),"region"===o.type?l.data("region-type",o.regionType):"item"===o.type&&l.data("item-type",o.itemType),l.toggleClass(_,!!o.isConditional),c.stateClassMap)$(c.stateClassMap,r)&&l.toggleClass(c.stateClassMap[r],!!o[r]);l.find("."+c.iconType)[0].className=c.iconType+" "+c.getIconForComponent(o),(d=tt(o,c.stateIconMap))&&l.find(P).first().prepend("<span class='a-Icon "+d+"'></span>")}},add:function(t,e,o,i,s,r,a,l,h){var p,d,c;if("string"!=typeof e&&"number"!=typeof e||(d=e,e=this.options.makeComponent(d)),!(o=this._getContainerElement(o))||!o.is(x))throw new Error("Invalid add destination");return n.getLevel()>=n.LOG_LEVEL.INFO&&n.info("Gridlayout add component: "+e.title+" to: "+o[0].id+", g/r/c/i: "+i+"/"+s+"/"+r+"/"+a),c=(p=this._add(e,o,i,s,r,a,l,h)).newComponent$,p.lastChange=!0,this._trigger("added",t,p),this._select(c,t,!0),this},remove:function(e,o){var i,s,a,l,h,p=[],d=t(this.lastFocused).hasClass(O),c=this;if(n.getLevel()>=n.LOG_LEVEL.INFO&&n.info("Gridlayout remove "+(o?o.length+" component(s).":"selection")),o=o||this.getSelection(),Array.isArray(o)){for(l=[],i=0;i<o.length;i++)(h=this.findById(o[i])).length>0&&l.push(h[0]);o=t(l)}if(!o||0===o.filter(L).length)throw new Error("Nothing to remove");for(a=o.filter(A).eq(0);a&&a.length&&a.hasClass(D)&&!a.is(r);)(a=t(this._traverseUp(e,!0)))&&(this.lastFocused=a[0]);for(o.filter(L).each((function(){var e;(e=c._getNode(this))&&(n.info("Gridlayout remove component: "+e.title),s=c._remove(t(this)),p.push(s))})),i=0;i<p.length;i++)p[i].lastChange=i>=p.length-1,c._trigger("removed",e,p[i]);return a&&a.length&&this._select(a,e,d),this},move:function(e,o,i,s,r,a,l,h){var p,d;if(o=o||t(this.lastFocused),!(o=this._getComponentElement(o))||!o.is(L))throw new Error("Nothing to move");if(!(i=this._getContainerElement(i))||!i.is(x))throw new Error("Invalid move destination");return n.getLevel()>=n.LOG_LEVEL.INFO&&n.info("Gridlayout move component: "+this._getNode(o[0]).title+" to: "+i[0].id+", g/r/c/i: "+s+"/"+r+"/"+a+"/"+l),d=(p=this._moveOrCopy(o,i,s,r,a,l,h,!1)).newComponent$,p.lastChange=!0,this._trigger("moved",e,p),this._select(d,e,!0),this},copy:function(e,o,i,s,r,a,l,h){var p,d;if(o=o||t(this.lastFocused),!(o=this._getComponentElement(o))||!o.is(L))throw new Error("Nothing to copy");if(!(i=this._getContainerElement(i))||!i.is(x))throw new Error("Invalid copy destination");return n.getLevel()>=n.LOG_LEVEL.INFO&&n.info("Gridlayout copy component: "+this._getNode(o[0]).title+" to: "+i[0].id+", g/r/c/i: "+s+"/"+r+"/"+a+"/"+l),d=(p=this._moveOrCopy(o,i,s,r,a,l,h,!0)).newComponent$,p.lastChange=!0,this._trigger("copied",e,p),this._select(d,e,!0),this},_layoutGrid:function(t,e,n,o){var i,s,r,a,l,h,p,d,c,u,f=this.pageRoot,m=null,g={},_=0,v=null,y=null,C=null,w=0;if(n)for(m=[],a=0;a<t.length;a++)if(l=t[a],(!v||n&&"fixed"!==f.gridType&&l.newGrid)&&(v={_parent:e,rows:[]},y=null,m.push(v)),(!y||n&&l.newRow)&&(y={_parentGrid:v,columns:[]},C=null,v.rows.push(y),g={}),n&&l.col>0)if($(g,l.col))y.columns[g[l.col]].components.push(l),l._parentColumn=y.columns[g[l.col]];else if(C={_parentRow:y,col:l.col,span:f.hasColumnSpan?l.span||-1:1,rowSpan:l.rowSpan,components:[l]},l._parentColumn=C,y.columns.push(C),w=y.columns.length-1,l.col<_){for(p=w,h=l.col+1;h<=_;h++)$(g,h)&&(g[h]<p&&(p=g[h]),g[h]+=1);p!==w&&(d=w,c=p,void 0,u=y.columns.splice(d,1),y.columns.splice(c,0,u[0])),g[l.col]=p}else _=l.col,g[l.col]=w;else(!C||n&&l.newCol)&&(C={_parentRow:y,col:-1,span:f.hasColumnSpan?l.span||-1:1,rowSpan:l.rowSpan,components:[]},y.columns.push(C)),C.components.push(l),l._parentColumn=C;if(n&&"fixed"===f.gridType&&f.hasColumnSpan)for(i=0;i<m.length;i++)for(v=m[i],s=0;s<v.rows.length;s++)J(y=v.rows[s],o);if(m)for(i=0;i<m.length;i++)for(v=m[i],s=0;s<v.rows.length;s++)for(y=v.rows[s],r=0;r<y.columns.length;r++)C=y.columns[r];for(a=0;a<t.length;a++)(l=t[a])._parent=e,l.slots&&this._layoutSlots(l.slots,l,n,o);return m},_layoutSlots:function(t,e,n,o){var i=this.pageRoot,s=0;for(const r of t){if(r._parent=e,$(r,"span")||$(r,"newColumn")){if(r.newGrid&&(delete r.newRow,delete r.newColumn),r.newRow&&delete r.newColumn,(r.newRow||r.newGrid)&&(s=0),r.span=r.span||1,!1!==r.newColumn&&(s+=r.span),"fixed"===i.gridType&&s>o)throw new Error("Fixed layout template grid exceeded max columns. Slot: "+r.title);if(n&&r.isGrid&&!r.maxColumns&&("fixed"!==i.gridType||i.alwaysUseMaxColumns?r.maxColumns=o:r.maxColumns=r.span),r.isGrid&&"fixed"===i.gridType&&!i.alwaysUseMaxColumns&&r.span!==r.maxColumns)throw new Error("Fixed layout span and maxColumns must be the same. Slot: "+r.title)}else s=0,n&&r.isGrid&&!r.maxColumns&&(r.maxColumns=o);if(r.hasRowSpan&&!i.hasRowSpan)throw new Error("Row span not allowed for slot when page doesn't support row span. Slot: "+r.title);r._grids=this._layoutGrid(r.components,r,n&&r.isGrid||r.hasSubRegionTemplate,r.maxColumns||o)}},_layoutPage:function(){var t=this.pageRoot;this._layoutSlots(t.slots,t,!0,t.maxColumns)},_showOrHideSlots:function(e){var n,o=this.options,i=this;(e=e||this.element).find(d).each((function(){var e=i._getNode(this);n=!o.hideEmptySlots&&t(this).is(".a-GridLayout--legacy")?!o.hideLegacySlots||0!==e.components.length:!o.hideEmptySlots||0!==e.components.length,e.isDeprecated&&0===e.components.length&&(n=!1),t(this).toggle(n)})),e.find(".a-GridLayout-buttonContainer").each((function(){var e=i._getNode(this);(n=!(o.hideButtons||o.hideEmptySlots&&0===e.components.length))&&e.isLegacy&&(n=!o.hideLegacySlots||0!==e.components.length),e.isDeprecated&&0===e.components.length&&(n=!1),t(this).toggle(n)})),e.find(u).each((function(){var e=i._getNode(this);(n=!(o.hideItems||o.hideEmptySlots&&0===e.components.length))&&e.isLegacy&&(n=!o.hideLegacySlots||0!==e.components.length),e.isDeprecated&&0===e.components.length&&(n=!1),t(this).toggle(n)})),o.hideEmptySlots},_find:function(t,e){const n=this.pageRoot;return!e&&n===t||n.id===t?n:function n(o){let i=null;for(const s of o)if(!e||s.hasRegionSupport)for(let e=0;e<s.components.length;e++){let o=s.components[e];if(o===t||o.id===t)return o;if(o.slots&&(i=n(o.slots),i))return i}return i}(n.slots)},_getComponentElement:function(t){return"string"==typeof t?this.findById(t):t._elementId?this._getElement(t):t},_getContainerElement:function(t){var e;return Array.isArray(t)?(e=this.findContainer(t[0],t[1]))?this._getElement(e):null:t._elementId?this._getElement(t):t},_addNode:function(t){var e=this.nextId;return this.nodeMap[this.nextId]=t,t._elementId=this.nextId,this.nextId+=1,this.baseId+e},_setNode:function(t){if(!t._elementId)throw new Error("Failed to add node to nodeMap - no id");this.nodeMap[t._elementId]=t},_getNode:function(t){var e=U(t.id);return this.nodeMap[e]},_getElement:function(e){var n=this.baseId+e._elementId;return t("#"+n)},_renderHeader:function(t,e,n,o,i){t.markup("<h3").optionalAttr("class",null!==o?"is-draggable":null).optionalAttr("aria-grabbed",null!==o?""+o:null).markup("><span").attr("class",this.options.iconType+" "+e).markup("></span><span").attr("class","a-GridLayout-label").markup(">"),i&&t.markup("<span class='a-Icon ").attr(i).markup("'></span>"),t.content(n).markup("</span></h3>")},_renderRegion:function(t,e,n,o){var i,s=l;e.isConditional&&(s+=" "+_),s=Q(s,e,this.options.stateClassMap),i=tt(e,this.options.stateIconMap),t.markup("<div").attr("class",s).attr("id",this._addNode(e)).attr("data-region-type",e.regionType).markup(" tabindex='-1'>"),this._renderHeader(t,this.options.getIconForComponent(e),e.title,!(!o&&!e.isReadOnly)&&null,i),this._renderSlots(t,e.slots,n,e.itemsAboveContent),t.markup("</div>")},_renderItem:function(t,e){var n,o=a;e.isConditional&&(o+=" "+_),o=Q(o,e,this.options.stateClassMap),n=tt(e,this.options.stateIconMap),t.markup("<div").attr("class",o).attr("id",this._addNode(e)).attr("data-item-type",e.itemType).markup(" tabindex='-1'>"),this._renderHeader(t,this.options.getIconForComponent(e),e.title,!!e.isReadOnly&&null,n),t.markup("</div>")},_renderButton:function(t,e){var n,o=h;e.isConditional&&(o+=" "+_),o=Q(o,e,this.options.stateClassMap),n=tt(e,this.options.stateIconMap),t.markup("<div").attr("class",o).attr("id",this._addNode(e)).markup(" tabindex='-1'>"),this._renderHeader(t,this.options.getIconForComponent(e),e.title,!!e.isReadOnly&&null,n),t.markup("</div>")},_renderComponentsInGrid:function(t,e,n,o){var i,s,r,a,l,h,p,d,c,u,f=this.pageRoot.gridType;function m(){for(t.markup("<thead><tr>"),i=0;i<e.maxColumns;i++)t.markup("<td></td>");t.markup("</tr></thead>")}if(o.length>0)for(s=0;s<o.length;s++){for(d=o[s],t.markup("<table role='presentation'").attr("class",w+" "+n+(0===s?" first":"")).markup(">"),"fixed"===f&&m(),t.markup("<tbody>"),r=0;r<d.rows.length;r++){for(c=d.rows[r],t.markup("<tr>"),p=1,a=0;a<c.columns.length;a++){for((u=c.columns[a]).col>p&&(t.markup("<td").attr("colspan",u.col-p).markup("><div").attr("class",k+" "+n).markup("></div></td>"),p=u.col),p+=u.span>0?u.span:1,t.markup("<td").optionalAttr("colspan",u.span).optionalAttr("rowspan",u.rowSpan).markup("><div").attr("class",k+" "+n).markup(">"),l=0;l<u.components.length;l++)h=u.components[l],this._renderComponent(t,h,!0);t.markup("</div></td>")}t.markup("</tr>")}t.markup("</tbody></table>")}else t.markup("<table role='presentation'").attr("class",w+" first "+n).markup(">"),"fixed"===f&&m(),t.markup("<tbody><tr><td><div").attr("class",k+" "+n).markup("></div></td></tr></tbody></table>")},_renderComponent:function(t,e,n){if("region"===e.type)this._renderRegion(t,e,n);else if("item"===e.type)this._renderItem(t,e);else{if("button"!==e.type)throw new Error("Unknown component type");this._renderButton(t,e)}},_renderComponents:function(t,e,n,o,i=!1){var s,r;if(t.markup("<div").attr("class",e).markup(">"),n&&n.length>0)for(s=0;s<n.length;s++)r=n[s],o&&r.alignment!==o||this._renderComponent(t,r,i);t.markup("</div>")},_renderSlots:function(t,e,n,i){var s,r,a,l=this,h=null,p=!1,d=!1,c=!1;function u(){a=o.getMessage("GL.REGION_CONTENT"),t.markup("<div").attr("class","a-GridLayout-regionContent").markup("><h3>").content(a).markup("</h3>"),h&&(t.markup("<div").attr("class",W[0]).attr("id",l._addNode(h)).markup(">"),t.markup("<h3>").content(h.title).markup("</h3>"),l._renderComponents(t,S+" "+W[1],h.components),t.markup("</div>")),t.markup("</div>")}for(const o of e){if($(o,"span")||$(o,"newColumn")?(c&&!1!==o.newColumn&&(t.markup("</td>"),c=!1),d?o.newGrid&&t.markup("</tr></tbody></table><table role='presentation'").attr("class",T).markup("><tbody><tr>"):(t.markup("<table role='presentation'").attr("class",T).markup("><tbody><tr>"),d=!0,o.newColumn=!0),o.newRow&&t.markup("</tr><tr>"),!1!==o.newColumn&&(t.markup("<td colspan='"+o.span+"'>"),c=!0)):d&&(t.markup("</tr></tbody></table>"),d=!1),[o.hasRegionSupport,o.hasItemSupport,o.hasButtonSupport].filter(Boolean).length>1||o.hasRegionSupport||o.hasItemSupport)p&&(t.markup("</div>"),p=!1);else if(o.hasButtonSupport){if("RIGHT_OF_IR_SEARCH_BAR"===o.placeholder){h=o;continue}p?o.hasAlignment&&(t.markup("</div>"),p=!1):o.hasAlignment||(t.markup("<div").attr("class","a-GridLayout-buttonGroup").markup(">"),p=!0)}if("region"===o.type&&o.hasItemSupport&&"BODY"===o.placeholder&&!i&&u(),s=et(o,0),o.isLegacy&&(s+=" a-GridLayout--legacy"),o.isDeprecated&&(s+=" a-GridLayout--deprecated"),r=et(o,1),t.markup("<div").attr("class",s).attr("id",this._addNode(o)).attr("data-position-type",o.type).attr("data-position",o.placeholder).optionalAttr("data-supported-region-types",o.supportedRegionTypes?.join(",")).optionalAttr("data-supported-item-types",o.supportedItemTypes?.join(",")).markup(">"),t.markup("<h3>").content(it("MODEL.POSTFIX.LEGACY",o.title,o.isLegacy)).markup("</h3>"),[o.hasRegionSupport,o.hasItemSupport,o.hasButtonSupport].filter(Boolean).length>1||o.hasRegionSupport||o.hasItemSupport)o.isGrid&&n?this._renderComponentsInGrid(t,o,r,o._grids):this._renderComponents(t,k+" "+r,o.components,null,o.hasSubRegionTemplate);else{if(!o.hasButtonSupport)throw new Error("Unknown slot type: "+o.placeholder);o.hasAlignment?(t.markup("<table role='presentation'").attr("class","a-GridLayout-buttonRow").markup("><tbody><tr><td>"),this._renderComponents(t,S+" "+r,o.components,"left"),t.markup("</td><td>"),this._renderComponents(t,S+" "+r,o.components,"right"),t.markup("</td></tr></tbody></table>")):this._renderComponents(t,S+" "+r,o.components)}t.markup("</div>"),"region"===o.type&&o.hasItemSupport&&"BODY"===o.placeholder&&i&&u()}p&&t.markup("</div>"),d&&t.markup("</tr></tbody></table>")},_renderPage:function(t,e){var n,o=s;e.isConditional&&(o+=" "+_),o=Q(o,e,this.options.stateClassMap),n=tt(e,this.options.stateIconMap),t.markup("<div").attr("class",o).attr("id",this._addNode(e)).markup(" tabindex='-1'>"),this._renderHeader(t,this.options.getIconForComponent(e),e.title,null,n),this._renderSlots(t,e.slots,!0),t.markup("</div>")},_setFocusable:function(t){this.lastFocused&&this.lastFocused!==t&&(this.lastFocused.tabIndex=-1),t.tabIndex=0,this.lastFocused=t},_select:function(e,n,o,i,s){var r,a,l,h,p,d,c="set",u=this;e=e.filter(":visible"),n&&this.options.multiple&&("mousedown"===n.type?n.ctrlKey||n.metaKey?c="toggle":n.shiftKey&&(c="add"):"keydown"===n.type&&(n.keyCode===t.ui.keyCode.SPACE?c="toggle":n.ctrlKey?c="none":n.shiftKey&&(c="add"))),r=this.element.find(A),"set"===c&&r.removeClass(D).removeAttr(N),a=e.hasClass(D),"set"===c||"add"===c||"toggle"===c&&!a?e.addClass(D).attr(N,!0):"toggle"===c&&a&&e.removeClass(D).removeAttr(N),e.length>0&&(o?(e[0].tabIndex=0,e[0].focus()):this._setFocusable(e[0]),(p=(h=this.element.scrollParent())[0]===document?{left:0,top:0}:h.offset())&&(d=this.element.offset(),((l=e.first().offset()).top<p.top||l.top>p.top+h[0].offsetHeight)&&(h[0].scrollTop=l.top-d.top),(l.left+e[0].offsetWidth<p.left||l.left>p.left+h[0].offsetWidth)&&(h[0].scrollLeft=l.left-d.left))),s||("toggle"===c||"add"===c&&!a||"set"===c&&(r[0]!==e[0]||r.length!==e.length))&&(u.triggerTimerId&&(clearTimeout(u.triggerTimerId),u.triggerTimerId=null),u.triggerTimerId=setTimeout((function(){u.triggerTimerId=null,u._trigger("selectionChange",n)}),i?350:1))},_traverseRight:function(e){var n,o,i=null;if(this.lastFocused)if((n=t(this.lastFocused)).parent().hasClass(S))this._traverseDown(e);else{for(o=n.closest("td");o.length;){if((n=o.next().find(L).first()).length){i=n;break}o=o.parent().closest("td")}i&&i.length>0&&this._select(i.eq(0),e,!0,!0)}},_traverseLeft:function(e){var n,o,i=null;if(this.lastFocused)if((n=t(this.lastFocused)).parent().hasClass(S))this._traverseUp(e);else{for(o=n.closest("td");o.length;){if((n=o.prev().find(L).first()).length){i=n;break}o=o.parent().closest("td")}i&&i.length>0&&this._select(i.eq(0),e,!0,!0)}},_traverseDown:function(e){var n,o,i,s,r,a,l;if(this.lastFocused){if(i=t(this.lastFocused),e.which!==t.ui.keyCode.RIGHT&&(l=i.closest(m)).length>0&&(i=l.find(L).last()),(s=i.find(L).filter(":visible").first()).length>0)i=s;else if((s=i.nextAll(":visible").first()).length>0)i=s;else if(i.closest(g).length>0&&(s=i.closest("td").next().find(L).filter(":visible").first()),s.length>0)i=s;else for(;i.length>0;){if((s=i.nextAll(L).filter(":visible").first()).length>0){i=s;break}if((s=i.nextAll(":visible").find(L).filter(":visible").first()).length>0){i=s;break}if((r=i.parent().parent().parent("tr").first().next().first()).length>0&&(a=r.prev()[0],n=X(i.parents("td").filter((function(){return this.parentNode===a}))),o=0,r.children().each((function(){if((o+=this.colSpan||1)>n)return s=t(this).find(L).first(),!1})),0===s.length&&(s=r.children().last().find(L).first())),s.length>0){i=s;break}i=i.parent().closest("."+T+","+L+","+x+","+m)}i&&i.length>0&&this._select(i,e,!0,!0)}},_traverseUp:function(e,n){var o,i,r,a,l,h,p;if(this.lastFocused&&(r=t(this.lastFocused),e.which!==t.ui.keyCode.LEFT&&(p=r.closest(m)).length>0&&(r=p.find(L).first()),(a=r.prevAll(":visible").first()).length>0?0===(r=a.find(L).filter(":visible").last()).length&&(r=a):((l=r.closest("tr").prev()).length>0&&(o=X(r.closest("td")),i=0,l.children().each((function(){if((i+=this.colSpan||1)>o)return a=t(this).find(L).filter(":visible").last(),!1})),0===a.length&&(a=l.children().last().find(L).filter(":visible").last())),a.length>0?r=a:(r.closest(g).length>0&&(a=r.closest("td").prev().find(L).filter(":visible").last()),0===a.length&&(h=p&&p.length>0?p:r.parent().closest(x),0===(a=h.prevAll(":visible").find(L).filter(":visible").last()).length&&h.parent().is(m)&&(h=h.parent(),a=h.prevAll(":visible").find(L).filter(":visible").last())),0===a.length?(r=r.parent().closest(I)).is("."+s)&&(h=h.parent().closest("."+T),0!==(a=h.prevAll(":visible").find(L).filter(":visible").last()).length&&(r=a)):r=a)),r&&r.length>0)){if(n)return r[0];this._select(r,e,!0,!0)}},_setZoom:function(){var t,e,n=1*this.options.zoom;for(t=0;t<q.length;t++)if(n<=q[t]){n=q[t];break}t>=q.length&&(n=q[q.length-1]),e=i+"--z"+n,this.element.removeClass(this.lastZoom).addClass(e),this.lastZoom=e},_mouseCapture:function(e,n){var o,s=null;return!(this.animating||this.options.disabled||("H3"===e.target.nodeName?o=t(e.target):"H3"===e.target.parentNode.nodeName&&(o=t(e.target.parentNode)),o&&o.length&&(s=o.parent(I)),s&&s.length&&!n&&this._select(s,e,!0,!1),o&&o.length&&(s=o.parent(L)),!(o&&o.is(".is-draggable")&&s&&1===s.length)||s.parent().hasClass(i)||(this.dragComponent=s,this._initDragTargets(this.dragComponent),0)))},_mouseStart:function(e,n,o){var i,s,r,a=this.options,l=this;return o||(t("body").on("keydown.glv",(function(e){e.keyCode!==t.ui.keyCode.ESCAPE?l._dragCopyOrMove(e.ctrlKey):l._cancel(e)})),t("body").on("keyup.glv",(function(t){l._dragCopyOrMove(t.ctrlKey)}))),this.helper||(this.helper=this._createHelper()),this.margins={left:parseInt(this.dragComponent.css("marginLeft"),10)||0,top:parseInt(this.dragComponent.css("marginTop"),10)||0},this.scrollParent=this.helper.scrollParent(),this.offset=this.dragComponent.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:n.pageX-this.offset.left,top:n.pageY-this.offset.top},parent:this._getParentOffset()}),this.helper.css("position","absolute"),this._cacheHelperProportions(),this.originalPosition=this._generatePosition(n),a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.dragging=!0,s=this.dragComponent.children("h3").outerHeight(),this.dragComponent.hide(),this._createPlaceholder(s),r=this.placeholder.offset().top,this._initTargetContainers(),(r=this.placeholder.offset().top-r)>0&&(this.scrollParent[0].scrollTop=this.scrollParent[0].scrollTop+r),this._refreshPositions(),a.containment&&this._setContainment(),o||a.cursor&&"auto"!==a.cursor&&(i=t("body"),this.storedCursor=i.css("cursor"),i.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(i)),a.opacity&&this.helper.css("opacity",a.opacity),a.zIndex&&this.helper.css("zIndex",a.zIndex),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",n,this._uiHashDnD()),this._mouseDrag(n),!0},_mouseDrag:function(e){var n,o,i,s,r,a,l,h,p,d,c,u,f=0,m=0,g=this.options,_=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._adjustPositionForScroll(),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<g.scrollSensitivity?this.scrollParent[0].scrollTop=this.scrollParent[0].scrollTop+g.scrollSpeed:e.pageY-this.overflowOffset.top<g.scrollSensitivity&&(this.scrollParent[0].scrollTop=this.scrollParent[0].scrollTop-g.scrollSpeed),m=this.scrollParent[0].scrollTop-this.dropPositionsOrigin.y,this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<g.scrollSensitivity?this.scrollParent[0].scrollLeft=this.scrollParent[0].scrollLeft+g.scrollSpeed:e.pageX-this.overflowOffset.left<g.scrollSensitivity&&(this.scrollParent[0].scrollLeft=this.scrollParent[0].scrollLeft-g.scrollSpeed),f=this.scrollParent[0].scrollLeft-this.dropPositionsOrigin.x):(e.pageY-t(document).scrollTop()<g.scrollSensitivity?t(document).scrollTop(t(document).scrollTop()-g.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<g.scrollSensitivity&&t(document).scrollTop(t(document).scrollTop()+g.scrollSpeed),m=t(document).scrollTop()-this.dropPositionsOrigin.y,e.pageX-t(document).scrollLeft()<g.scrollSensitivity?t(document).scrollLeft(t(document).scrollLeft()-g.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<g.scrollSensitivity&&t(document).scrollLeft(t(document).scrollLeft()+g.scrollSpeed),f=t(document).scrollLeft()-this.dropPositionsOrigin.x)),this.positionAbs=this._adjustPositionForScroll(),this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",this._dragCopyOrMove(e.ctrlKey),n=0;n<this.containers.length;n++)if(i=this.containers[n],a=this._intersectsWithPointer(i,null,f,m)){if("grid"===(u=i.type))for(c=this.positionAbs.top+this.offset.click.top+m,d=this.positionAbs.left+this.offset.click.left+f,l=0;l<i.rows.length;l++){if(K(c,(h=i.rows[l]).y-g.gridTolerance,2*g.gridTolerance)){_=this._movePlaceholder(i,null,"row",l);break}if(l<i.rows.length-1&&K(c,h.y,i.rows[l+1].y-h.y))for(p=0;p<h.columns.length;p++)if(K(d,h.columns[p]-g.gridTolerance,2*g.gridTolerance)){_=this._movePlaceholder(i,null,"column",l,p);break}}if(_)break;if(i.items)for(o=0;o<i.items.length;o++)if(s=i.items[o],a=this._intersectsWithPointer(s,u,f,m)){(r=s.element[0])!==this.dragComponent[0]&&this.placeholder[1===a?"next":"prev"]()[0]!==r&&("pointer"===this.options.tolerance||this._intersectsWithSides(s,u))&&(_=this._movePlaceholder(i,s,1===a?"before":"after"));break}if(_)break;if("grid"!==i.type&&(_=this._movePlaceholder(i)),_)break;i!==this.curContainer&&(this.curContainer=i);break}return this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(n||t("body").off(".glv"),this._deactivate(),this.storedCursor&&(t("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),!e.target)return this.fromOutside=!1,void(this.dragging=!1);if(this.options.animate){var o=this,i=this.placeholder.offset(),s={};s.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft),s.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop),this.animating=!0,t(this.helper).animate(s,parseInt(this.options.animate,10)||500,(function(){o._finishDrag(e)}))}else this._finishDrag(e);return!1},_initDragTargets:function(t){this.itemType=void 0,this.regionType=void 0,t.hasClass(a)?(this.targetClass=v,this.itemClass=a,this.itemType=t.data("item-type")):t.hasClass(l)?(this.targetClass=y,this.itemClass=l,this.regionType=t.data("region-type")):t.hasClass(h)&&(this.targetClass=C,this.itemClass=h)},_dragCopyOrMove:function(t){this.isOver||this.prevCopy===t||(t?(this.dragComponent.show(),this.helper.find(G).text(o.getMessage("GL.DRAG_COPY"))):(this.dragComponent.hide(),this.helper.find(G).text("")),this.prevCopy=t)},_cancel:function(e){this.dragging&&(this._mouseUp(t.Event("mouseup",{target:null})),this.dragComponent.show(),this._select(this.dragComponent,null,!0)),this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper&&this.helper[0].parentNode&&this.helper.remove(),this.helper=null,this.dragging=!1,this.animating=!1),this._trigger("stop",e,this._uiHashDnD())},_intersectsWith:function(t){var e=this.positionAbs.left,n=this.positionAbs.top,o=t.left,i=o+t.width,s=t.top,r=s+t.height,a=this.offset.click.top,l=this.offset.click.left,h="x"===this.options.axis||n+a>s&&n+a<r,p="y"===this.options.axis||e+l>o&&e+l<i;return h&&p},_intersectsWithPointer:function(t,e,n,o){var i=K(this.positionAbs.top+this.offset.click.top+o,t.top,t.height),s=K(this.positionAbs.left+this.offset.click.left+n,t.left,t.width),r=i&&s,a=this._getDragVerticalDirection(),l=this._getDragHorizontalDirection();return!!r&&("flow"===e&&l?"right"===l||"down"===a?2:1:a&&"down"===a?2:1)},_intersectsWithSides:function(t,e){var n=K(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),o=K(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return"flow"===e&&s?"right"===s&&o||"left"===s&&!o:i&&("down"===i&&n||"up"===i&&!n)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},_initTargetContainers:function(){var e,n=this,o="."+this.targetClass,i=t(o,this.element),s=null,r=this.regionType,a=this.itemType;this.helper&&(i=i.not(this.helper.find(o)),r=r||this.helper.data("region-type"),a=a||this.helper.data("item-type")),this.dragComponent&&(i=i.not(this.dragComponent.find(o)),s=this.dragComponent.closest(o)[0]),a&&(i=i.filter((function(){const e=t(this).closest(u).data("supported-item-types");return!e||e.includes(a)}))),r&&(i=i.filter((function(){const e=t(this).closest(d).data("supported-region-types");return!e||e.includes(r)}))),i.addClass(E),this.containers=[],this.curContainer=null,i.each((function(){var o,i,r;(i=t(this)).hasClass(w)?o="grid":i.hasClass(k)?o="stack":i.hasClass(S)&&(o="flow"),e={element:i,type:o,name:t(this).prev().text(),width:0,height:0,left:0,top:0},n.containers.unshift(e),this===s&&(n.curContainer=e),"grid"===o?e.rows=[]:(e.items=[],r=nt(i),i.children(r).each((function(){e.items.push({element:t(this),name:t(this).children("h3").text(),width:0,height:0,left:0,top:0})})))}))},_deactivate:function(){t("."+this.targetClass).removeClass(E)},_refreshPositions:function(){var e,n,o,i,s,r,a,l,h,p;function d(){h=t(this),s=h.offset(),a.columns.push(s.left)}function c(){l=t(this),s=l.offset(),a={y:s.top,columns:[]},o.rows.push(a),l.children("td").each(d),a.columns.push(s.left+h.outerWidth())}for(l=t(),e=0;e<this.containers.length;e++)if(i=(o=this.containers[e]).element,o.width=i.outerWidth(),o.height=i.outerHeight(),s=i.offset(),o.left=s.left,o.top=s.top,"grid"===o.type)o.rows=[],i.children("tbody").children("tr").each(c),o.rows.push({y:s.top+l.outerHeight()});else for(n=0;n<o.items.length;n++)i=(r=o.items[n]).element,r.width=i.outerWidth(),r.height=i.outerHeight(),s=i.offset(),r.left=s.left,r.top=s.top;this.dropPositionsOrigin={x:0,y:0},(p=this.element.scrollParent())[0]===document?p=this.element:this.dropPositionsOrigin={x:p[0].scrollLeft,y:p[0].scrollTop},s=p.offset(),this.containerCache.left=s.left,this.containerCache.top=s.top,this.containerCache.width=p.outerWidth(),this.containerCache.height=p.outerHeight()},_createPlaceholder:function(e){this.placeholder=t("<div class='a-GridLayout-placeholder'>&nbsp;</div>"),this.dragComponent.after(this.placeholder),e&&this.placeholder.height(e)},_createHelper:function(){var e=this.options,n=this.makeHelper();return n.parents("body").length||t("parent"!==e.appendTo?e.appendTo:this.element[0].parentNode)[0].appendChild(n[0]),n[0].style.width,n[0].style.height,n},_adjustOffsetFromHelper:function(t){"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var e;return this.offsetParent=this.helper.offsetParent(),e=this.offsetParent[0]===document||this.offsetParent[0]===document.firstElementChild?{left:0,top:0}:this.offsetParent.offset(),this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,o,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),"document"!==i.containment&&"window"!==i.containment||(this.containment=[0-this.offset.parent.left,0-this.offset.parent.top,t("document"===i.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===i.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(e=t(i.containment)[0],n=t(i.containment).offset(),o="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(o?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(o?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_generatePosition:function(e){var n=e.pageX,o=e.pageY,i=this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(i[0].tagName);return this.originalPosition&&this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(n=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(n=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),{top:o-this.offset.click.top-this.offset.parent.top-(s?0:i.scrollTop()),left:n-this.offset.click.left-this.offset.parent.left-(s?0:i.scrollLeft())}},_adjustPositionForScroll:function(){var e=this.position,n=this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:e.top+this.offset.parent.top-(o?0:n.scrollTop()),left:e.left+this.offset.parent.left-(o?0:n.scrollLeft())}},_makeTempDragComponent:function(){var n,o,i=e.htmlBuilder();return i.markup("<div").attr("class",this.itemClass).markup("><h3 class='is-draggable'><span>&nbsp;</span></h3></div>"),n=t(i.toString()),!!(o=this.element.find("."+this.targetClass).not(b).filter(":visible").first()).length&&(o.append(n),this.dragComponent=n,!0)},_movePlaceholder:function(e,n,o,i,s){var r,a,l,h,p,d,c=null,u=null,f=!1;if(n)(r=n.element[0]).parentNode.insertBefore(this.placeholder[0],"before"===o?r:r.nextSibling),f=!0;else if(p=nt(e.element),d=ot(e.element),"grid"===e.type){if(a=e.element.children("tbody").children("tr"),"row"===o){if(i>=a.length?h=a.last().find(p).filter(":visible").length:(h=a.eq(i).find(p).filter(":visible").length)>0&&i>0&&(h=a.eq(i-1).find(p).filter(":visible").length),0===h)return!1;c=t("<tr><td><div class='"+k+" "+d+"'></div></td></tr>"),i>=a.length?a.last().after(c):a.eq(i).before(c),c.find("div").append(this.placeholder[0]),this.containers.unshift({element:c.find("div"),type:"stack",name:"temp",items:[],width:0,height:0,left:0,top:0}),f=!0}else if("column"===o){if(s>=(l=a.eq(i).children("td")).length?h=l.last().find(p).filter(":visible").length:(h=l.eq(s).find(p).filter(":visible").length)>0&&s>0&&(h=l.eq(s-1).find(p).filter(":visible").length),0===h)return!1;u=t("<td><div class='"+k+" "+d+"'></div></td>"),s>=l.length?l.last().after(u):l.eq(s).before(u),u.find("div").append(this.placeholder[0]),this.containers.unshift({element:u.find("div"),type:"stack",name:"temp",items:[],width:0,height:0,left:0,top:0}),f=!0}}else(!e.items||0===e.items.length||1===e.items.length&&e.items[0].element[0]===this.dragComponent[0])&&(e.element.append(this.placeholder[0]),f=!0);return e!==this.curContainer&&(this.curContainer=e),f&&(this.tempGridRow&&0===this.placeholder.closest(this.tempGridRow).length&&(this.tempGridRow.remove(),this.tempGridRow=null),c&&(this.tempGridRow=c),this.tempGridColumn&&0===this.placeholder.closest(this.tempGridColumn).length&&(this.tempGridColumn.remove(),this.tempGridColumn=null),u&&(this.tempGridColumn=u)),f&&this._refreshPositions(),f},_copyComponent:function(t,e){var n,o,i,s,r={};for(i in t)if(Object.prototype.hasOwnProperty.call(t,i))if(s=t[i],"slots"===i){o=r.slots=[];for(const e of t.slots)o.push(this._copyComponent(e,r))}else if("components"===i)for(o=r.components=[],n=0;n<t.components.length;n++)o.push(this._copyComponent(t.components[n],r));else"_parent"===i?r._parent=e:"_"!==i.substring(0,1)&&(r[i]=s);return this.options.updateComponentCopy(r,t),r},_insert:function(t,e,n,o,i,s,r){var a,l,h,p,d,c,u=this.pageRoot,f=t.component,m=t.newParentContainer;if("button"===f.type&&(j(t,f,"alignment",r),r&&(t.newAlignment=r)),e&&!m.hasSubRegionTemplate){for(-1===s||0===m._grids.length?(a={_parent:m,rows:[]},m._grids.splice(n,0,a),j(t,f,"newGrid",!0),t.newGridInserted=!0,s=F):(j(t,f,"newGrid",!1),a=m._grids[n]),s===F||o>=a.rows.length?(l={_parentGrid:a,columns:[]},a.rows.splice(o,0,l),t.newRowInserted=!0,s=-3,j(t,f,"newRow",!0)):(j(t,f,"newRow",!1),l=a.rows[o]),-3===s?(h={_parentRow:l,span:-1,col:-1,components:[]},l.columns.splice(i,0,h),t.newColumnInserted=!0,s=0,j(t,f,"newCol",!0),0!==i||t.newRowInserted||j(t,f,"newRow",!0)):(d=(h=l.columns[i]).components[s],0===s?(j(t,f,"newCol",!0),d&&(j(t,f,"newRow",d.newRow),j(t,f,"newGrid",d.newGrid),j(t,f,"col",d.col),j(t,f,"span",d.span),void 0!==d.rowSpan&&j(t,f,"rowSpan",d.rowSpan),j(t,d,"newCol",!1),j(t,d,"newRow",!1),j(t,d,"newGrid",!1),j(t,d,"col",-1),j(t,d,"span",-1),void 0!==d.rowSpan&&j(t,d,"rowSpan",-1))):j(t,f,"newCol",!1)),(void 0===f.col||f.col>=0&&(0!==s||!d)&&!f.forceColumn)&&j(t,f,"col",-1),delete f.forceColumn,void 0===f.span&&j(t,f,"span",-1),f._parentColumn=h,t.newGrid=n,t.newRow=o,t.newColumn=i,t.newIndex=s,!d&&i+1<l.columns.length&&(d=l.columns[i+1].components[0],t.newColumnInserted&&0===i&&j(t,d,"newRow",!1)),!d&&o+1<a.rows.length&&(d=a.rows[o+1].columns[0].components[0]),!d&&n+1<m._grids.length&&(d=m._grids[n+1].rows[0].columns[0].components[0]),c=d?V(m.components,d):m.components.length,t.newComponentIndex=c,h.components.splice(s,0,f),m.components.splice(c,0,f),d&&d._parentColumn!==f._parentColumn&&0===i&&f.newCol&&j(t,d,"newCol",!0),p=0;p<l.columns.length;p++)(h=l.columns[p]).col=h.components[0].col,h.span=h.components[0].span||-1;"fixed"===u.gridType&&u.hasColumnSpan&&J(l,m.maxColumns)}else t.newIndex=s,m.components.splice(s,0,f);return f._parent=m,s},_getTableColumnFromColumn:function(t,e,n,o){var i,s,r=1,a=0,l=t._grids[e].rows[n].columns;for(i=0;i<=o&&i<l.length;i++)(s=l[i]).col>r&&(a+=1,r=s.col),r+=s.span>0?s.span:1,a+=1;return a-1},_insertInDom:function(e,n,o,i,s,r,a,l,p){var d,c,u,f,m,_,v,y,C,w,S,P=this.pageRoot;f=e.hasClass(h)&&n.children(g).length?n.find(g).find("td").eq("left"===p?0:1).children(R):n.children(R),this.placeholder?this.placeholder.before(e):f.is(b)?(C=ot(n),(w=a)<0&&(w=0),-1===a&&o._grids.length>1?(m=t("<table role='presentation'><tbody></tbody></table>"),z(f.parent(),"table",m,i),a=F,w=0):m=f.parent().children("table").eq(i),a===F&&0===i&&o._grids[i].rows.length>1?(c="<td><div class='"+k+" "+C+"'></div></td>",o._grids[i].rows[s].columns[0].col>=0&&(c+=c),_=t("<tr>"+c+"</tr>"),z(m.children("tbody"),_,s),w=0):_=m.children("tbody").children("tr").eq(s),S=this._getTableColumnFromColumn(o,i,s,r),-3===a?(o._grids[i].rows[s].columns[r].col>=0&&z(_,v=t("<td><div class='"+k+" "+C+"'></div></td>"),S-1),z(_,v=t("<td><div class='"+k+" "+C+"'></div></td>"),S),w=0):v=_.children().eq(S),z(v.children().eq(0),e,w)):z(f,e,a),"fixed"===P.gridType&&P.hasColumnSpan&&f.is(b)&&(_=(m=f.parent().children("table").eq(i)).children("tbody").children("tr").eq(s),y=o._grids[i].rows[s].columns,d=0,u=1,_.children("td").each((function(){y[d].col>u&&(this.colSpan=y[d].col-u,u=y[d].col),u+=y[d].span>0?y[d].span:1,t(this).find(L).length>0&&(this.colSpan=y[d].span,d+=1)}))),l&&this._showOrHideSlots(e)},_add:function(n,o,i,s,r,a,l,h){var p,d,c=!1,u=e.htmlBuilder(),f={container$:o,propertyChanges:[]};return f.newParentContainer=p=this._getNode(o[0]),d=Array.isArray(p._grids),n.slots&&this._layoutSlots(n.slots,n,d,12),h?(this._setNode(n),h[0].id=this.baseId+n._elementId):(this._renderComponent(u,n,d),h=t(u.toString()),c=!0),f.newComponent$=h,f.component=n,this._insert(f,d,i,s,r,a,l),this._insertInDom(f.newComponent$,o,p,i,s,r,a,c,l),f},_remove:function(e,n,o){var i,s,r,a,l,h,p,d,c,u,f,m,g,_,v,y,C=this.pageRoot,w=this,k=!!o;if(n=n||{propertyChanges:[]},r=this._getNode(e[0]),o=o||e.parent(),k?e.hide():(n.component$=e,n.component=r,n.prevContainer$=e.closest(x),delete this.nodeMap[U(e[0].id)],e.find(L).each((function(){delete w.nodeMap[U(this.id)]})),e.remove()),y="TD"===o[0].parentNode.nodeName&&o.closest("table").is(b),n.prevParentContainer=u=r._parent,n.prevComponentIndex=m=V(u.components,r),n.prevIndex=n.prevComponentIndex,"button"===r.type&&r.alignment&&(n.prevAlignment=r.alignment),y&&0===o.children(":visible").length&&((s=o.parent().parent()).parent().children("tr").length>1&&0===s.find(L).filter(":visible").length?s.remove():s.children("td").length>1&&(c=o.parent().prev().eq(0),o.parent().remove(),0===c.find(L).filter(":visible").length&&c.remove())),y){if(f=V((a=r._parentColumn).components,r),g=V(a._parentRow._parentGrid._parent._grids,a._parentRow._parentGrid),_=V(a._parentRow._parentGrid.rows,a._parentRow),v=V(a._parentRow.columns,a),n.prevGrid=g,n.prevRow=_,n.prevColumn=v,n.prevIndex=f,0===f&&a.components.length>1&&(j(n,p=a.components[1],"newGrid",r.newGrid),j(n,p,"newRow",r.newRow),j(n,p,"newCol",r.newCol),j(n,p,"col",r.col),j(n,p,"span",r.span),r.rowSpan&&j(n,p,"rowSpan",r.rowSpan)),(a=(l=(h=u._grids[g]).rows[_]).columns[v]).components.splice(f,1),0===a.components.length&&(l.columns.splice(v,1),0===v&&l.columns.length>0&&j(n,p=l.columns[v].components[0],"newRow",!0),n.prevColumnRemoved=!0,l.columns.length>0)){if("fixed"===C.gridType&&C.hasColumnSpan){for(i=0;i<l.columns.length;i++)(a=l.columns[i]).col=a.components[0].col,a.span=a.components[0].span||-1;J(l,u.maxColumns)}d=l.columns,i=0,s.children("td").each((function(){t(this).find(L).length>0&&(d[i].span>0&&(this.colSpan=d[i].span),i+=1)}))}0===l.columns.length&&(h.rows.splice(_,1),n.prevRowRemoved=!0),0===h.rows.length&&(u._grids.splice(g,1),n.prevGridRemoved=!0)}return k&&e.show(),u.components.splice(m,1),delete r._parent,n},_moveOrCopy:function(n,o,i,s,r,a,l,h){var p,d,c,u,f,m=!1,g=!1,_=e.htmlBuilder(),v={container$:o,propertyChanges:[]};return p=this._getNode(n[0]),v.newParentContainer=u=this._getNode(o[0]),c=Array.isArray(u._grids),v.prevContainer$=n.closest(x),h?(v.originalComponent=p,f=12,(p=this._copyComponent(p)).slots&&this._layoutSlots(p.slots,p,c,f),this._renderComponent(_,p,c),v.newComponent$=t(_.toString()),m=!0):(g="TD"===(d=n.parent())[0].parentNode.nodeName,v.newComponent$=n,p.slots&&c!==g&&(f=12,this._layoutSlots(p.slots,p,c,f),this._renderComponent(_,p,c),v.newComponent$=t(_.toString()),m=!0,n.remove(),delete this.nodeMap[U(n[0].id)])),v.component=p,h||(this._remove(v.newComponent$,v,d),g&&v.prevParentContainer===v.newParentContainer&&(v.prevColumnRemoved&&v.prevColumn<r&&s===v.prevRow&&(r-=1),v.prevRowRemoved&&v.prevRow<s&&i===v.prevGrid&&(s-=1),v.prevGridRemoved&&v.prevGrid<i&&(i-=1))),this._insert(v,c,i,s,r,a,l),this._insertInDom(v.newComponent$,o,u,i,s,r,a,m,l),v},_finishDrag:function(e){var n,o,i,s,r,a,l,h,p,d,c,u,f,m=e.ctrlKey,g=[];for(this.animating=!1,(this.dragComponent.next()[0]!==this.placeholder[0]||m||this.fromOutside)&&(h=this.placeholder.closest(x),d=Y(this.placeholder),r=null,a=null,l=null,h.children("table.a-GridLayout-grid").length>0?(o=this.placeholder.closest("td"),l=0,o.parent().children("td").each((function(){if(this===o[0])return!1;t(this).children("."+k).children().length>0&&(l+=1)})),a=Y(i=o.parent()),r=h.children("table").index(i.parent().parent()),0===d&&1===this.placeholder.parent().children(":visible").length&&(d=1===i.parent().children().length&&1===i.children().length?-1:1===i.children().length?F:-3)):h.children("table.a-GridLayout-buttonRow").length>0&&(f=0===Y(o=this.placeholder.closest("td"))?"left":"right"),this.fromOutside?(u=this.helper.attr("data-type-id"),s=this.options.makeComponent(u),this.dragComponent.remove(),c=this._add(s,h,r,a,l,d,f),g.push((function(t){this._trigger("added",t,c)}))):(c=this._moveOrCopy(this.dragComponent,h,r,a,l,d,f,m),g.push((function(t){this._trigger(m?"copied":"moved",t,c)})))),c&&(p=c.newComponent$),this.fromOutside&&g.push((function(t){this._trigger("deactivate",t,this._uiHashDnD(this))})),this.dragComponent.show(),this.dragging=!1,this.tempGridRow=null,this.tempGridColumn=null,this._trigger("beforeStop",e,this._uiHashDnD()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.placeholder=null,this.helper.remove(),this.helper=null,n=0;n<g.length;n++)g[n].call(this,e);return this._trigger("stop",e,this._uiHashDnD()),c&&this._select(p,e,!0),this.fromOutside=!1,!0},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHashDnD:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.dragComponent,sender:e?e.element:null}}}),t.apex.gridlayout.INDEX={NEW_GRID:-1,NEW_ROW:F,NEW_COLUMN:-3},t.ui.plugin.add("draggable","connectToGridlayout",{start:function(e,n){var o=t(this).data("ui-draggable"),i=o.options,s=t.extend({},n,{item:o.element});t("body").on("keydown.glvplug",(function(e){e.keyCode===t.ui.keyCode.ESCAPE&&(o.dropped=!1,o.cancel())})),o.grids=[],t(i.connectToGridlayout).each((function(){var i=t.data(this,"apex-gridlayout");i&&!i.options.disabled&&(o.grids.push({instance:i}),i._initDragTargets(n.helper),i._initTargetContainers(),i._refreshPositions(),i._trigger("activate",e,s))}))},stop:function(e,n){var o,i=t(this).data("ui-draggable");t("body").off(".glvplug"),i.grids.forEach((function(s){s.instance.isOver&&!s.invalid?(s.instance.isOver=!1,i.cancelHelperRemoval=!0,e.target?s.instance._mouseStop(e,!0):(s.instance._mouseStop(e,!0),s.instance.dragComponent.remove(),s.instance._cancel(e))):(s.instance._deactivate(),o=t.extend({},n,{item:i.element}),s.instance._trigger("deactivate",e,o))}))},drag:function(e,n){var o=t(this).data("ui-draggable");for(let t of o.grids){var i=!1;if(!t.invalid)if(t.instance.positionAbs=o.positionAbs,t.instance.helperProportions=o.helperProportions,t.instance.offset.click=o.offset.click,t.instance._intersectsWith(t.instance.containerCache)&&(i=!0),i){if(!t.instance.isOver){if(t.instance.isOver=!0,!t.instance._makeTempDragComponent()){t.instance.isOver=!1,t.invalid=!0;continue}if(t.instance.helper=n.helper,t.instance.helper.css("position","relative"),e.target=t.instance.dragComponent.children("h3")[0],!t.instance._mouseCapture(e,!0)){t.instance.isOver=!1,t.invalid=!0;continue}t.instance._trigger("over",e,t.instance._uiHashDnD(t.instance)),t.instance._mouseStart(e,e,!0),t.instance.offset.click.top=o.offset.click.top,t.instance.offset.click.left=o.offset.click.left,t.instance.offset.parent.left-=o.offset.parent.left-t.instance.offset.parent.left,t.instance.offset.parent.top-=o.offset.parent.top-t.instance.offset.parent.top,o.dropped=t.instance.element,o.currentItem=o.element,t.instance.fromOutside=o}t.instance.dragComponent&&t.instance._mouseDrag(e)}else t.instance.isOver&&(t.instance.isOver=!1,t.instance._trigger("out",e,t.instance._uiHashDnD(t.instance)),e.target=null,t.instance._mouseStop(e,!0),t.instance.dragComponent.remove(),t.instance.placeholder&&t.instance.placeholder.remove(),o.dropped=!1)}}})}(apex.jQuery,apex.util,apex.debug,apex.lang);
window.componentGallery={},function(e,t,n,a,i){"use strict";const o="region",s="item",l="button",r="GAL_SHOW_LEGACY",u="GAL_CUR_TAB";var p=!1,c={region:"regions",item:"items",button:"buttons"},g={regions:[],items:[],buttons:[]},d={region:"a-Gallery-region",item:"a-Gallery-pageItem",button:"a-Gallery-button"};const m=a.hasOwnProperty;function f(e){var t,n=e.split(":"),a=g[c[n[0]]];if(a&&(t=a[n[1]]),!t)throw new Error("Invalid component data key");return t}function T(e,n,a){var i,o=t.isPageReadOnly();i=d[a.type],o||(i+=" is-draggable"),e.markup("<li").attr("class",i).optionalAttr("aria-grabbed",o?null:"false").attr("data-component",a.type+":"+n).markup("><span class='a-Icon ").attr(a.iconClass).markup("'></span><span class='a-Gallery-componentName'>").content(a.title).markup("</span></li>")}function y(e,t){var n=a.htmlBuilder();return/^\s</.test(t=t||"")||(t="<p>"+t+"</p>"),n.markup("<span class='tt-title'>").content(e).markup("</span>").markup(t),n.toString()}function P(){var e=n("#glv"),i=t.isPageReadOnly(),o=a.htmlBuilder();["regions","items","buttons"].forEach((function(a){var s,l,r=g[a],u=n("#cg-"+a+" ul").first();for(o.clear(),s=0;s<r.length;s++)!(l=r[s]).isSupported||l.isLegacy&&!p||T(o,s,l);u.html(o.toString()).iconList("refresh"),i||n("#cg-"+a+" li").draggable({addClasses:!1,appendTo:"#glv-viewport",cursor2:"default",cursorAt:{left:2,top:2},delay:10,distance:5,opacity:.9,revert:!1,helper:function(){var a=n(this).attr("data-component"),i=f(a);let o,s;for(const e of i.values)e.id===t.PROP.REGION_TYPE?o=e.value:e.id===t.PROP.ITEM_TYPE&&(s=e.value);return e.gridlayout("makeHelper",i.type,i.iconClass,i.title,a,o,s)},connectToGridlayout:"#glv",containment:"document",zIndex:1e3,start:function(){apex.tooltipManager.disableTooltips()},stop:function(){apex.tooltipManager.enableTooltips()}})}))}e.getComponentData=f,n((function(){var e,a=!1;p="Y"===window.pageDesigner.getPreference(r);var i={menubar:!1,items:[{id:"addTo",type:"subMenu",disabled:!0,labelKey:"PD.GAL.MI.ADD2",menu:{items:[]}},{type:"toggle",labelKey:"PD.GAL.MI.SHOW_LEGACY",get:function(){return p},set:function(e){p=e,P(),window.pageDesigner.savePreference(r,p?"Y":"N")}}],beforeOpen:function(e,a){var i,o,s,l,r=n("#glv"),u=a.menuElement.menu("find","addTo"),p=a.selection;1!==p.length||t.isPageReadOnly()?u.menu.items=[]:(i=p.eq(0),o=f(l=i.attr("data-component")),s=function(){window.pageDesigner.glvMenuAddAction.call(this,l)},u.menu.items=window.pageDesigner.glvMakeTargetMenu(r.gridlayout("getDropTargets",o.type,"add"),s)),u.disabled=0===u.menu.items.length}};n("#cg-regions ul, #cg-items ul, #cg-buttons ul").addClass("a-Gallery").each((function(){n(this).iconList({multiple:!1,contextMenu:i,contextMenuId:"galleryMenu-"+n(this).parent().parent()[0].id})})).tooltip({items:"li",show:apex.tooltipManager.defaultShowOption(),position:{my:"left-20 top-20",at:"right bottom",collision:"flipfit"},content:function(){return f(n(this).attr("data-component")).tooltip}}),n("#gallery-tabs").on("tabsactivate",(function(e,t){n("#galleryMenuBtn").attr("data-menu","galleryMenu-"+t.newPanel[0].id),a||window.pageDesigner.savePreference(u,t.newTab.parent().children().index(t.newTab[0])),a=!1})),n("#galleryMenuBtn").attr("data-menu","galleryMenu-cg-regions"),e=parseInt(window.pageDesigner.getPreference(u),10),!isNaN(e)&&e>0&&setTimeout((function(){a=!0,n("#gallery-tabs").tabs("option","active",e)}),10),n("#gallery-tabs .u-ScrollingViewport.resize").resize((function(){n(this).children(".a-IconList").resize()}))})),n(document).on("modelReady",(function(){!function(){const e=t.getComponentType(t.COMP_TYPE.REGION).pluginType.plugins;for(let n in e)if(m(e,n)){const a=e[n];let i=[{id:t.PROP.REGION_TYPE,value:n}];if(a.isDeprecated||"NATIVE_DATA_UPLOAD_COLUMN_MAPPING"===a.name)continue;const s=t.getTheme().defaultTemplates["NATIVE_IR"===n?"ir":"region"];let l;a.features.includes("REGION_TEMPLATE")&&i.push({id:t.PROP.REGION_TEMPLATE,value:s}),n.startsWith("TMPL")&&(l=a.templateTypes.includes("REPORT")?"REPORT":a.templateTypes.includes("PARTIAL")?"PARTIAL":"REGION_ONLY");const r={type:o,iconClass:window.pageDesigner.getComponentIconClass(o,n,l),title:a.title,isSupported:!0,isLegacy:a.isLegacy,tooltip:y(a.title,a.helpText),values:i};g.regions.push(r)}}(),function(){var e,a,o,l,r=t.getComponentType(t.COMP_TYPE.PAGE_ITEM).pluginType.plugins;for(e in r)if(m(r,e)){if((a=r[e]).isDeprecated)continue;l=!a.componentTypes||-1!==n.inArray(t.COMP_TYPE.PAGE_ITEM,a.componentTypes),o={type:s,iconClass:window.pageDesigner.getComponentIconClass(s,e),title:l?a.title:i.formatMessage("PD.UNSUPPORTED",a.title),isSupported:l,isLegacy:a.isLegacy,tooltip:y(a.title,a.helpText),values:[{id:t.PROP.ITEM_TYPE,value:e}]},g.items.push(o)}}(),function(){var e,n,a,o=t.getButtonTemplates();function s(e,n,i){a={type:l,iconClass:window.pageDesigner.getComponentIconClass(l,"Y"===i?"hot":"normal"),title:e,isSupported:!0,isLegacy:!1,tooltip:y(e,""),values:[{id:t.PROP.BUTTON_TEMPLATE,value:n},{id:t.PROP.BUTTON_IS_HOT,value:i}]},g.buttons.push(a)}for(e in o)m(o,e)&&(s((n=o[e]).name,e,"N"),n.hasHotTemplate&&s(i.formatMessage("PD.GAL.HOT_BTN",n.name),e,"Y"))}(),["regions","items","buttons"].forEach((function(e){g[e].sort((function(e,t){return e.title.localeCompare(t.title)}))})),P()})),n(document).on("modelCleared",(function(){["regions","items","buttons"].forEach((function(e){var t=n("#cg-"+e+" ul").first();g[e]=[],t.empty().iconList("refresh")}))}))}(window.componentGallery,pe,apex.jQuery,apex.util,apex.lang);
!function(e,t,n,i,o,a){"use strict";var r={IS_HEADER:"is-header",IS_EVENT_VIEW:"is-event-view",IS_NOT_IMPORTANT:"is-not-important",IS_POPULATED:"is-populated",IS_RUN_ON_INIT:"is-run-on-init"},_="CHECK$01",P=15,p=[{title:s("NAVIGATION_MENU_LIST"),typeId:e.COMP_TYPE.LIST,type:"navigation_menu_list"},{title:s("NAVIGATION_BAR_LIST"),typeId:e.COMP_TYPE.LIST,type:"navigation_bar_list"},{title:s("TAB_SET"),typeId:e.COMP_TYPE.TAB_SET,type:"tab_set"},{typeId:e.COMP_TYPE.LOV,type:"lov"},{typeId:e.COMP_TYPE.LIST,type:"list"},{typeId:e.COMP_TYPE.AUTHORIZATION,type:"authorization"},{typeId:e.COMP_TYPE.BUILD_OPTION,type:"build_option"},{typeId:e.COMP_TYPE.AI_CONFIG,type:"ai_config"},{typeId:e.COMP_TYPE.DATA_LOAD_TABLE,type:"data_load_table"},{typeId:e.COMP_TYPE.DATA_LOAD_DEF,type:"data_load_definition"},{typeId:e.COMP_TYPE.EMAIL_TEMPLATE,type:"email_template"},{typeId:e.COMP_TYPE.WS_REF,type:"web_service"},{typeId:e.COMP_TYPE.BREADCRUMB,type:"breadcrumb"},{typeId:e.COMP_TYPE.SEARCH_CONFIG,type:"search_config"},{typeId:e.COMP_TYPE.REPORT_QUERY,type:"report_query"},{title:s("TEMPLATES"),type:"template",children:[{titleTypeId:e.COMP_TYPE.PAGE,typeId:e.COMP_TYPE.PAGE_TEMPLATE,type:"page_template"},{titleTypeId:e.COMP_TYPE.PAGE_ITEM,typeId:e.COMP_TYPE.FIELD_TEMPLATE,type:"field_template"},{titleTypeId:e.COMP_TYPE.BUTTON,typeId:e.COMP_TYPE.BUTTON_TEMPLATE,type:"button_template"},{titleTypeId:e.COMP_TYPE.REGION,typeId:e.COMP_TYPE.REGION_TEMPLATE,type:"region_template"},{titleTypeId:e.COMP_TYPE.LIST,typeId:e.COMP_TYPE.LIST_TEMPLATE,type:"list_template"},{title:s("CLASSIC_REPORT"),typeId:e.COMP_TYPE.REPORT_TEMPLATE,type:"report_template"},{title:s("NAVIGATION_MENU_LIST"),typeId:e.COMP_TYPE.LIST_TEMPLATE,type:"nav_list_template"},{titleTypeId:e.COMP_TYPE.BREADCRUMB,typeId:e.COMP_TYPE.BREADCRUMB_TEMPLATE,type:"breadcrumb_template"},{title:s("LEGACY_CALENDAR"),typeId:e.COMP_TYPE.CALENDAR_TEMPLATE,type:"calendar_template"}]}];const E=n.hasOwnProperty;function s(e){return o.getMessage("PD.TREE."+e)}function l(e){var t=[s(e)].concat(Array.prototype.slice.call(arguments,1));return o.formatNoEscape.apply(this,t)}function c(e,t,n){return n?function(e){var t=[o.getMessage(e)].concat(Array.prototype.slice.call(arguments,1));return o.formatNoEscape.apply(this,t)}(e,t):t}function O(e,t){var n=d(e,a.extend({isHeader:!0},t));return n.children=[],n.state={},t.isOpen&&(n.state={opened:!0}),t.omitIfEmpty&&(n.commands.omitIfEmpty=!0),t.showHasComponents&&(n.commands.showHasComponents=!0),n}function d(n,i){var o={type:i.type,label:i.title,classes:"",data:{},commands:{}};return i.component instanceof e.Component?(o.data={typeId:i.component.typeId,componentId:i.component.id,isPlain:i.isPlain},i.isPlain||(t.isNever(i.component)?o.classes=t.CSS.IS_NEVER:t.isConditional(i.component)&&(o.classes=t.CSS.IS_CONDITIONAL),i.component.hasChanged()&&(o.classes+=" "+t.CSS.IS_CHANGED),i.component.hasErrors()&&(o.classes+=" "+t.CSS.IS_ERROR,o.commands.openAllParents=!0),i.component.hasWarnings()&&(o.classes+=" "+t.CSS.IS_WARNING),i.component.typeId===e.COMP_TYPE.DA_ACTION&&"Y"===i.component.getProperty(e.PROP.FIRE_ON_PAGE_LOAD).getValue()&&(o.classes+=" "+r.IS_RUN_ON_INIT)),i.title||(o.label=i.component.getDisplayTitle())):(i.hasWarnings&&(o.classes+=" "+t.CSS.IS_WARNING),i.hasErrors&&(o.classes+=" "+t.CSS.IS_ERROR,o.commands.openAllParents=!0)),i.isNotImportant&&(o.classes+=" "+r.IS_NOT_IMPORTANT),E(i,"id")?o.id=i.id:i.component instanceof e.Component?(o.id=o.type+"_"+i.component.typeId+"_"+i.component.id,0!==o.type.indexOf("inline_")&&0!==o.type.indexOf("page_load_da_")||(o.id=n.id+"_"+o.id)):(o.id=i.type,i.idPostfix&&(o.id+=i.idPostfix),n&&(o.id=n.id+"_"+o.id)),i.tooltip&&(o.tooltip=i.tooltip),E(i,"icon")&&(!1===i.icon?o.icon=null:o.icon=i.icon),i.openAllParents&&(o.commands.openAllParents=!0),n&&n.children.push(o),o}function T(e,t){var n,i;if((t=a.extend({component:{},hasWarnings:!1,hasErrors:!1,isOpen:!1,isPlain:!1,openAllParents:!1,omitIfEmpty:!1,showHasComponents:!1},t)).isHeader=!0,t.isNotImportant=!0,n=O(e,t),t.filter)if("parent"===t.filter.setFilter)for(i=0;i<t.filter.properties.length;i++)e.data[t.filter.properties[i].id]=t.filter.properties[i].value;else if(t.filter.properties)for(i=0;i<t.filter.properties.length;i++)n.data[t.filter.properties[i].id]=t.filter.properties[i].value;if(t.data)for(var o in t.data)E(t.data,o)&&(n.data[o]=t.data[o]);return n}function I(t){if(t.children){for(var n=0;n<t.children.length;)I(t.children[n])?t.children.splice(n,1):(t.children[n].commands.openAllParents&&(t.state.opened||(t.state.opened=!0),t.commands.openAllParents||(t.commands.openAllParents=!0)),(t.children[n].state&&t.children[n].state.hasComponents||E(t.children[n].data,"componentId")&&!e.getComponents(t.children[n].data.typeId,{id:t.children[n].data.componentId})[0].isOnGlobalPage())&&(t.state.hasComponents||(t.state.hasComponents=!0,t.commands.showHasComponents&&(t.classes+=" "+r.IS_POPULATED))),n+=1);return 0===t.children.length&&delete t.state,t.commands.omitIfEmpty&&(t.children&&0===t.children.length||!t.children)}return delete t.state,!1}function C(n,i){var o,a,r,_,P,p,E=i.setFilter,s=[],l={};if(void 0===E&&(E="parent"),!1===i.header){if(_=n,"parent"===E)for(p=0;p<i.component.filter.properties.length;p++)n.data[i.component.filter.properties[p].id]=i.component.filter.properties[p].value}else{if(o=i.header.component instanceof e.Component?i.header.component.getDisplayTitle():i.header.title?i.header.title:e.getComponentType(i.component.typeId).title.plural,E)if(r={setFilter:E,properties:[]},Array.isArray(i.component))for(p=0;p<i.component.length;p++)r.properties=r.properties.concat(i.component[p].filter.properties);else i.component.filter.properties&&(r.properties=i.component.filter.properties);_=T(n,{title:o,type:i.header.type,id:i.header.id,idPostfix:i.header.idPostfix,isPlain:i.header.isPlain,hasWarnings:i.header.hasWarnings,hasErrors:i.header.hasErrors,isOpen:i.header.isOpen,openAllParents:i.header.openAllParents,omitIfEmpty:i.header.omitIfEmpty,component:i.header.component,filter:r})}if(Array.isArray(i.component))for(p=0;p<i.component.length;p++)s[p]={typeId:i.component[p].typeId,filter:i.component[p].filter},l[i.component[p].typeId]=i.component[p];else s[0]={typeId:i.component.typeId,filter:i.component.filter},l[i.component.typeId]=i.component;for(a=e.getComponentsAdvanced(s),p=0;p<a.length;p++)t.isDisplayed(a[p])&&(l[a[p].typeId].addSubComponents?(P=O(_,{title:a[p].getDisplayTitle(),type:l[a[p].typeId].type,component:a[p],isHeader:!1,isPlain:l[a[p].typeId].isPlain,isOpen:l[a[p].typeId].isOpen,openAllParents:!a[p].isOnGlobalPage()&&l[a[p].typeId].openAllParents,omitIfEmpty:l[a[p].typeId].omitIfEmpty}),l[a[p].typeId].addSubComponents(P,a[p])):d(_,{title:a[p].getDisplayTitle(),type:l[a[p].typeId].type,isPlain:l[a[p].typeId].isPlain,component:a[p],openAllParents:!a[p].isOnGlobalPage()&&l[a[p].typeId].openAllParents}))}function R(t,n){var i;return t===e.COMP_TYPE.BRANCH?i=e.PROP.BRANCH_POINT:t===e.COMP_TYPE.PAGE_COMPUTATION?i=e.PROP.COMPUTATION_POINT:t===e.COMP_TYPE.PAGE_PROCESS&&(i=e.PROP.PROCESS_POINT),e.getLovTitle(t,i,n)}function u(t,n,i){C(t,{header:{type:"branches",isOpen:!0,omitIfEmpty:i},component:{type:"branch",typeId:e.COMP_TYPE.BRANCH,filter:{properties:[{id:e.PROP.BRANCH_POINT,value:n.processPoint}]},openAllParents:!0}})}function A(t,n,i){var o,a,r,_="inline_",P={isOpen:!0,omitIfEmpty:i};E(n,"regionColumn")?(r=n.regionColumn.getProperty(e.PROP.COLUMN_NAME).getValue(),o=function(){var t;return this.getProperty(e.PROP.VALIDATION_REGION).getValue()===n.region.id&&((t=this.getProperty(e.PROP.REGION_VAL_COLUMN))&&t.getValue()===r||this.getProperty(e.PROP.ASSOCIATED_COLUMN).getValue()===r)}):E(n,"region")?(P.isOpen=!1,o=function(){return!(this.getProperty(e.PROP.VALIDATION_REGION).getValue()!==n.region.id||""!==this.getProperty(e.PROP.ASSOCIATED_COLUMN).getValue()||this.getProperty(e.PROP.REGION_VAL_COLUMN))}):E(n,"item")?(a=n.item.getProperty(e.PROP.ITEM_NAME).getValue(),o=function(){var t;return""===this.getProperty(e.PROP.VALIDATION_REGION).getValue()&&(t=this.getProperty(e.PROP.VAL_ITEM),this.getProperty(e.PROP.ASSOCIATED_ITEM).getValue()===n.item.id||t&&t.getValue()===a)}):(_="",P.isOpen=!0,P.openAllParents=!0),P.type=_+"validations",C(t,{header:P,setFilter:!1,component:{type:_+"validation",typeId:e.COMP_TYPE.VALIDATION,filter:{properties:[],filterFunction:o}}})}function m(t,n,i,o){var a,r=E(n,"item")?"inline_":"",_={type:r+"computations",isOpen:!0,omitIfEmpty:i};E(n,"processPoint")?a={id:e.PROP.COMPUTATION_POINT,value:n.processPoint}:E(n,"item")&&(a={id:e.PROP.COMPUTATION_ITEM_NAME,value:n.item.getProperty(e.PROP.ITEM_NAME).getValue()}),C(t,{header:_,component:{type:r+"computation",typeId:e.COMP_TYPE.PAGE_COMPUTATION,filter:{properties:[a]},openAllParents:o}})}function N(t,n,i,o){var a,r,_=E(n,"region")?"inline_":"";r="ON_DEMAND"!==n.processPoint&&{type:_+"processes",isOpen:!0,omitIfEmpty:i},E(n,"processPoint")?a={id:e.PROP.PROCESS_POINT,value:n.processPoint}:E(n,"region")&&(a={id:e.PROP.PROCESS_REGION,value:n.region.id},r.isOpen=!1),C(t,{header:r,component:{type:_+"process",typeId:e.COMP_TYPE.PAGE_PROCESS,filter:{properties:[a]},addSubComponents:function t(n,i){var o=i.getProperty(e.PROP.PAGE_PROCESS_TYPE).getValue();"NATIVE_CREATE_TASK"===o&&C(n,{header:{type:"task_params",isOpen:!0,omitIfEmpty:!0},setFilter:!1,component:{type:"task_param",typeId:e.COMP_TYPE.PAGE_PROCESS_TASK_PARAM,filter:{parentId:i.id}}}),"NATIVE_WORKFLOW"===o&&"START"===i.getProperty(e.getPluginProperty(i.typeId,o,1).id).getValue()&&C(n,{header:{type:"workflow_params",isOpen:!0,omitIfEmpty:!0},setFilter:!1,component:{type:"workflow_param",typeId:e.COMP_TYPE.PAGE_PROCESS_WF_PARAM,filter:{parentId:i.id}}}),"NATIVE_INVOKE_API"===o?(C(n,{header:{type:"api_params",isOpen:!1,omitIfEmpty:!0},setFilter:!1,component:{type:"api_param",typeId:e.COMP_TYPE.PAGE_PROC_API_PARAM,filter:{parentId:i.id}}}),C(n,{header:{type:"api_ws_params",isOpen:!1,omitIfEmpty:!0},setFilter:!1,component:{type:"api_ws_param",typeId:e.COMP_TYPE.PAGE_PROC_WS_PARAM,filter:{parentId:i.id}}})):["NATIVE_WEB_SERVICE","NATIVE_WEB_SERVICE_LEGACY"].includes(o)&&(C(n,{header:{type:"ws_params",isOpen:!0,omitIfEmpty:!0},setFilter:!1,component:{type:"ws_param",typeId:e.COMP_TYPE.PAGE_PROC_WS_P_I,filter:{parentId:i.id}}}),"ITEMS"===i.getProperty(e.getPluginProperty(e.COMP_TYPE.PAGE_PROCESS,o,2).id).getValue()&&C(n,{header:{type:"ws_params",isOpen:!0,omitIfEmpty:!0},setFilter:!1,component:{type:"ws_param",typeId:e.COMP_TYPE.PAGE_PROC_WS_P_O,filter:{parentId:i.id}}}),C(n,{header:{type:"ws_params",isOpen:!0,omitIfEmpty:!0},setFilter:!1,component:{type:"ws_param",typeId:e.COMP_TYPE.PAGE_PROC_WS_P_A,filter:{parentId:i.id}}})),"NATIVE_EXECUTION_CHAIN"===o&&C(n,{header:{type:"processes",isOpen:!0,omitIfEmpty:!0},setFilter:!1,component:{type:"process",typeId:e.COMP_TYPE.PAGE_PROCESS,filter:{properties:[{id:e.PROP.PARENT_PROCESS,value:i.id}]},addSubComponents:t}})},openAllParents:o}})}function g(t,i){function o(t,n,i,o){C(t,{header:{title:o,type:"da_actions_"+i,isOpen:!0,omitIfEmpty:!1},setFilter:"header",component:{type:"da_action",typeId:e.COMP_TYPE.DA_ACTION,filter:{parentId:n.id,properties:[{id:e.PROP.FIRE_WHEN_EVENT_RESULT_IS,value:i.toUpperCase()}]}}})}var a,r=!1,_=[],P={title:s("DYNAMIC_ACTIONS"),isOpen:!0,omitIfEmpty:!0};a="inline_",E(i,"regionColumn")?(_.push({id:e.PROP.WHEN_IG_REGION,value:i.region.id}),_.push({id:e.PROP.WHEN_COLUMNS,value:new RegExp("(^|,|\\s)"+n.escapeRegExp(i.regionColumn.getProperty(e.PROP.COLUMN_NAME).getValue())+"($|,|\\s)")})):E(i,"region")?(_.push({id:e.PROP.WHEN_TYPE,value:"REGION"}),_.push({id:e.PROP.WHEN_REGION,value:i.region.id}),P.isOpen=!1):E(i,"item")?_.push({id:e.PROP.WHEN_ITEMS,value:new RegExp("(^|,|\\s)"+n.escapeRegExp(i.item.getProperty(e.PROP.ITEM_NAME).getValue())+"($|,|\\s)")}):E(i,"button")?_.push({id:e.PROP.WHEN_BUTTON,value:i.button.id}):E(i,"event")&&(_.push({id:e.PROP.EVENT,value:i.event}),a="",r="header",""===i.event?P.title=s("UNDEFINED_EVENT"):P.title=e.getLovTitle(e.COMP_TYPE.DA_EVENT,e.PROP.EVENT,i.event),P.idPostfix="_"+i.event,P.omitIfEmpty=!1),P.type=a+"da_events",C(t,{header:P,setFilter:r,component:{type:a+"da_event",typeId:e.COMP_TYPE.DA_EVENT,filter:{properties:_},addSubComponents:function(e,t){o(e,t,"true",s("TRUE")),o(e,t,"false",s("FALSE"))}}})}function y(t,n){function i(t){let i={properties:[]};return E(n,"processPoint")?(i.properties.push({id:t,value:""}),i.properties.push({id:e.PROP.SLOT_PLACEHOLDER,value:n.processPoint.id})):E(n,"slot")?(n.region?i.properties.push({id:t,value:n.region.id}):i.properties.push({id:t,value:""}),i.properties.push({id:e.PROP.SLOT_PLACEHOLDER,value:n.slot.placeholder})):E(n,"validSlots")&&(n.region?i.properties.push({id:t,value:n.region.id}):i.properties.push({id:t,value:""}),i.filterFunction=function(){const t=this.getPropertyValue(e.PROP.SLOT_PLACEHOLDER);return!!t&&!n.validSlots.find((e=>e.placeholder===t))}),i}C(t,{header:function(){let t={isOpen:!1,omitIfEmpty:!0};return E(n,"processPoint")?(t.title=n.processPoint.name,t.type="process_point",t.id=n.processPoint.id,t.omitIfEmpty=!n.processPoint.isQuickPick):E(n,"slot")?(t.title=c("MODEL.POSTFIX.LEGACY",n.slot.name,n.slot.isLegacy),n.region?(t.type="region_slot",t.id=`region_${e.COMP_TYPE.REGION}_${n.region.id}_slot_${n.slot.placeholder}`):(t.type="page_slot",t.id=`page_${e.COMP_TYPE.PAGE}_slot_${n.slot.placeholder}`,t.omitIfEmpty=!n.slot.isQuickPick)):E(n,"validSlots")&&(t.title=s("INVALID_SLOT"),t.hasWarnings=!0,n.region?(t.type="region_slot",t.id=`region_${e.COMP_TYPE.REGION}_${n.region.id}_invalid_slot`):(t.type="page_slot",t.id=`page_${e.COMP_TYPE.PAGE}_invalid_slot`)),t}(),setFilter:"header",component:[{type:"region",typeId:e.COMP_TYPE.REGION,filter:i(e.PROP.PARENT_REGION),addSubComponents:function(t,n){var i={NATIVE_CARDS:f,NATIVE_MAP_REGION:M,NATIVE_IR:S,NATIVE_IG:v,NATIVE_SQL_REPORT:Y,NATIVE_FNC_REPORT:Y,NATIVE_TABFORM:L,NATIVE_JET_CHART:V,NATIVE_FACETED_SEARCH:D,NATIVE_SEARCH_REGION:G,NATIVE_SMART_FILTERS:b};const o=n.getProperty(e.PROP.REGION_TYPE).getValue();if(n.isOnGlobalPage()||(E(i,o)?i[o](t,n):/^(TMPL)/.test(o)?function(t,n){n.getProperty(e.PROP.SOURCE_LOCATION)?.getValue()&&C(t,{header:{title:s("REPORT_COLUMNS"),type:"region_tmpl_columns",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"region_tmpl_column",typeId:e.COMP_TYPE.REGION_TMPL_COLUMN,filter:{parentId:n.id}}}),h({headerNode:t,component:n,pluginName:n.getProperty(e.PROP.REGION_TYPE).getValue(),nodePrefix:"region",actionCompTypeId:e.COMP_TYPE.REGION_ACTION,menuEntryCompTypeId:e.COMP_TYPE.REGION_ACTION_MENU_ENTRY,parentMenuPropId:e.PROP.REGION_ACTION_PARENT_MENU})}(t,n):U(t,n)),n.getProperty(e.PROP.SOURCE_WEB_SRC_QUERY)&&C(t,{header:{type:"region_web_src_params",isOpen:!1,omitIfEmpty:!0},setFilter:!1,component:{type:"region_web_src_param",typeId:e.COMP_TYPE.REGION_WS_PARAM,filter:{parentId:n.id}}}),A(t,{region:n},!0),g(t,{region:n}),n){const i=e.getSlots({regionId:n.id});for(const e of i)y(t,{region:n,slot:e});y(t,{region:n,validSlots:i})}},isOpen:!0,openAllParents:!0,omitIfEmpty:!1},{type:"item",typeId:e.COMP_TYPE.PAGE_ITEM,filter:i(e.PROP.REGION),addSubComponents:function(e,t){A(e,{item:t},!0),g(e,{item:t}),m(e,{item:t},!0)},isOpen:!1,openAllParents:!0},{type:"button",typeId:e.COMP_TYPE.BUTTON,filter:i(e.PROP.REGION),addSubComponents:function(e,t){g(e,{button:t})},isOpen:!1,openAllParents:!0}]})}function M(t,n){var i=e.getComponents(e.COMP_TYPE.MAP_REGION,{parentId:n.id})[0];C(t,{header:{type:"map_layers",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"map_layer",typeId:e.COMP_TYPE.MAP_LAYER,filter:{parentId:i.id},addSubComponents:function(t,n){n.getProperty(e.PROP.SOURCE_WEB_SRC_QUERY)&&C(t,{header:{type:"map_layer_web_src_params",isOpen:!1,omitIfEmpty:!0},setFilter:!1,component:{type:"map_layer_web_src_param",typeId:e.COMP_TYPE.MAP_LAYER_WS_PARAM,filter:{parentId:n.id}}})}}})}function f(t,n){var i=e.getComponents(e.COMP_TYPE.CARD,{parentId:n.id})[0];C(t,{header:{type:"card_actions",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"card_action",typeId:e.COMP_TYPE.CARD_ACTION,filter:{parentId:i.id}}})}function h(t){e.hasPluginActions(t.component.typeId,t.pluginName)&&C(t.headerNode,{header:{type:t.nodePrefix+"_actions",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:t.nodePrefix+"_action",typeId:t.actionCompTypeId,filter:{parentId:t.component.id},addSubComponents:function(n,i){"MENU"===e.getActionPositionType(i)&&C(n,{header:{type:t.nodePrefix+"_action_menu_entries",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:t.nodePrefix+"_action_menu_entry",typeId:t.menuEntryCompTypeId,filter:{parentId:i.id,properties:[{id:t.parentMenuPropId,value:""}]},addSubComponents:function n(i,o){"SUB_MENU"===o.getProperty(e.PROP.MENU_ENTRY_TYPE).getValue()&&C(i,{header:{type:t.nodePrefix+"_action_menu_entries",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:t.nodePrefix+"_action_menu_entry",typeId:t.menuEntryCompTypeId,filter:{properties:[{id:t.parentMenuPropId,value:o.id}]},addSubComponents:n}})}}})}}})}function S(t,n){let i=e.getComponents(e.COMP_TYPE.IR_ATTRIBUTES,{parentId:n.id})[0];C(t,{header:{title:s("REPORT_COLUMNS"),type:"region_columns",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"ir_report_column",typeId:e.COMP_TYPE.IR_COLUMN,filter:{parentId:i.id},addSubComponents:function(t,n){let i=n.getProperty(e.PROP.IR_COLUMN_DISPLAY_TYPE).getValue();/^(TMPL)/.test(i)&&h({headerNode:t,component:n,pluginName:i,nodePrefix:"ir_column",actionCompTypeId:e.COMP_TYPE.IR_COLUMN_ACTION,menuEntryCompTypeId:e.COMP_TYPE.IR_COL_ACTION_MENU_ENTRY,parentMenuPropId:e.PROP.IR_COLUMN_ACTION_PARENT_MENU})}}}),C(t,{header:{type:"ir_column_groups",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"ir_column_group",typeId:e.COMP_TYPE.IR_COLUMN_GROUP,filter:{parentId:i.id}}}),C(t,{header:{type:"ir_saved_reports",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"ir_saved_report",typeId:e.COMP_TYPE.IR_SAVED_REPORT,filter:{parentId:i.id}}})}function v(t,n){var i=e.getComponents(e.COMP_TYPE.IG_ATTRIBUTES,{parentId:n.id})[0];C(t,{header:{title:s("REPORT_COLUMNS"),type:"ig_columns",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"ig_column",typeId:e.COMP_TYPE.IG_COLUMN,isOpen:!1,filter:{parentId:n.id},addSubComponents:function(e,t){A(e,{region:n,regionColumn:t},!0),g(e,{region:n,regionColumn:t})}}}),C(t,{header:{type:"ig_column_groups",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"ig_column_group",typeId:e.COMP_TYPE.IG_COLUMN_GROUP,filter:{parentId:n.id}}}),C(t,{header:{type:"ig_saved_reports",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"ig_saved_report",typeId:e.COMP_TYPE.IG_SAVED_REPORT,filter:{parentId:i.id}}})}function Y(t,n){C(t,{header:{title:s("REPORT_COLUMNS"),type:"region_columns",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"classic_report_column",typeId:e.COMP_TYPE.CLASSIC_RPT_COLUMN,isOpen:!1,filter:{parentId:n.id}}})}function L(t,n){C(t,{header:{title:s("REPORT_COLUMNS"),type:"region_columns",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"tabform_column",typeId:e.COMP_TYPE.TAB_FORM_COLUMN,isOpen:!1,filter:{parentId:n.id},addSubComponents:function(e,t){A(e,{region:n,regionColumn:t},!0)}}})}function D(t,n){C(t,{header:{title:s("FACETS"),type:"facets",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:[{type:"facet",typeId:e.COMP_TYPE.FACET,isOpen:!1,filter:{parentId:n.id}},{type:"facet_group",typeId:e.COMP_TYPE.FACET_GROUP,isOpen:!0,filter:{parentId:n.id},addSubComponents:function(t,n){C(t,{header:{type:"facet_group_items",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"facet_group_item",typeId:e.COMP_TYPE.FACET_GROUP_ITEM,isOpen:!1,filter:{parentId:n.id}}})}}]}),U(t,n)}function G(t,n){C(t,{header:{title:s("SEARCH_SOURCES"),type:"search_sources",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:[{type:"search_source",typeId:e.COMP_TYPE.SEARCH_REGION_SOURCE,isOpen:!1,filter:{parentId:n.id}}]}),U(t,n)}function b(t,n){C(t,{header:{title:s("SFILTERS"),type:"sfilters",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:[{type:"sfilter",typeId:e.COMP_TYPE.SFILTER,isOpen:!1,filter:{parentId:n.id}},{type:"sfilter_group",typeId:e.COMP_TYPE.SFILTER_GROUP,isOpen:!0,filter:{parentId:n.id},addSubComponents:function(t,n){C(t,{header:{type:"sfilter_group_items",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"sfilter_group_item",typeId:e.COMP_TYPE.SFILTER_GROUP_ITEM,isOpen:!1,filter:{parentId:n.id}}})}}]}),U(t,n)}function V(t,n){var i=e.getComponents(e.COMP_TYPE.JET_CHART,{parentId:n.id})[0],o=i.getProperty(e.PROP.JET_CHART_TYPE).getValue();C(t,{header:{type:"jet_chart_series",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"jet_chart_serie",typeId:e.COMP_TYPE.JET_CHART_SERIES,filter:{parentId:i.id},addSubComponents:function(t,n){n.getProperty(e.PROP.SOURCE_WEB_SRC_QUERY)&&C(t,{header:{type:"jet_chart_web_src_params",isOpen:!1,omitIfEmpty:!0},setFilter:!1,component:{type:"jet_chart_web_src_param",typeId:e.COMP_TYPE.JET_CHART_WS_PARAM,filter:{parentId:n.id}}})}}}),o in{area:1,bar:1,boxPlot:1,bubble:1,combo:1,gantt:1,line:1,lineWithArea:1,polar:1,radar:1,range:1,scatter:1,stock:1}&&C(t,{header:{type:"jet_chart_axes",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"jet_chart_axis",typeId:e.COMP_TYPE.JET_CHART_AXES,filter:{parentId:i.id}}})}function U(t,n){var i=e.getComponentType(e.COMP_TYPE.REGION_PLUGIN_ATTR).pluginType.plugins,o=n.getProperty(e.PROP.REGION_TYPE).getValue();-1!==a.inArray("COLUMNS",i[o].features)&&C(t,{header:{title:s("REPORT_COLUMNS"),type:"region_columns",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"region_column",typeId:e.COMP_TYPE.REGION_COLUMN,filter:{parentId:n.id}}})}function F(){var t,n;return(t=O(void 0,{component:(n=e.getComponents(e.COMP_TYPE.PAGE))[0],type:"page",title:l("PAGE_TITLE",n[0].id,n[0].getDisplayTitle()),isHeader:!1,isOpen:!0})).data[e.PROP.COMPUTATION_POINT]="BEFORE_BOX_BODY",t.data[e.PROP.PROCESS_POINT]="AFTER_HEADER",t.data[e.PROP.BRANCH_POINT]="BEFORE_HEADER",t.data[e.PROP.SLOT_PLACEHOLDER]="BODY",function(t){var n,i,o,a=e.getPageTemplate(),r=e.isGlobalPage();n=T(t,{title:s("PRE_RENDERING"),type:"pre_rendering",showHasComponents:!0,omitIfEmpty:!0}),r||(m(o=T(n,{title:R(e.COMP_TYPE.PAGE_PROCESS,"ON_NEW_INSTANCE"),type:"on_new_instance",isOpen:!0,omitIfEmpty:!0}),{processPoint:"ON_NEW_INSTANCE"},!0),N(o,{processPoint:"ON_NEW_INSTANCE"},!0),u(o=T(n,{title:R(e.COMP_TYPE.PAGE_PROCESS,"BEFORE_HEADER"),type:"before_header",isOpen:!0}),{processPoint:"BEFORE_HEADER"},!0),m(o,{processPoint:"BEFORE_HEADER"},!0),N(o,{processPoint:"BEFORE_HEADER"},!0)),e.hasMetaTags()&&C(n,{header:{type:"meta_tags",omitIfEmpty:!0},component:{type:"meta_tag",typeId:e.COMP_TYPE.META_TAG,filter:{properties:[]},openAllParents:!0}}),o=T(n,{title:R(e.COMP_TYPE.PAGE_PROCESS,"AFTER_HEADER"),type:"after_header",isOpen:!0,omitIfEmpty:r}),r||(m(o,{processPoint:"AFTER_HEADER"},!0),N(o,{processPoint:"AFTER_HEADER"},!0)),y(o,{processPoint:{id:"AFTER_HEADER",name:c("MODEL.POSTFIX.LEGACY",s("COMPONENTS"),!0)}}),r||(m(o=T(n,{title:R(e.COMP_TYPE.PAGE_PROCESS,"BEFORE_BOX_BODY"),type:"before_regions",isOpen:!0}),{processPoint:"BEFORE_BOX_BODY"},!0),N(o,{processPoint:"BEFORE_BOX_BODY"},!0)),o=T(t,{title:s("COMPONENTS"),type:"components",isOpen:!0});for(const e of a.slots)["AFTER_HEADER","BEFORE_FOOTER"].includes(e.placeholder)||y(o,{slot:e});y(o,{validSlots:a.slots}),i=T(t,{title:s("POST_RENDERING"),type:"post_rendering",showHasComponents:!0}),r||(m(o=T(i,{title:R(e.COMP_TYPE.PAGE_PROCESS,"AFTER_BOX_BODY"),type:"after_regions",isOpen:!0}),{processPoint:"AFTER_BOX_BODY"},!0),N(o,{processPoint:"AFTER_BOX_BODY"},!0)),o=T(i,{title:R(e.COMP_TYPE.PAGE_PROCESS,"BEFORE_FOOTER"),type:"before_footer",isOpen:!0}),r||(m(o,{processPoint:"BEFORE_FOOTER"},!0),N(o,{processPoint:"BEFORE_FOOTER"},!0)),y(o,{processPoint:{id:"BEFORE_FOOTER",name:c("MODEL.POSTFIX.LEGACY",s("COMPONENTS"),!0)}}),r||(m(o=T(i,{title:R(e.COMP_TYPE.PAGE_PROCESS,"AFTER_FOOTER"),type:"after_footer",isOpen:!0}),{processPoint:"AFTER_FOOTER"},!0),N(o,{processPoint:"AFTER_FOOTER"},!0))}(t),I(t),t}function H(){var t,n,i={id:"da",children:[],state:{},commands:{omitIfEmpty:!1}},o={ready:!0,change:!0,click:!0,apexafterclosedialog:!0};function a(t,n,i,o){var a=[{id:e.PROP.FIRE_WHEN_EVENT_RESULT_IS,value:i.toUpperCase()}];"ready"!==n.getProperty(e.PROP.EVENT).getValue()&&a.push({id:e.PROP.FIRE_ON_PAGE_LOAD,value:"Y"}),C(t,{header:{title:o,type:"page_load_da_actions_"+i,isOpen:!0,omitIfEmpty:!0},setFilter:"header",component:{type:"page_load_da_action",typeId:e.COMP_TYPE.DA_ACTION,isPlain:!0,filter:{parentId:n.id,properties:a}}})}C(i,{header:{title:s("FIRED_ON_PAGE_LOAD"),type:"page_load_da_events",isOpen:!1,omitIfEmpty:!0},setFilter:!1,component:{type:"page_load_da_event",typeId:e.COMP_TYPE.DA_EVENT,isPlain:!0,filter:{filterFunction:function(){var t=!0;return"ready"!==this.getProperty(e.PROP.EVENT).getValue()&&(t=this.getChilds(e.COMP_TYPE.DA_ACTION,{properties:[{id:e.PROP.FIRE_ON_PAGE_LOAD,value:"Y"}]},!1).length>0),t}},addSubComponents:function(e,t){a(e,t,"true",s("TRUE")),a(e,t,"false",s("FALSE"))}}}),t=T(i,{title:s("EVENTS"),type:"da_events",isOpen:!0,filter:{properties:[{id:e.PROP.EVENT,value:""}]}}),n=e.getComponents(e.COMP_TYPE.DA_EVENT,{});for(var r=0;r<n.length;r++)o[n[r].getProperty(e.PROP.EVENT).getValue()]=!0;for(var _ in o)E(o,_)&&g(t,{event:_});return I(i),i}function x(){var t={id:"rd",children:[],state:{},commands:{omitIfEmpty:!1}};return function(t){var n;e.isGlobalPage()||(N(n=T(t,{title:R(e.COMP_TYPE.PAGE_COMPUTATION,"AFTER_SUBMIT"),type:"after_submit"}),{processPoint:"ON_SUBMIT_BEFORE_COMPUTATION"},!0,!0),u(n,{processPoint:"BEFORE_COMPUTATION"},!0),m(n,{processPoint:"AFTER_SUBMIT"},!0,!0),u(n=T(t,{title:R(e.COMP_TYPE.BRANCH,"BEFORE_VALIDATION"),type:"validating"}),{processPoint:"BEFORE_VALIDATION"},!0),A(n,{},!0),u(n=T(t,{title:R(e.COMP_TYPE.PAGE_PROCESS,"AFTER_SUBMIT"),type:"processing",isOpen:!0}),{processPoint:"BEFORE_PROCESSING"},!0),N(n,{processPoint:"AFTER_SUBMIT"},!0,!0),u(n=T(t,{title:R(e.COMP_TYPE.BRANCH,"AFTER_PROCESSING"),type:"after_processing",isOpen:!0}),{processPoint:"AFTER_PROCESSING"},!0),N(n=T(t,{title:R(e.COMP_TYPE.PAGE_PROCESS,"ON_DEMAND"),id:"ajax_callbacks",type:"processes",isOpen:!0}),{processPoint:"ON_DEMAND"},!1,!0))}(t),I(t),t}function B(){function t(t,n,i){var o,r,_,P,p,s,c,O=e.getComponentType(n.typeId);c=T(t,{title:n.title||(n.titleTypeId?e.getComponentType(n.titleTypeId).title.singular:O.title.plural),type:n.type+"s",isOpen:!1,omitIfEmpty:i,data:{typeId:n.typeId}}),o=w(n.typeId),s={};for(var d=0;d<o.length;d++){r=e.getComponents(o[d].typeId,{});for(var I=0;I<r.length;I++)p=!1,o[d].typeId===e.COMP_TYPE.PAGE&&-1!==a.inArray(o[d].propertyId,[e.PROP.PAGE_TEMPLATE,e.PROP.DIALOG_TEMPLATE,e.PROP.NAVIGATION_LIST,e.PROP.TAB_SET])?!r[I].getProperty(o[d].propertyId)||o[d].propertyId!==e.PROP.PAGE_TEMPLATE&&o[d].propertyId!==e.PROP.DIALOG_TEMPLATE||(p=!0,P=e.getPageTemplate().id):(_=r[I].getProperty(o[d].propertyId))&&""!==(P=_.getValue())&&(n.typeId!==e.COMP_TYPE.BUILD_OPTION&&n.typeId!==e.COMP_TYPE.AUTHORIZATION||!/^[-!]/.test(P)||(P=P.substr(1)),p=!0),p&&""!==P&&(E(s,P)||(s[P]={}),E(s[P],o[d].typeId)||(s[P][o[d].typeId]=[]),s[P][o[d].typeId].push(r[I]))}for(var R in s)E(s,R)&&C(c,{header:!1,component:{type:n.type,typeId:n.typeId,isOpen:!1,filter:{id:R,properties:[]},addSubComponents:function(t){var n,i;for(var o in s[R])if(E(s[R],o)){n=e.getComponentType(o),i=T(t,{title:l("REFERENCED_BY",1===s[R][n.id].length?n.title.singular:n.title.plural),type:"references",isOpen:!0,omitIfEmpty:!1});for(var a=0;a<s[R][n.id].length;a++)C(i,{header:!1,component:{type:"referenced_by",typeId:n.id,isPlain:!0,filter:{id:s[R][n.id][a].id,properties:[]}}})}}}});return c}var n={id:"sd",children:[],state:{},commands:{omitIfEmpty:!1}};return function n(i,o,r){for(var _,P,p=!1,s=0;s<o.length;s++)-1!==a.inArray(o[s].type,["navigation_menu_list","navigation_bar_list","nav_list_template","tab_set"])?("navigation_menu_list"===o[s].type?(P=e.getNavListId(),p=!0):"navigation_bar_list"===o[s].type?(P=e.getNavBarListId(),p=!0):"nav_list_template"===o[s].type?P=e.getNavListTemplateId():"tab_set"===o[s].type&&(P=e.getTabSetId()),P&&C(i,{header:{title:o[s].title,type:o[s].type+"s",isOpen:p,omitIfEmpty:!0,data:{typeId:o[s].typeId}},component:{type:o[s].type,typeId:o[s].typeId,isOpen:!1,filter:{id:P,properties:[]}}})):_=E(o[s],"typeId")?t(i,o[s],r):T(i,{title:o[s].title,type:o[s].type+"s",isOpen:!0,omitIfEmpty:r}),o[s].children&&n(_,o[s].children,!0)}(n,p,!1),I(n),n}function w(t){for(var n,i,o=e.getComponentType(t),a=[],r=0;r<o.refByProperties.length;r++){n=e.getProperty(o.refByProperties[r]);for(var _=0;_<n.refByComponentTypes.length;_++)((i=e.getComponentType(n.refByComponentTypes[_])).isPageComponent||i.id===e.COMP_TYPE.PAGE)&&a.push({typeId:i.id,propertyId:n.id})}return a}function W(t){function n(e){var n;E(e,"value")?i.push({id:e.id,value:e.value}):e.typeId?(n=K(e.typeId,t._parent),i.push({id:e.id,value:n?n.id:""})):e.id&&i.push({id:e.id,value:Z(e.id,t._parent)+""})}var i=[];switch(t.type){case"region":"page_slot"===t._parent.type?(n({id:e.PROP.PARENT_REGION,value:""}),n({id:e.PROP.SLOT_PLACEHOLDER})):"region"===t._parent.type?(n({id:e.PROP.PARENT_REGION,typeId:e.COMP_TYPE.REGION}),n({id:e.PROP.SLOT_PLACEHOLDER,value:""})):(n({id:e.PROP.PARENT_REGION,typeId:e.COMP_TYPE.REGION}),n({id:e.PROP.SLOT_PLACEHOLDER}));break;case"item":case"button":"page_slot"===t._parent.type?(n({id:e.PROP.REGION,value:""}),n({id:e.PROP.SLOT_PLACEHOLDER})):"region"===t._parent.type?(n({id:e.PROP.REGION,typeId:e.COMP_TYPE.REGION}),n({id:e.PROP.SLOT_PLACEHOLDER,value:""})):(n({id:e.PROP.REGION,typeId:e.COMP_TYPE.REGION}),n({id:e.PROP.SLOT_PLACEHOLDER}));break;case"da_action":n({id:e.PROP.DA_EVENT,typeId:e.COMP_TYPE.DA_EVENT}),n({id:e.PROP.FIRE_WHEN_EVENT_RESULT_IS});break;case"computation":n({id:e.PROP.COMPUTATION_POINT});break;case"process":"processes"===t._parent.type&&"process"===t._parent._parent.type?n({id:e.PROP.PARENT_PROCESS,typeId:e.COMP_TYPE.PAGE_PROCESS}):n({id:e.PROP.PROCESS_POINT});break;case"branch":n({id:e.PROP.BRANCH_POINT});break;case"facet_group_item":n({id:e.PROP.FACET_GROUP,typeId:e.COMP_TYPE.FACET_GROUP}),n({id:e.PROP.HIDDEN_PARENT_REGION,typeId:e.COMP_TYPE.REGION});break;case"sfilter_group_item":n({id:e.PROP.SFILTER_GROUP,typeId:e.COMP_TYPE.SFILTER_GROUP}),n({id:e.PROP.HIDDEN_PARENT_REGION,typeId:e.COMP_TYPE.REGION});break;case"region_action_menu_entry":n({id:e.PROP.REGION_ACTION_PARENT_MENU,typeId:e.COMP_TYPE.REGION_ACTION_MENU_ENTRY});break;case"ir_column_action_menu_entry":n({id:e.PROP.IR_COLUMN_ACTION_PARENT_MENU,typeId:e.COMP_TYPE.IR_COL_ACTION_MENU_ENTRY})}return i}function k(e,t,n,i){var o,r,_=[],P=a(),p=n;if(n||"PDdynamicActionTree"!==t[0].id||(p="da_da_events"),i){for(r=0;r<e.length;r++)P=P.add(X(e[r],t,p));t.treeView("setSelection",P)}else{for(r=0;r<e.length;r++)(o=J(e[r],t,p))&&_.push(o);t.treeView("setSelectedNodes",_,!1,!0)}}function $(t,n,i,o){var r,P,p,l,c,O,d,T,I,C,R=Q(t),u=[];function A(e){var n;E(e,"value")?u.push({id:e.id,value:e.value}):e.typeId?(n=K(e.typeId,t),u.push({id:e.id,value:n?n.id:""})):e.id&&u.push({id:e.id,value:Z(e.id,t)+""})}if(i===e.COMP_TYPE.REGION){if("SUB_REGION"===o)A({id:e.PROP.PARENT_REGION,typeId:e.COMP_TYPE.REGION}),A({id:e.PROP.SLOT_PLACEHOLDER,value:"SUB_REGIONS"});else if("REGION_DEFAULT_SLOT"===o){const n=K(e.COMP_TYPE.REGION,t),o=e.getSlot({component:n,componentTypeId:i}).placeholder;A({id:e.PROP.PARENT_REGION,value:n.id}),A({id:e.PROP.SLOT_PLACEHOLDER,value:o})}else if("page_slot"===t.type)A({id:e.PROP.PARENT_REGION,value:""}),A({id:e.PROP.SLOT_PLACEHOLDER});else if("region_slot"===t.type)A({id:e.PROP.PARENT_REGION,typeId:e.COMP_TYPE.REGION}),A({id:e.PROP.SLOT_PLACEHOLDER});else if("region"===t.type)A({id:e.PROP.PARENT_REGION}),A({id:e.PROP.SLOT_PLACEHOLDER});else if(["item","button"].includes(t.type)){const t=R.getProperty(e.PROP.REGION).getValue();A({id:e.PROP.PARENT_REGION,value:t}),A({id:e.PROP.SLOT_PLACEHOLDER})}else A({id:e.PROP.PARENT_REGION,value:""}),A({id:e.PROP.SLOT_PLACEHOLDER});const n=u.find((t=>t.id===e.PROP.PARENT_REGION))?.value,a=e.getComponents(e.COMP_TYPE.REGION,{id:n})[0],r=u.find((t=>t.id===e.PROP.SLOT_PLACEHOLDER))?.value;if(a&&r){const t=e.getSlot({componentTypeId:i,component:a,slotPlaceholder:r});t&&Array.isArray(t.supportedRegionTypes)&&A({id:e.PROP.REGION_TYPE,value:t.supportedRegionTypes[0]})}}else if([e.COMP_TYPE.PAGE_ITEM,e.COMP_TYPE.BUTTON].includes(i)){if(r=(P=K([e.COMP_TYPE.REGION,e.COMP_TYPE.PAGE],t)).id,"page_slot"===t.type)A({id:e.PROP.REGION,value:""}),A({id:e.PROP.SLOT_PLACEHOLDER});else if("region_slot"===t.type)A({id:e.PROP.REGION,typeId:e.COMP_TYPE.REGION}),A({id:e.PROP.SLOT_PLACEHOLDER});else if("region"===t.type)if("BELOW"===o)A({id:e.PROP.REGION}),A({id:e.PROP.SLOT_PLACEHOLDER});else{A({id:e.PROP.REGION,typeId:e.COMP_TYPE.REGION});const t=e.getSlot({component:P,componentTypeId:i}).placeholder;A({id:e.PROP.SLOT_PLACEHOLDER,value:t})}else["item","button"].includes(t.type)?(A({id:e.PROP.REGION}),A({id:e.PROP.SLOT_PLACEHOLDER})):(A({id:e.PROP.REGION,value:""}),A({id:e.PROP.SLOT_PLACEHOLDER}));if(i===e.COMP_TYPE.PAGE_ITEM){const t=u.find((t=>t.id===e.PROP.REGION))?.value,n=e.getComponents(e.COMP_TYPE.REGION,{id:t})[0],o=u.find((t=>t.id===e.PROP.SLOT_PLACEHOLDER))?.value;if(n&&o){const t=e.getSlot({componentTypeId:i,component:n,slotPlaceholder:o});t&&Array.isArray(t.supportedItemTypes)&&A({id:e.PROP.ITEM_TYPE,value:t.supportedItemTypes[0]})}}}else if(i===e.COMP_TYPE.PAGE_COMPUTATION)(P=K(e.COMP_TYPE.PAGE_ITEM,t))?(A({id:e.PROP.COMPUTATION_ITEM_NAME,value:P.getProperty(e.PROP.ITEM_NAME).getValue()}),A({id:e.PROP.COMPUTATION_POINT,value:"BEFORE_BOX_BODY"})):A({id:e.PROP.COMPUTATION_POINT});else if(i===e.COMP_TYPE.PAGE_PROCESS)(P=K(e.COMP_TYPE.PAGE_PROCESS,t))&&"NATIVE_EXECUTION_CHAIN"===P.getProperty(e.PROP.PAGE_PROCESS_TYPE).getValue()?A({id:e.PROP.PARENT_PROCESS,value:P.id}):A({id:e.PROP.PROCESS_POINT});else if(i===e.COMP_TYPE.VALIDATION){if(P=K([e.COMP_TYPE.PAGE_ITEM,e.COMP_TYPE.REGION,e.COMP_TYPE.TAB_FORM_COLUMN,e.COMP_TYPE.IG_COLUMN],t))switch(P.typeId){case e.COMP_TYPE.PAGE_ITEM:A({id:e.PROP.ASSOCIATED_ITEM,value:P.id});break;case e.COMP_TYPE.REGION:A({id:e.PROP.VALIDATION_REGION,value:P.id});break;case e.COMP_TYPE.TAB_FORM_COLUMN:case e.COMP_TYPE.IG_COLUMN:l=P.getProperty(e.PROP.COLUMN_NAME).getValue(),A({id:e.PROP.VALIDATION_REGION,value:P.parentId}),A({id:e.PROP.ASSOCIATED_COLUMN,value:l}),A({id:e.PROP.REGION_VALIDATION_TYPE,value:"ITEM_NOT_NULL"}),A({id:e.PROP.REGION_VAL_COLUMN,value:l}),A({id:e.PROP.ERROR_MESSAGE,value:s("COLUMN_NOT_NULL_VALIDATION")})}}else if(i===e.COMP_TYPE.BRANCH)A({id:e.PROP.BRANCH_POINT});else if(i===e.COMP_TYPE.DA_EVENT)if(P=K([e.COMP_TYPE.PAGE_ITEM,e.COMP_TYPE.BUTTON,e.COMP_TYPE.REGION,e.COMP_TYPE.PAGE,e.COMP_TYPE.IG_COLUMN],t))switch(P.typeId){case e.COMP_TYPE.PAGE_ITEM:A({id:e.PROP.EVENT,value:"change"}),A({id:e.PROP.WHEN_TYPE,value:"ITEM"}),A({id:e.PROP.WHEN_ITEMS,value:P.getProperty(e.PROP.ITEM_NAME).getValue()});break;case e.COMP_TYPE.BUTTON:-1!==a.inArray(P.getProperty(e.PROP.BUTTON_ACTION).getValue(),["REDIRECT_PAGE","REDIRECT_APP"])?(A({id:e.PROP.EVENT,value:"apexafterclosedialog"}),p=P.getProperty(e.PROP.REGION).getValue()):A({id:e.PROP.EVENT,value:"click"}),A({id:e.PROP.WHEN_TYPE,value:"BUTTON"}),A({id:e.PROP.WHEN_BUTTON,value:P.id});break;case e.COMP_TYPE.REGION:A({id:e.PROP.EVENT,value:(()=>{let t=P.getProperty(e.PROP.REGION_TYPE).getValue();return"NATIVE_CARDS"===t?"NATIVE_CARDS|REGION TYPE|tablemodelviewpagechange":"NATIVE_IG"===t?"NATIVE_IG|REGION TYPE|interactivegridselectionchange":t.startsWith("TMPL")?(p=P.id,"apexafterclosedialog"):"apexafterrefresh"})()}),A({id:e.PROP.WHEN_TYPE,value:"REGION"}),A({id:e.PROP.WHEN_REGION,value:P.id});break;case e.COMP_TYPE.PAGE:A({id:e.PROP.EVENT,value:"ready"});break;case e.COMP_TYPE.IG_COLUMN:A({id:e.PROP.EVENT,value:"change"}),A({id:e.PROP.WHEN_TYPE,value:"COLUMN"}),A({id:e.PROP.WHEN_IG_REGION,value:P.parentId}),A({id:e.PROP.WHEN_COLUMNS,value:P.getProperty(e.PROP.COLUMN_NAME).getValue()})}else A({id:e.PROP.EVENT});else i===e.COMP_TYPE.DA_ACTION?(A({id:e.PROP.DA_EVENT,typeId:e.COMP_TYPE.DA_EVENT}),A(void 0!==o?{id:e.PROP.FIRE_WHEN_EVENT_RESULT_IS,value:o}:{id:e.PROP.FIRE_WHEN_EVENT_RESULT_IS})):i===e.COMP_TYPE.TAB_FORM_COLUMN||i===e.COMP_TYPE.CLASSIC_RPT_COLUMN?(r=(P=K(e.COMP_TYPE.REGION,t)).id,c=P.getChilds(i),A({id:e.PROP.QUERY_COLUMN_ID,value:c.length+1}),A({id:e.PROP.DERIVED_COLUMN,value:"Y"}),A({id:e.PROP.DISABLE_SORT_COLUMN,value:"Y"}),"ROW_SELECTOR"===o?(A({id:e.PROP.COLUMN_NAME,value:_}),A({id:e.PROP.TAB_FORM_COLUMN_TYPE,value:"ROW_SELECTOR"}),A({id:e.PROP.COLUMN_HEADING,value:"&nbsp;"})):"VIRTUAL"===o&&(c=P.getChilds(i,{properties:[{id:e.PROP.DERIVED_COLUMN,value:"Y"}]},(function(t,n){return t.getProperty(e.PROP.COLUMN_NAME).getValue()>n.getProperty(e.PROP.COLUMN_NAME).getValue()?1:-1})),A({id:e.PROP.COLUMN_NAME,value:"DERIVED$"+(c.length<8?"0":"")+(c.length+1)}),A({id:i===e.COMP_TYPE.TAB_FORM_COLUMN?e.PROP.TAB_FORM_COLUMN_TYPE:e.PROP.CLASSIC_REPORT_COLUMN_TYPE,value:"LINK"}),A({id:e.PROP.COLUMN_HEADING,value:"&nbsp;"}))):i===e.COMP_TYPE.IG_COLUMN?(r=(P=K(e.COMP_TYPE.REGION,t)).id,A({id:e.PROP.ITEM_TYPE,value:"NATIVE_DISPLAY_ONLY"}),A({id:e.PROP.COLUMN_SOURCE_TYPE,value:"SQL_EXPRESSION"})):i===e.COMP_TYPE.REGION_TMPL_COLUMN?(r=(P=K(e.COMP_TYPE.REGION,t)).id,A({id:e.PROP.COLUMN_SOURCE_TYPE,value:"SQL_EXPRESSION"})):i===e.COMP_TYPE.CARD_ACTION?r=K(e.COMP_TYPE.REGION,t).getChilds(e.COMP_TYPE.CARD)[0].id:i===e.COMP_TYPE.REGION_ACTION?(r=(P=K(e.COMP_TYPE.REGION,t)).id,A({id:e.PROP.HIDDEN_PLUGIN_NAME,value:P.getProperty(e.PROP.REGION_TYPE).getValue()})):i===e.COMP_TYPE.REGION_ACTION_MENU_ENTRY?(r=K(e.COMP_TYPE.REGION_ACTION,t).id,["region_action_menu_entries","region_action_menu_entry"].includes(t._parent._parent.type)&&A({id:e.PROP.REGION_ACTION_PARENT_MENU,value:K(e.COMP_TYPE.REGION_ACTION_MENU_ENTRY,t._parent).id})):i===e.COMP_TYPE.IR_COLUMN_ACTION?(r=(P=K(e.COMP_TYPE.IR_COLUMN,t)).id,A({id:e.PROP.HIDDEN_PLUGIN_NAME,value:P.getProperty(e.PROP.IR_COLUMN_DISPLAY_TYPE).getValue()})):i===e.COMP_TYPE.IR_COL_ACTION_MENU_ENTRY?(r=K(e.COMP_TYPE.IR_COLUMN_ACTION,t).id,["ir_column_action_menu_entries","ir_column_action_menu_entry"].includes(t._parent._parent.type)&&A({id:e.PROP.IR_COLUMN_ACTION_PARENT_MENU,value:K(e.COMP_TYPE.IR_COL_ACTION_MENU_ENTRY,t._parent).id})):i===e.COMP_TYPE.MAP_LAYER?r=K(e.COMP_TYPE.REGION,t).getChilds(e.COMP_TYPE.MAP_REGION)[0].id:i===e.COMP_TYPE.SEARCH_REGION_SOURCE?r=K(e.COMP_TYPE.REGION,t).id:i===e.COMP_TYPE.IR_COLUMN_GROUP?r=K(e.COMP_TYPE.REGION,t).getChilds(e.COMP_TYPE.IR_ATTRIBUTES)[0].id:i===e.COMP_TYPE.IG_COLUMN_GROUP?r=K(e.COMP_TYPE.REGION,t).id:i===e.COMP_TYPE.JET_CHART_SERIES?(r=(P=K(e.COMP_TYPE.REGION,t).getChilds(e.COMP_TYPE.JET_CHART)[0]).id,A({id:e.PROP.SERIES_CHART_TYPE,value:P.getProperty(e.PROP.JET_CHART_TYPE).getValue()})):-1!==a.inArray(i,[e.COMP_TYPE.FACET,e.COMP_TYPE.FACET_GROUP,e.COMP_TYPE.SFILTER,e.COMP_TYPE.SFILTER_GROUP])?r=(P=K(e.COMP_TYPE.REGION,t)).id:-1!==a.inArray(i,[e.COMP_TYPE.FACET_GROUP_ITEM,e.COMP_TYPE.SFILTER_GROUP_ITEM])?(r=(P=K(i===e.COMP_TYPE.FACET_GROUP_ITEM?e.COMP_TYPE.FACET_GROUP:e.COMP_TYPE.SFILTER_GROUP,t)).id,A({id:e.PROP.HIDDEN_PARENT_REGION,typeId:e.COMP_TYPE.REGION})):(i===e.COMP_TYPE.PAGE_PROC_API_PARAM||i===e.COMP_TYPE.PAGE_PROC_WS_PARAM)&&(r=(P=K(e.COMP_TYPE.PAGE_PROCESS,t)).id);R&&(O=t._parent.id),I=i===e.COMP_TYPE.TAB_FORM_COLUMN&&"ROW_SELECTOR"===o?void 0:[e.COMP_TYPE.DA_EVENT,e.COMP_TYPE.PAGE_PROCESS].includes(i)?"last":R||"last",C=e.transaction.message({action:e.MESSAGE_ACTION.CREATE,component:i}),d=e.transaction.start("",C),T=new e.Component({previousComponent:I,typeId:i,parentId:r,values:u}),i===e.COMP_TYPE.DA_EVENT&&("apexafterclosedialog"===T.getProperty(e.PROP.EVENT).getValue()?new e.Component({typeId:e.COMP_TYPE.DA_ACTION,parentId:T.id,values:[{id:e.PROP.DA_ACTION_TYPE,value:"NATIVE_REFRESH"},{id:e.PROP.AFFECTED_TYPE,value:"REGION"},{id:e.PROP.AFFECTED_REGION,value:p||""}]}):T.getProperty(e.PROP.WHEN_TYPE)&&"COLUMN"===T.getProperty(e.PROP.WHEN_TYPE).getValue()?new e.Component({typeId:e.COMP_TYPE.DA_ACTION,parentId:T.id,values:[{id:e.PROP.DA_ACTION_TYPE,value:"NATIVE_ENABLE"},{id:e.PROP.AFFECTED_TYPE,value:"COLUMN"}]}):new e.Component({typeId:e.COMP_TYPE.DA_ACTION,parentId:T.id,values:[{id:e.PROP.DA_ACTION_TYPE,value:"NATIVE_SHOW"},{id:e.PROP.AFFECTED_TYPE,value:"ITEM"}]})),apex.commandHistory.execute(d),k([T],n,O,!0)}function j(t){for(var n=t.treeView("getSelectedNodes"),i=[],o=0;o<n.length;o++)n[o].data&&E(n[o].data,"componentId")&&i.push(e.getComponents(n[o].data.typeId,{id:n[o].data.componentId})[0]);return i}function X(e,t,n){var i;return n&&(i=t.treeView("find",{depth:-1,match:function(e){return e.id===n}})),t.treeView("find",{parentNodeContent$:i,depth:-1,findAll:!0,match:function(t){return t.data.typeId===e.typeId&&t.data.componentId===e.id}})}function J(e,t,n){return t.treeView("getNodes",X(e,t,n))[0]}function Q(t,n){var i,o=[];return(i=t instanceof jQuery?n.treeView("getNodes",t)[0]:t).data&&i.data.typeId&&i.data.componentId&&(o=e.getComponents(i.data.typeId,{id:i.data.componentId})),1===o.length?o[0]:void 0}function K(e,t){var n,i=Array.isArray(e)?e:[e];return t&&(void 0===(n=Q(t))||n&&-1===a.inArray(n.typeId,i))&&(n=K(i,t._parent)),n}function Z(e,t){return t?E(t.data,e)?t.data[e]:Z(e,t._parent):""}function z(e,t,n){X(e,t).each((function(){var e=a(this);n.call(function(e,t){return t.treeView("getNodes",e)}(e,t)[0]),t.treeView("update",e)}))}function q(t){return a.inArray(t.typeId,e.NO_NODE_COMP_TYPES)>-1?q(t.getParent()):t}function ee(e,t,n){z(q(e),n,(function(){this.data&&this.data.isPlain||(this.classes+=" "+t)}))}function te(e,t,n){z(q(e),n,(function(){this.classes=a.grep(this.classes.split(" "),(function(e){return e!==t})).join(" ")}))}function ne({pTree$:t,componentsToExpand:n}){let i=[];for(const t in n)if(E(n,t)){const o=n[t]?e.getParentRegionId(n[t]):null,a=n[t]?n[t].getPropertyValue(e.PROP.SLOT_PLACEHOLDER):null;let r;r=o?`region_${e.COMP_TYPE.REGION}_${o}_slot_${a}`:`page_${e.COMP_TYPE.PAGE}_slot_${a}`,i.push(r)}t.trigger("refresh",JSON.stringify(i))}function ie(n,i){function o(e,t){let n;if(e){if(e.typeId===t)return e;n=e.getParent(),n?.typeId!==t&&(n=o(n,t))}return n}var r=n(),P=a.apex.treeView.makeDefaultNodeAdapter(r,function(){function t(t){var n=Q(t);return e.getComponents(n.typeId,{parentId:n.parentId}).length>1}function n(t){return Q(t).getProperty(e.PROP.COLUMN_NAME).getValue()!==_}function i(t){return-1===a.inArray(K(e.COMP_TYPE.REGION,t).getChilds(e.COMP_TYPE.JET_CHART)[0].getProperty(e.PROP.JET_CHART_TYPE).getValue(),["dial","stock","gantt"])}function o(t){return"NATIVE_SEARCH"!==Q(t).getProperty(e.PROP.ITEM_TYPE).getValue()}function r(t,n,i){let o;if(Array.isArray(n)){const a=n.map((e=>e.type)),r=e.getSlot({componentTypes:a,regionId:i,slotPlaceholder:t.data[e.PROP.SLOT_PLACEHOLDER]});o=a.every((e=>["region","item","button"].includes(e))),o&&r&&!r.hasRegionSupport&&(o=!n.some((e=>"region"===e.type))),o&&r&&!r.hasItemSupport&&(o=!n.some((e=>"item"===e.type))),o&&r&&!r.hasButtonSupport&&(o=!n.some((e=>"button"===e.type)))}else o=!1;return o}return{default:{operations:{canAdd:!1,canDuplicate:!1,canDelete:!1,canRename:!1,canDrag:!1,canSearch:!1,canExtCreate:!1,canExtEdit:!1,canExtCopy:!1}},page:{icon:"icon-tree-page"},validations:{operations:{canAdd:!0},validChildren:["validation"]},validation:{icon:"icon-tree-validation",operations:{canDuplicate:!0,canRename:!0,canDelete:!0,canDrag:!0,canExtCopy:!0}},inline_validations:{validChildren:["inline_validation"]},inline_validation:{icon:"icon-tree-validation",operations:{canDuplicate:!0,canRename:!0,canDelete:!0,canExtCopy:!0}},pre_rendering:{},post_rendering:{},computations:{operations:{canAdd:!0},validChildren:["computation"]},computation:{icon:"icon-tree-computation",operations:{canDuplicate:!0,canDrag:!0,canDelete:!0,canExtCopy:!0,canSearch:!0}},inline_computations:{validChildren:["inline_computation"]},inline_computation:{icon:"icon-tree-computation",operations:{canDuplicate:!0,canDelete:!0,canExtCopy:!0,canSearch:!0}},processes:{operations:{canAdd:!0},validChildren:["process"]},process:{icon:"icon-tree-process",operations:{canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0,canExtCopy:!0},validChildren:["process"]},api_params:{operations:{canAdd:!0},validChildren:["api_param"]},api_param:{operations:{canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0}},api_ws_params:{validChildren:["api_ws_param"]},api_ws_param:{},after_submit:{},processing:{},after_processing:{},validating:{},after_header:{},before_header:{},before_regions:{},after_regions:{},before_footer:{},after_footer:{},meta_tags:{operations:{canAdd:!0},validChildren:["meta_tag"]},meta_tag:{icon:"icon-tree-meta-tag",operations:{canDuplicate:!0,canRename:!0,canDelete:!0}},branches:{operations:{canAdd:!0},validChildren:["branch"]},branch:{icon:"icon-tree-branch",operations:{canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0,canExtCopy:!0}},components:{operations:{canAdd:!0},validChildren:["page_slot"]},page_slot:{operations:{canAdd:!0},validChildren:function(e,t){return r(e,t,"")}},region_slot:{operations:{canAdd:!0},validChildren:function(e,t){return r(e,t,e._parent.data.componentId)}},region:{icon:"icon-tree-region",operations:{canAdd:!0,canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0,canExtCopy:!0},validChildren:["region_slot","region","item","button","inline_da_events","svg_chart_series","jet_chart_series","jet_chart_axes","facets","search_sources","sfilters","region_columns","ir_column_groups","ir_saved_reports","ig_column_groups","ig_saved_reports","ig_columns","region_tmpl_columns","map_layers"]},item:{icon:"icon-tree-item",operations:{canAdd:!0,canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0,canExtCopy:!0,canSearch:!0},validChildren:["computations","inline_validations","inline_da_events","computation"]},button:{icon:"icon-tree-button",operations:{canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0,canExtCopy:!0}},region_columns:{operations:{canAdd:!0},validChildren:["classic_report_column","ir_report_column","tabform_column","region_column"]},classic_report_column:{icon:"icon-tree-report-column",operations:{canRename:!1,canDuplicate:!1,canDelete:t,canDrag:n,drag:{normal:"move"}}},classic_report_attributes:{},tabform_attributes:{},region_plugin_attributes:{},map_layers:{operations:{canAdd:!0},validChildren:["map_layer"]},map_layer:{icon:"icon-tree-col-group",operations:{canAdd:!1,canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:function(t){return e.getComponents(e.COMP_TYPE.MAP_LAYER,{parentId:Q(t).parentId}).length>1}}},card_actions:{operations:{canAdd:!0},validChildren:["card_action"]},card_action:{icon:"icon-tree-col-group",operations:{canAdd:!1,canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0}},region_actions:{operations:{canAdd:!0},validChildren:["region_action"]},region_action:{icon:"icon-tree-col-group",operations:{canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0},validChildren:["region_action_menu_entries"]},region_action_menu_entries:{operations:{canAdd:!0},validChildren:["region_action_menu_entry"]},region_action_menu_entry:{icon:"icon-tree-col-group",operations:{canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0}},ir_column_actions:{operations:{canAdd:!0},validChildren:["ir_column_action"]},ir_column_action:{icon:"icon-tree-col-group",operations:{canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0},validChildren:["ir_column_menu_entries"]},ir_column_action_menu_entries:{operations:{canAdd:!0},validChildren:["ir_column_action_menu_entry"]},ir_column_action_menu_entry:{icon:"icon-tree-col-group",operations:{canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0}},ir_attributes:{validChildren:["ir_column_groups","ir_saved_reports"]},ir_column_groups:{operations:{canAdd:!0},validChildren:["ir_column_group"]},ir_column_group:{icon:"icon-tree-col-group",operations:{canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0}},ir_saved_reports:{validChildren:["ir_saved_report"]},ir_saved_report:{icon:"icon-tree-saved-report"},ir_report_column:{icon:"icon-tree-report-column",operations:{canRename:!1,canDelete:t,canDrag:!0},validChildren:["ir_column_actions"]},ig_column_groups:{operations:{canAdd:!0},validChildren:["ig_column_group"]},ig_column_group:{icon:"icon-tree-col-group",operations:{canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0}},ig_saved_reports:{validChildren:["ig_saved_report"]},ig_saved_report:{icon:"icon-tree-saved-report"},ig_columns:{operations:{canAdd:!0},validChildren:["ig_column"]},ig_column:{icon:"icon-tree-report-column",operations:{canRename:!1,canDrag:!0,canDelete:t}},tabform_column:{icon:"icon-tree-item",operations:{canRename:!1,canDrag:n,canDelete:function(t){return"Y"===Q(t).getProperty(e.PROP.DERIVED_COLUMN).getValue()}}},region_column:{icon:"icon-tree-report-column",operations:{canRename:!1,canDrag:!0,canDelete:t}},region_tmpl_columns:{operations:{canAdd:!0},validChildren:["region_tmpl_column"]},region_tmpl_column:{icon:"icon-tree-report-column",operations:{canRename:!1,canDrag:!0,canDelete:t}},search_sources:{operations:{canAdd:!0},validChildren:["search_source"]},search_source:{icon:"icon-search",operations:{canAdd:!1,canDuplicate:!1,canDrag:!0,canRename:!1,canDelete:function(t){var n=Q(t);return e.getComponents(n.typeId,{parentId:n.parentId}).length>1},canSearch:!0}},facets:{operations:{canAdd:!0},validChildren:["facet","facet_group"]},facet:{icon:"icon-tree-report-column",operations:{canAdd:!1,canDuplicate:o,canDrag:!0,canRename:!1,canDelete:!0,canSearch:!0}},facet_group:{icon:"icon-item-native-checkbox",operations:{canAdd:!1,canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0,canSearch:!1},validChildren:["facet_group_items"]},facet_group_items:{operations:{canAdd:!0},validChildren:["facet_group_item"]},facet_group_item:{icon:"icon-tree-report-column",operations:{canAdd:!1,canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0,canSearch:!0}},sfilters:{operations:{canAdd:!0},validChildren:["sfilter","sfilter_group"]},sfilter:{icon:"icon-tree-report-column",operations:{canAdd:!1,canDuplicate:o,canDrag:!0,canRename:!1,canDelete:function(t){return"NATIVE_SEARCH"!==Q(t).getProperty(e.PROP.ITEM_TYPE).getValue()},canSearch:!0}},sfilter_group:{icon:"icon-item-native-checkbox",operations:{canAdd:!1,canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0,canSearch:!1},validChildren:["sfilter_group_items"]},sfilter_group_items:{operations:{canAdd:!0},validChildren:["sfilter_group_item"]},sfilter_group_item:{icon:"icon-tree-report-column",operations:{canAdd:!1,canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0,canSearch:!0}},jet_chart_series:{operations:{canAdd:i},validChildren:["jet_chart_serie"]},jet_chart_serie:{icon:"icon-tree-chart-series",operations:{canAdd:i,canDuplicate:function(t){return-1===a.inArray(Q(t).getParent().getProperty(e.PROP.JET_CHART_TYPE).getValue(),["dial","stock","gantt"])},canDelete:function(t){return e.getComponents(e.COMP_TYPE.JET_CHART_SERIES,{parentId:Q(t).parentId}).length>1},canRename:!0,canDrag:!0,drag:{normal:"move"}}},jet_chart_axes:{validChildren:["jet_chart_axis"]},jet_chart_axis:{},region_web_src_params:{validChildren:["region_web_src_param"]},jet_chart_web_src_params:{validChildren:["jet_chart_web_src_param"]},map_layer_web_src_params:{validChildren:["map_layer_web_src_param"]},da_events:{validChildren:["da_event"]},da_event:{icon:"icon-tree-da-event",operations:{canDuplicate:!0,canRename:!0,canDelete:!0,canExtCopy:!0},validChildren:["da_actions_true","da_actions_false"]},da_actions_true:{operations:{canAdd:!0},validChildren:["da_action"]},da_actions_false:{operations:{canAdd:!0},validChildren:["da_action"]},da_action:{icon:"icon-tree-da-action",operations:{canDuplicate:!0,canDrag:!0,canDelete:!0}},inline_da_events:{validChildren:["inline_da_event"]},inline_da_event:{icon:"icon-tree-da-event",operations:{canDuplicate:!0,canRename:!0,canDelete:!0,canExtCopy:!0},validChildren:["da_actions_true","da_actions_false"]},page_load_da_events:{operations:{canAdd:!0},validChildren:["page_load_da_event"]},page_load_da_event:{icon:"icon-tree-da-event",operations:{canDrag:!0,drag:{normal:"move"}}},task_params:{validChildren:["task_param"]},task_param:{},tab_sets:{},tab_set:{icon:"icon-tree-tabs",operations:{canExtEdit:!0}},lovs:{operations:{canExtCreate:!0}},lov:{icon:"icon-tree-lov",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},breadcrumbs:{operations:{canExtCreate:!0}},breadcrumb:{icon:"icon-tree-breadcrumb",operations:{canExtCreate:!0,canExtEdit:!0}},lists:{operations:{canExtCreate:!0}},list:{icon:"icon-tree-list",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},navigation_menu_lists:{operations:{canExtCreate:!0}},navigation_menu_list:{icon:"icon-tree-list",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},navigation_bar_lists:{operations:{canExtCreate:!0}},navigation_bar_list:{icon:"icon-tree-list",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},templates:{},page_templates:{operations:{canExtCreate:!0}},page_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},field_templates:{operations:{canExtCreate:!0}},field_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},button_templates:{operations:{canExtCreate:!0}},button_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},region_templates:{operations:{canExtCreate:!0}},region_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},list_templates:{operations:{canExtCreate:!0}},list_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},nav_list_templates:{operations:{canExtCreate:!0}},nav_list_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},breadcrumb_templates:{operations:{canExtCreate:!0}},breadcrumb_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},calendar_templates:{operations:{canExtCreate:!0}},calendar_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},report_templates:{operations:{canExtCreate:!0}},report_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},authorizations:{operations:{canExtCreate:!0}},authorization:{icon:"icon-tree-authorization",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},plugins:{},plugin:{icon:"icon-tree-plugin"},build_options:{operations:{canExtCreate:!0}},build_option:{icon:"icon-tree-build-option",operations:{canExtCreate:!0,canExtEdit:!0}},ai_configs:{},ai_config:{icon:"icon-tree-ai-config",operations:{canExtCreate:!0,canExtEdit:!0}},data_load_tables:{},data_load_table:{icon:"icon-tree-data-load-table",operations:{canExtEdit:!0}},data_load_definitions:{},data_load_definition:{icon:"icon-tree-data-load-table",operations:{canExtEdit:!0}},email_templates:{},email_template:{icon:"icon-tree-email",operations:{canExtEdit:!0}},web_services:{operations:{canExtCreate:!0}},web_service:{icon:"icon-tree-web-service",operations:{canExtCreate:!0}},references:{},referenced_by:{operations:{canRename:!0}},report_queries:{},report_query:{icon:"icon-tree-report-layout",operations:{canExtEdit:!0}}}}(),!0,function(e){var t=[];function n(e){return!(!i||!0!==i[e.id])||!(!e.state||!e.state.opened||i&&!1===i[e.id])}return n(e)&&t.push(e.id),function e(i){for(var o=0;o<i.length;o++)n(i[o])&&t.push(i[o].id),i[o].children&&e(i[o].children)}(e.children),t}(r));return P.getCollapsedNodes=function({expandedState:e}){const t=this._state.PDrenderingTree_?.nodeMap,n=new Set,i=new Set;!function e(t){if(t)if((t.children?.length||0)>0)for(const n of t.children)e(n);else n.add(t.id)}(this.data);for(const o in t)e[o]&&!1!==e[o]||n.has(o)||i.add(o);return i},P.sortCompare=null,P.defaultGetIcon=P.getIcon,P.getIcon=function(n){const i=Q(n);if(n.data&&i){if(n.data.typeId===e.COMP_TYPE.REGION){const n=i.getProperty(e.PROP.REGION_TYPE).getValue(),o=e.getTemplateComponentType(i);return t.getComponentIconClass("region",n,o)}if(n.data.typeId===e.COMP_TYPE.PAGE_ITEM)return t.getComponentIconClass("item",i.getProperty(e.PROP.ITEM_TYPE).getValue());if(-1!==a.inArray(n.data.typeId,[e.COMP_TYPE.FACET,e.COMP_TYPE.FACET_GROUP_ITEM,e.COMP_TYPE.SFILTER,e.COMP_TYPE.SFILTER_GROUP_ITEM]))return t.getComponentIconClass("item",i.getProperty(e.PROP.ITEM_TYPE).getValue());if(n.data.typeId===e.COMP_TYPE.BUTTON)return t.getComponentIconClass("button","Y"===i.getProperty(e.PROP.BUTTON_IS_HOT).getValue()?"hot":"normal");if(n.data.typeId===e.COMP_TYPE.DA_ACTION)return t.getComponentIconClass("dynamic-action",i.getProperty(e.PROP.DA_ACTION_TYPE).getValue());if(n.data.typeId===e.COMP_TYPE.CARD_ACTION)return t.getComponentIconClass("card-action",i.getProperty(e.PROP.CARD_ACTION_TYPE).getValue());if([e.COMP_TYPE.REGION_ACTION,e.COMP_TYPE.IR_COLUMN_ACTION].includes(n.data.typeId)){const n=e.getActionPositionType(i);return t.getComponentIconClass("component-action","template"===n?"button":n)}if([e.COMP_TYPE.REGION_ACTION_MENU_ENTRY,e.COMP_TYPE.IR_COL_ACTION_MENU_ENTRY].includes(n.data.typeId))return t.getComponentIconClass("menu",i.getProperty(e.PROP.MENU_ENTRY_TYPE).getValue());if(n.data.typeId===e.COMP_TYPE.CLASSIC_RPT_COLUMN)return t.getComponentIconClass("col",i.getProperty(e.PROP.CLASSIC_REPORT_COLUMN_TYPE).getValue());if(n.data.typeId===e.COMP_TYPE.IR_COLUMN)return t.getComponentIconClass("col",i.getProperty(e.PROP.IR_COLUMN_DISPLAY_TYPE).getValue());if(n.data.typeId===e.COMP_TYPE.IG_COLUMN){if("Y"===i.getParent().getChilds(e.COMP_TYPE.IG_ATTRIBUTES,{})[0].getProperty(e.PROP.IS_EDITABLE).getValue())return t.getComponentIconClass("item",i.getProperty(e.PROP.ITEM_TYPE).getValue())}else{if(n.data.typeId===e.COMP_TYPE.JET_CHART_AXES)return"icon-"+i.getProperty(e.PROP.NAME).getValue().toLowerCase()+"-axis";if(n.data.typeId===e.COMP_TYPE.PAGE_PROCESS&&"NATIVE_EXECUTION_CHAIN"===i.getProperty(e.PROP.PAGE_PROCESS_TYPE).getValue())return"icon-tree-process-chain"}}return this.defaultGetIcon(n)},P.extraCheck=function(t,n,i,r,_){var P,p;if(t){if(-1!==a.inArray(n,["canDelete","canRename","canDrag","canDuplicate"]))return(P=Q(i))&&!P.isReadOnly()&&!e.isPageReadOnly();if("canAdd"===n&&e.isPageReadOnly())return!1;if("canAdd"===n&&"move"===r&&["region_columns","region_tmpl_columns","ig_columns","ir_column_groups","ig_column_groups","facets","search_sources","sfilters","jet_chart_series","map_layers","jet_chart_axes","api_params","api_ws_params","processes","region_actions","ir_column_actions"].includes(i.type)&&_){for(p=0;p<_.length;p++)if(_[p]._parent&&_[p]._parent!==i)return!1}else if("canAdd"!==n||"move"!==r||"facet_group_items"!==i.type&&"sfilter_group_items"!==i.type||!_)if("canAdd"!==n||"move"!==r||"region_action_menu_entries"!==i.type&&"ir_column_action_menu_entries"!==i.type||!_){if("canAdd"===n&&"move"===r&&"region_slot"===i.type&&_){const t=Q(i._parent),n=e.getSlot({component:t,slotPlaceholder:i.data[e.PROP.SLOT_PLACEHOLDER]}),o=n.supportedRegionTypes,a=n.supportedItemTypes;for(const t of _){const n=Q(t);if(n.typeId===e.COMP_TYPE.REGION&&o)return o.includes(n.getPropertyValue(e.PROP.REGION_TYPE));if(n.typeId===e.COMP_TYPE.PAGE_ITEM&&a)return a.includes(n.getPropertyValue(e.PROP.ITEM_TYPE))}}}else{let t="region_action_menu_entries"===i.type?e.COMP_TYPE.REGION_ACTION:e.COMP_TYPE.IR_COLUMN_ACTION,n=o(Q(i._parent),t);for(p=0;p<_.length;p++)if(n?.id!==Q(_[p])?.parentId)return!1}else for(p=0;p<_.length;p++)if(_[p]._parent&&_[p]._parent._parent._parent!==i._parent._parent)return!1}return t},P.renderNodeContent=function(e,n,i,o){var a,r,_;i.nodeSelector>0&&n.markup('<span class="u-selector"></span>'),null!==(a=this.getIcon(e))&&n.markup("<span").attr("class","a-Icon "+a).attr("aria-hidden","true").markup("></span>"),(r=this.getClasses(e))&&(r.indexOf(t.CSS.IS_ERROR)>=0?_="icon-error":r.indexOf(t.CSS.IS_WARNING)>=0&&(_="icon-warning")),n.markup("<span role='treeitem' class='a-TreeView-label' tabIndex='-1'").attr("aria-level",o.level).optionalAttr("aria-selected",o.selected?"true":"false").optionalAttr("aria-disabled",o.disabled?"true":null).optionalAttr("aria-expanded",!1===o.hasChildren?null:o.expanded?"true":"false").optionalAttr("aria-owns",o.owns).markup(">"),_&&n.markup("<span class='a-Icon ").attr(_).markup("'></span>"),n.content(this.getLabel(e)).markup("</span>")},function(){return P}}function oe(n,o,r){var _=n[0].id+"Menu";n.treeView({getNodeAdapter:ie(o),showRoot:r,collapsibleRoot:!1,expandRoot:!1,contextMenu:re(n),contextMenuId:_,multiple:!0,doubleClick:"toggle",clickToRename:!1,keyboardRename:!1,keyboardAdd:!1,keyboardDelete:!0,tooltip:{show:apex.tooltipManager.defaultShowOption(),content:function(e,n){var i=Q(n);if(i)return t.tooltipContentForComponent(i)}},dragAndDrop:!0,dragMultiple:!0,dragReorder:!0,delay:10,distance:5,dragAppendTo:document.body,dragCursor:"move",dragOpacity:.6,dragCursorAt:{left:10,bottom:10},dragAnimate:!1,dragContainment:"document",selectionChange:function(){var e,t=this.id;e=j(a(this)),i.trace("%s: trigger event selectionChanged",t,e),a(document).trigger("selectionChanged",[t,e])},added:function(){},moved:function(t,i){!function(t,n){var i,o,a,r=[];const _=Q(t.items[0].toNode);if(t.items.length>0){o=e.transaction.message({action:e.MESSAGE_ACTION.MOVE,component:_,count:t.items.length}),a=e.transaction.start("",o);for(var P=0;P<t.items.length;P++)r[P]=Q(t.items[P].toNode),0===t.items[P].toIndex?i=null:(i=Q(t.parentNode.children[t.items[P].toIndex-1]))||(i="last"),r[P].move({previousComponent:i,values:W(t.items[P].toNode)});apex.commandHistory.execute(a),ne({pTree$:n,componentsToExpand:[_]})}}(i,n)},copied:function(t,i){!function(t,n){var i,o,a,r,_=[];if(t.items.length>0){a=e.transaction.message({action:e.MESSAGE_ACTION.DUPLICATE,component:Q(t.items[0].toNode),count:t.items.length}),r=e.transaction.start("",a);for(var P=0;P<t.items.length;P++)i=Q(t.items[P].toNode),0===t.items[P].toIndex?o=null:(o=Q(t.parentNode.children[t.items[P].toIndex-1]))||(o="last"),_[P]=i.duplicate(),_[P].move({previousComponent:o,values:W(t.items[P].toNode)});apex.commandHistory.execute(r),k(_,n,t.items[0].toNode._parent.id,!0)}}(i,n)},deleted:function(t,i){!function(t,n){let i,o,a,r;const _=["region_slot","page_slot","branches","processes","validations","computations"];if(t.items.length>0){r=n.treeView("getSelectedNodes");for(let e=0;e<r.length;e++)_.includes(r[e].type)&&r[e].children.length<1&&(r[e]=r[e]._parent);o=e.transaction.message({action:e.MESSAGE_ACTION.DELETE,component:Q(t.items[0].node),count:t.items.length}),a=e.transaction.start("",o);for(let e=0;e<t.items.length;e++)i=Q(t.items[e].node),i&&i.remove()}apex.commandHistory.execute(a),n.treeView("setSelectedNodes",r,!0,!0)}(i,n)}}),a("#"+_).on("menubeforeopen",(function(){0===n.treeView("getSelection").length&&n.treeView("setSelection",a("[aria-level='1']",n).first().parent())})),n.on("refresh",(function(e,t){let a=n.treeView("getExpandedState"),r=n.treeView("getNodeAdapter").getCollapsedNodes({expandedState:a});for(const e of r)a[e]=!1;if(t)try{const e=JSON.parse(t);for(const t in e)E(e,t)&&(a[e[t]]=!0)}catch(e){}i.trace("%s: refresh tree",n[0].id),n.treeView("option","getNodeAdapter",ie(o,a))})),function(n){var o,r=n[0].id,_=null,P=[];if("PDrenderingTree"===r?(_=null,o=null):"PDdynamicActionTree"===r?_=[{typeId:e.COMP_TYPE.DA_EVENT},{typeId:e.COMP_TYPE.DA_ACTION}]:"PDprocessingTree"===r?_=[{typeId:e.COMP_TYPE.BRANCH},{typeId:e.COMP_TYPE.PAGE_COMPUTATION},{typeId:e.COMP_TYPE.PAGE_PROCESS},{typeId:e.COMP_TYPE.VALIDATION},{typeId:e.COMP_TYPE.PAGE_PROC_WS_P_I},{typeId:e.COMP_TYPE.PAGE_PROC_WS_P_O},{typeId:e.COMP_TYPE.PAGE_PROC_WS_P_A},{typeId:e.COMP_TYPE.PAGE_PROC_API_PARAM},{typeId:e.COMP_TYPE.PAGE_PROC_WS_PARAM},{typeId:e.COMP_TYPE.PAGE_PROCESS_TASK_PARAM},{typeId:e.COMP_TYPE.PAGE_PROCESS_WF_PARAM}]:"PDsharedCompTree"===r&&(_=[],o={},function e(t){for(var n,i=0;i<t.length;i++){if(E(t[i],"typeId")){o[t[i].typeId]=!0,n=w(t[i].typeId);for(var a=0;a<n.length;a++)_.push({typeId:n[a].typeId}),P.push(n[a].propertyId)}t[i].children&&e(t[i].children)}}(p)),void 0===o){o={};for(var s=0;s<_.length;s++)o[_[s].typeId]=!0}e.observer(r,{components:_,events:[e.EVENT.DISPLAY_TITLE]},(function(e){i.trace("%s: DISPLAY_TITLE component notification received",r,e),z(e.component,n,(function(){this.label=e.component.getDisplayTitle()}))})),e.observer(r,{components:_,events:[e.EVENT.CREATE,e.EVENT.DELETE]},(function(e){i.trace("%s: CREATE/DELETE component notification received",r,e),ne({pTree$:n})}),!0),"PDsharedCompTree"===r?e.observer(r,{components:_,events:[e.EVENT.CHANGE,e.EVENT.ADD_PROP,e.EVENT.REMOVE_PROP],properties:P},(function(e){i.trace("%s: CHANGE/ADD_PROP/REMOVE_PROP component notification received for shared component reference properties",r,e),ne({pTree$:n})}),!0):(e.observer(r,{components:_,events:[e.EVENT.CHANGE,e.EVENT.ADD_PROP,e.EVENT.REMOVE_PROP],properties:[e.PROP.PAGE_TEMPLATE,e.PROP.DIALOG_TEMPLATE,e.PROP.REGION_TEMPLATE,e.PROP.PAGE_AUTHENTICATION,e.PROP.ENABLE_META_TAGS,e.PROP.EXECUTION_SEQUENCE,e.PROP.DISPLAY_SEQUENCE,e.PROP.BRANCH_POINT,e.PROP.PROCESS_POINT,e.PROP.PARENT_PROCESS,e.PROP.COMPUTATION_POINT,e.PROP.REGION,e.PROP.PARENT_REGION,e.PROP.SLOT_PLACEHOLDER,e.PROP.VALIDATION_REGION,e.PROP.VAL_ITEM,e.PROP.REGION_VAL_COLUMN,e.PROP.REGION_TYPE,e.PROP.ASSOCIATED_ITEM,e.PROP.ASSOCIATED_COLUMN,e.PROP.COMPUTATION_ITEM_NAME,e.PROP.EVENT,e.PROP.DA_EVENT,e.PROP.DA_ACTION_TYPE,e.PROP.FIRE_WHEN_EVENT_RESULT_IS,e.PROP.FIRE_ON_PAGE_LOAD,e.PROP.FACET_GROUP,e.PROP.SFILTER_GROUP,e.PROP.HIDDEN_TEMPLATE_ID,e.PROP.REGION_ACTION_PARENT_MENU,e.PROP.IR_COLUMN_DISPLAY_TYPE,e.PROP.IR_COLUMN_ACTION_PARENT_MENU,e.PROP.MENU_ENTRY_TYPE,e.PROP.WHEN_REGION,e.PROP.WHEN_IG_REGION,e.PROP.WHEN_ITEMS,e.PROP.WHEN_COLUMNS,e.PROP.WHEN_BUTTON,e.PROP.SOURCE_LOCATION,e.PROP.TEMPLATE_COMPONENT_TYPE]},(function(e){i.trace("%s: CHANGE/ADD_PROP/REMOVE_PROP component notification received for display relevant properties",r,e);let t=[];for(const n in e)E(e,n)&&t.push(e[n].component);ne({pTree$:n,componentsToExpand:t})}),!0),e.observer(r,{components:_,events:[e.EVENT.CHANGE]},(function(e){e.component.hasChanged()?ee(e.component,t.CSS.IS_CHANGED,n):te(e.component,t.CSS.IS_CHANGED,n)})),e.observer(r,{components:_,events:[e.EVENT.ERRORS,e.EVENT.NO_ERRORS]},(function(e){e.component.hasErrors()?ee(e.component,t.CSS.IS_ERROR,n):te(e.component,t.CSS.IS_ERROR,n)})),e.observer(r,{components:_,events:[e.EVENT.WARNINGS,e.EVENT.NO_WARNINGS]},(function(e){e.component.hasWarnings()?ee(e.component,t.CSS.IS_WARNING,n):te(e.component,t.CSS.IS_WARNING,n)})),t.observerIsConditional(r,_,(function(e){te(e.component,t.CSS.IS_CONDITIONAL,n),te(e.component,t.CSS.IS_NEVER,n),t.isNever(e.component)?ee(e.component,t.CSS.IS_NEVER,n):t.isConditional(e.component)&&ee(e.component,t.CSS.IS_CONDITIONAL,n)}))),a(document).on("selectionChanged."+r,(function(e,t,a){t!==r&&(i.trace("%s: selectionChanged event received from %s",r,t,a),(0===a.length||null===o||E(o,a[0].typeId))&&k(a,n,null,!1))}))}(n)}function ae(t){var n=t[0].id;e.unobserver(n,{}),a(document).off("selectionChanged."+n),t.off("refresh"),t.treeView("destroy")}function re(n){let i=[],r=0;function p(e){return e.call(n.treeView("getSelectedNodes"))}function c(t,n){return 1===t.length&&-1!==a.inArray(t[0].type,n)&&!e.isPageReadOnly()}function O(t,n){return!e.isGlobalPage()&&c(t,n)}function d(t,n){var i=K(e.COMP_TYPE.REGION,t);return-1!==a.inArray(i.getProperty(e.PROP.REGION_TYPE).getValue(),n)}function T(t,n){var i;return-1!==a.inArray(t.type,["region","ig_column"])&&"NATIVE_IG"===(i=K(e.COMP_TYPE.REGION,t)).getProperty(e.PROP.REGION_TYPE).getValue()?"Y"===i.getChilds(e.COMP_TYPE.IG_ATTRIBUTES)[0].getProperty(e.PROP.IS_EDITABLE).getValue():n}function I(t,n){apex.navigation.redirect(t.replace(/\\u002525/g,"%").replace(/%2525/g,"%").replace(/%25/g,"%").replace(/%session%/g,apex.env.APP_SESSION).replace(/%pk_value%/g,n).replace(/%application_id%/g,e.getCurrentAppId()).replace(/%page_id%/g,e.getCurrentPageId()))}function C(t,n){var i=Q(t,n);I(e.getComponentType(i.typeId).copyUrl,i.id)}function R(t,n){var i,o,r=Q(t,n),_=r.getProperty(e.PROP.BRANCH_TYPE).getValue(),P=null;return"REDIRECT_URL"===_?(i=r.getProperty(e.PROP.TARGET).getValue(),/f\?p=([^:]*):([^:]*)/i.test(i)&&("&FLOW_ID."!==(o=RegExp.$1)&&"&APP_ID."!==o&&o!==e.getCurrentAppId()||(P=RegExp.$2))):-1!==a.inArray(_,["BRANCH_TO_STEP","BRANCH_TO_PAGE_ACCEPT"])&&(P=r.getProperty(e.PROP.BRANCH_PAGE_NUMBER).getValue()),P}function u(t,i="INSIDE",o){let a;if("region"===t.type&&"INSIDE"===i){const i=Q(t,n);a=e.getSlot({componentTypeId:o,component:i})}else if(["region","item","button"].includes(t.type)){const i=Q(t,n),r=e.getParentRegionId(i),_=i.getPropertyValue(e.PROP.SLOT_PLACEHOLDER);a=e.getSlot({componentTypeId:o,regionId:r,slotPlaceholder:_})}else if("page_slot"===t.type){const n=t.data[e.PROP.SLOT_PLACEHOLDER];a=e.getSlot({componentTypeId:o,slotPlaceholder:n})}else if("region_slot"===t.type){const i=Q(t._parent,n),r=t.data[e.PROP.SLOT_PLACEHOLDER];a=e.getSlot({componentTypeId:o,component:i,slotPlaceholder:r})}else"components"===t.type&&(a=e.getSlot({componentTypeId:o,slotPlaceholder:"BODY"}));return!!a}function A(t){let o,a,_={label:t.label,accelerator:t.accelerator,type:t.type};var P;r+=1,_.id=n[0].id+"_ctx_"+r,_.type||(_.type="action",o=t.action),t.typeId&&(t.label||(_.label=(P=t.typeId,l("CREATE",e.getComponentType(P).title.singular))),o||(o=function(){$(this[0],n,t.typeId)})),_.action=function(){return p(o)},t.visible&&(a="function"==typeof t.visible?t.visible:Array.isArray(t.visible)?function(){return c(this,t.visible)}:!1===t.visible.global?function(){return O(this,t.visible.types)}:function(){return c(this,t.visible.types)},_.hide=function(){return!p(a)}),t.disabled&&(_.disabled=function(){return p(t.disabled)}),i.push(_)}function m(i){if(!this.every((e=>E(e.data,"componentId"))))return!1;let o=this.map((e=>Q(e,n)));return!!o.every((t=>!t.isOnGlobalPage()&&!t.isReadOnly()&&t.getProperty(e.PROP.BUILD_OPTION)))&&(i?o.some((n=>n.getProperty(e.PROP.BUILD_OPTION).getValue()!==t.COMMENTED_OUT_ID)):o.some((n=>n.getProperty(e.PROP.BUILD_OPTION).getValue()===t.COMMENTED_OUT_ID)))}function N(n=[],i=""){if(!n.length)return;let o=e.transaction.message({action:e.MESSAGE_ACTION.CHANGE,count:n.length,component:n[0],property:n[0].getProperty(e.PROP.BUILD_OPTION)}),a=e.transaction.start("",o);n.forEach((n=>{let o=n.getProperty(e.PROP.BUILD_OPTION);o&&(i||o.getValue()===t.COMMENTED_OUT_ID)&&o.setValue(i)})),apex.commandHistory.execute(a)}function g(t,n){A({label:t,action:function(){var t,n,i,o;t=K(e.COMP_TYPE.REGION,this[0]),n=e.getSourceLocationProperty(t),i=e.transaction.message({action:e.MESSAGE_ACTION.CHANGE,component:t,property:n}),o=e.transaction.start("",i),n.setValue(n.getValue(),!0),apex.commandHistory.execute(o)},visible:function(){var t,i;return!(e.isPageReadOnly()||!O(this,["region","ig_columns","region_columns","region_tmpl_columns"]))&&(i=(t=K(e.COMP_TYPE.REGION,this[0])).getProperty(e.PROP.REGION_TYPE).getValue(),e.getSourceLocationProperty(t)&&(!n&&"NATIVE_FORM"!==i||i===n))}})}function y(t,n,i){const o=t.getPropertyValue(e.PROP.SOURCE_FILTERED_REGION),a=e.getRegionColumns(o),r="NATIVE_INPUT",_=e.getPluginProperty(i,r,"user_can_choose_operator").id;let P,p;P=e.transaction.message({action:e.MESSAGE_ACTION.CREATE,count:2}),p=e.transaction.start("",P),a.forEach((o=>{n.some((t=>o.name===t.getProperty(e.PROP.SOURCE_DB_COLUMN)?.getValue()))||new e.Component({previousComponent:"last",typeId:i,parentId:t.id,values:[{id:e.PROP.ITEM_NAME,value:`P${e.getCurrentPageId()}_${o.name}`},{id:e.PROP.ITEM_TYPE,value:r},{id:e.PROP.ITEM_LABEL,value:o.label||o.name},{id:e.PROP.SOURCE_DB_COLUMN,value:o.name},{id:e.PROP.DATA_TYPE,value:o.dataType||"VARCHAR2"},{id:_,value:"Y"}]})})),apex.commandHistory.execute(p)}return A({label:s("DUPLICATE"),action:function(){!function(t,n){var i,o,a=[];if(t.length>0){i=e.transaction.message({action:e.MESSAGE_ACTION.DUPLICATE,component:Q(t[0]),count:t.length}),o=e.transaction.start("",i);for(var r=0;r<t.length;r++)a.push(Q(t[r]).duplicate());apex.commandHistory.execute(o),k(a,n,t[0]._parent.id,!0)}}(this,n)},visible:function(){for(var e=0;e<this.length;e++)if(!n.treeView("getNodeAdapter").check("canDuplicate",this[e]))return!1;return!0}}),A({type:"separator",visible:function(){for(var e=0;e<this.length;e++)if(!n.treeView("getNodeAdapter").check("canDuplicate",this[e]))return!1;return!0}}),A({label:l("CREATE",s("SUB_REGION")),action:function(){$(this[0],n,e.COMP_TYPE.REGION,"SUB_REGION")},visible:function(){const t=Q(this[0],n);if(t&&t.typeId===e.COMP_TYPE.REGION&&!t.isOnGlobalPage()){const n=e.getSlot({componentTypeId:e.COMP_TYPE.REGION,component:t,slotPlaceholder:"SUB_REGIONS"});return c(this,["region"])&&n}return!1}}),A({typeId:e.COMP_TYPE.REGION,action:function(){$(this[0],n,e.COMP_TYPE.REGION,"REGION_DEFAULT_SLOT")},visible:function(){const t=Q(this[0],n);if(t&&t.typeId===e.COMP_TYPE.REGION&&!t.isOnGlobalPage()){const n=e.getSlot({componentTypeId:e.COMP_TYPE.REGION,component:t,slotPlaceholder:"SUB_REGIONS"});return c(this,["region"])&&u(this[0],"INSIDE",e.COMP_TYPE.REGION)&&!n}return!1}}),A({typeId:e.COMP_TYPE.REGION,visible:function(){return!!c(this,["components","page_slot","region_slot"])&&u(this[0],"INSIDE",e.COMP_TYPE.REGION)}}),A({typeId:e.COMP_TYPE.PAGE_ITEM,visible:function(){return!!c(this,["components","page_slot","region_slot","region"])&&u(this[0],"INSIDE",e.COMP_TYPE.PAGE_ITEM)}}),A({typeId:e.COMP_TYPE.BUTTON,visible:function(){return!!c(this,["components","page_slot","region_slot","region"])&&u(this[0],"INSIDE",e.COMP_TYPE.BUTTON)}}),A({typeId:e.COMP_TYPE.DA_EVENT,visible:function(){return!!c(this,["da_events","da_event","inline_da_events","inline_da_event","region","item","ig_column","button"])&&("ig_column"!==this[0].type||T(this[0],!1))}}),A({typeId:e.COMP_TYPE.PAGE_COMPUTATION,visible:{global:!1,types:["computations","computation","inline_computations","inline_computation","on_new_instance","before_header","after_header","before_regions","after_regions","before_footer","after_footer","after_submit","item"]}}),A({typeId:e.COMP_TYPE.PAGE_PROCESS,visible:{global:!1,types:["processes","on_new_instance","before_header","after_header","before_regions","after_regions","before_footer","after_footer","after_submit","processing"]}}),A({typeId:e.COMP_TYPE.PAGE_PROCESS,label:s("ADD_CHILD_PROCESS"),visible:function(){return!(e.isPageReadOnly()||!O(this,["process"]))&&"NATIVE_EXECUTION_CHAIN"===K(e.COMP_TYPE.PAGE_PROCESS,this[0]).getProperty(e.PROP.PAGE_PROCESS_TYPE).getValue()}}),A({typeId:e.COMP_TYPE.VALIDATION,visible:function(){return!!O(this,["validation","validations","validating","inline_validations","inline_validation","item"])||O(this,["region","tabform_column","ig_column"])&&(d(this[0],["NATIVE_TABFORM"])||T(this[0],!1))}}),A({typeId:e.COMP_TYPE.BRANCH,visible:{global:!1,types:["branches","branch","before_header","after_submit","validating","processing","after_processing"]}}),A({typeId:e.COMP_TYPE.META_TAG,visible:{global:!1,types:["header","meta_tags","meta_tag"]}}),A({typeId:e.COMP_TYPE.DA_ACTION,visible:["da_action"]}),A({label:l("CREATE",s("TRUE_ACTION")),typeId:e.COMP_TYPE.DA_ACTION,action:function(){$(this[0],n,e.COMP_TYPE.DA_ACTION,"TRUE")},visible:["da_actions_true","da_event","inline_da_event"]}),A({label:l("CREATE",s("FALSE_ACTION")),typeId:e.COMP_TYPE.DA_ACTION,action:function(){$(this[0],n,e.COMP_TYPE.DA_ACTION,"FALSE")},visible:["da_actions_false","da_event","inline_da_event"]}),A({label:l("CREATE",s("OPPOSITE_DYNAMIC_ACTION")),typeId:e.COMP_TYPE.DA_ACTION,action:function(){!function(t,n){var i,o,a,r,_,p,s,l={NATIVE_SHOW:"NATIVE_HIDE",NATIVE_HIDE:"NATIVE_SHOW",NATIVE_ENABLE:"NATIVE_DISABLE",NATIVE_DISABLE:"NATIVE_ENABLE",NATIVE_ADD_CLASS:"NATIVE_REMOVE_CLASS",NATIVE_REMOVE_CLASS:"NATIVE_ADD_CLASS"},c=[],O=[];p=e.transaction.message({action:e.MESSAGE_ACTION.CREATE,component:Q(t[0]),count:t.length}),s=e.transaction.start("",p);for(var d=0;d<t.length;d++){if(o=(i=Q(t[d])).getProperty(e.PROP.DA_ACTION_TYPE).getValue(),E(l,o)){for(c.push({id:e.PROP.DA_ACTION_TYPE,value:l[o]}),a=1,r=e.getPluginProperty(e.COMP_TYPE.DA_ACTION,o,a);r&&i.getProperty(r.id)&&a<=P;)c.push({id:e.getPluginProperty(e.COMP_TYPE.DA_ACTION,l[o],a).id,value:i.getProperty(r.id).getValue()}),a+=1,r=e.getPluginProperty(e.COMP_TYPE.DA_ACTION,o,a);c.push({id:e.PROP.FIRE_ON_PAGE_LOAD,value:i.getProperty(e.PROP.FIRE_ON_PAGE_LOAD).getValue()})}_="TRUE"===i.getProperty(e.PROP.FIRE_WHEN_EVENT_RESULT_IS).getValue()?"FALSE":"TRUE",c.push({id:e.PROP.FIRE_WHEN_EVENT_RESULT_IS,value:_}),O.push(i.duplicate(c)),O[O.length-1].move({previousComponent:"last"})}apex.commandHistory.execute(s),k(O,n,t[0]._parent._parent.id,!0)}(this,n)},visible:function(){for(var e=0;e<this.length;e++)if("da_action"!==this[e].type||!n.treeView("getNodeAdapter").check("canDuplicate",this[e]))return!1;return!0}}),A({label:l("CREATE",s("VIRTUAL_COLUMN")),action:function(){d(this[0],["NATIVE_TABFORM"])?$(this[0],n,e.COMP_TYPE.TAB_FORM_COLUMN,"VIRTUAL"):$(this[0],n,e.COMP_TYPE.CLASSIC_RPT_COLUMN,"VIRTUAL")},visible:function(){return c(this,["region_columns","classic_report_column","tabform_column"])&&d(this[0],["NATIVE_SQL_REPORT","NATIVE_FNC_REPORT","NATIVE_TABFORM"])}}),A({label:l("CREATE",s("ROW_SELECTOR")),action:function(){$(this[0],n,e.COMP_TYPE.TAB_FORM_COLUMN,"ROW_SELECTOR")},visible:function(){var t;return!(!c(this,["region_columns","tabform_column"])||"NATIVE_TABFORM"!==(t=K(e.COMP_TYPE.REGION,this[0])).getProperty(e.PROP.REGION_TYPE).getValue())&&0===t.getChilds(e.COMP_TYPE.TAB_FORM_COLUMN,{properties:[{id:e.PROP.COLUMN_NAME,value:_}]}).length}}),A({typeId:e.COMP_TYPE.IG_COLUMN,visible:["ig_columns","ig_column"]}),A({typeId:e.COMP_TYPE.REGION_TMPL_COLUMN,visible:["region_tmpl_columns","region_tmpl_column"]}),A({typeId:e.COMP_TYPE.FACET,visible:["facets","facet","facet_group"]}),A({typeId:e.COMP_TYPE.FACET_GROUP,visible:["facets","facet","facet_group"]}),A({typeId:e.COMP_TYPE.FACET_GROUP_ITEM,visible:["facet_group","facet_group_items","facet_group_item"]}),A({typeId:e.COMP_TYPE.SFILTER,visible:["sfilters","sfilter","sfilter_group"]}),A({typeId:e.COMP_TYPE.SEARCH_REGION_SOURCE,visible:["search_sources","search_source"]}),A({typeId:e.COMP_TYPE.JET_CHART_SERIES,visible:function(){return!!c(this,["jet_chart_series","jet_chart_serie"])&&n.treeView("getNodeAdapter").check("canAdd",this[0])}}),A({typeId:e.COMP_TYPE.IR_COLUMN_GROUP,visible:["ir_column_groups","ir_column_group"]}),A({typeId:e.COMP_TYPE.IG_COLUMN_GROUP,visible:["ig_column_groups","ig_column_group"]}),A({typeId:e.COMP_TYPE.CARD_ACTION,visible:["card_actions","card_action"]}),A({typeId:e.COMP_TYPE.REGION_ACTION,visible:["region_actions","region_action"]}),A({typeId:e.COMP_TYPE.REGION_ACTION_MENU_ENTRY,visible:["region_action_menu_entries","region_action_menu_entry"]}),A({typeId:e.COMP_TYPE.IR_COLUMN_ACTION,visible:["ir_column_actions","ir_column_action"]}),A({typeId:e.COMP_TYPE.IR_COL_ACTION_MENU_ENTRY,visible:["ir_column_action_menu_entries","ir_column_action_menu_entry"]}),A({typeId:e.COMP_TYPE.MAP_LAYER,visible:["map_layers","map_layer"]}),A({typeId:e.COMP_TYPE.PAGE_PROC_API_PARAM,visible:["api_params","api_param"]}),A({type:"separator"}),g(s("SYNCHRONIZE_COLUMNS")),g(s("SYNCHRONIZE_PAGE_ITEMS"),"NATIVE_FORM"),A({label:s("SYNCHRONIZE_API_PARAMS"),action:function(){let t,n,i,o;t=K(e.COMP_TYPE.PAGE_PROCESS,this[0]),n=t.getProperty(e.getPluginProperty(t.typeId,"NATIVE_INVOKE_API",4).id),n||(n=t.getProperty(e.getPluginProperty(t.typeId,"NATIVE_INVOKE_API",5).id)),i=e.transaction.message({action:e.MESSAGE_ACTION.CHANGE,component:t,property:n}),o=e.transaction.start("",i),n.setValue(n.getValue(),!0),apex.commandHistory.execute(o)},visible:function(){var t;return!(e.isPageReadOnly()||!O(this,["process","api_params"]))&&("NATIVE_INVOKE_API"===(t=K(e.COMP_TYPE.PAGE_PROCESS,this[0])).getProperty(e.PROP.PAGE_PROCESS_TYPE).getValue()?"WEB_SOURCE"!==t.getProperty(e.getPluginProperty(t.typeId,"NATIVE_INVOKE_API",1).id).getValue():void 0)}}),A({label:s("SYNCHRONIZE_FACETS"),action:function(){const t=K(e.COMP_TYPE.REGION,this[0]),n=t.getChilds(e.COMP_TYPE.FACET_GROUP);let i=t.getChilds(e.COMP_TYPE.FACET);n.forEach((t=>{i=i.concat(t.getChilds(e.COMP_TYPE.FACET_GROUP_ITEM))})),y(t,i,e.COMP_TYPE.FACET)},visible:function(){if(!e.isPageReadOnly()&&["region","facets"].includes(this[0].type)){const t=K(e.COMP_TYPE.REGION,this[0]);if("NATIVE_FACETED_SEARCH"===t.getProperty(e.PROP.REGION_TYPE).getValue()){const n=t.getPropertyValue(e.PROP.SOURCE_FILTERED_REGION);if(e.getRegionColumns(n).length>0)return!0}}return!1}}),A({label:s("SYNCHRONIZE_FILTERS"),action:function(){const t=K(e.COMP_TYPE.REGION,this[0]),n=t.getChilds(e.COMP_TYPE.SFILTER_GROUP);let i=t.getChilds(e.COMP_TYPE.SFILTER);n.forEach((t=>{i=i.concat(t.getChilds(e.COMP_TYPE.SFILTER_GROUP_ITEM))})),y(t,i,e.COMP_TYPE.SFILTER)},visible:function(){if(!e.isPageReadOnly()&&["region","sfilters"].includes(this[0].type)){const t=K(e.COMP_TYPE.REGION,this[0]);if("NATIVE_SMART_FILTERS"===t.getProperty(e.PROP.REGION_TYPE).getValue()){const n=t.getPropertyValue(e.PROP.SOURCE_FILTERED_REGION);if(e.getRegionColumns(n).length>0)return!0}}return!1}}),A({type:"separator"}),A({label:o.getMessage("PD.TREE.CREATE.REGION.BELOW"),action:function(){$(this[0],n,e.COMP_TYPE.REGION,"BELOW")},typeId:e.COMP_TYPE.REGION,visible:function(){return!!c(this,["region","item","button"])&&u(this[0],"BELOW",e.COMP_TYPE.REGION)}}),A({label:o.getMessage("PD.TREE.CREATE.ITEM.BELOW"),action:function(){$(this[0],n,e.COMP_TYPE.PAGE_ITEM,"BELOW")},typeId:e.COMP_TYPE.PAGE_ITEM,visible:function(){return!!c(this,["region","item","button"])&&u(this[0],"BELOW",e.COMP_TYPE.PAGE_ITEM)}}),A({label:o.getMessage("PD.TREE.CREATE.BUTTON.BELOW"),action:function(){$(this[0],n,e.COMP_TYPE.BUTTON,"BELOW")},typeId:e.COMP_TYPE.BUTTON,visible:function(){return!!c(this,["region","item","button"])&&u(this[0],"BELOW",e.COMP_TYPE.BUTTON)}}),A({type:"separator",visible:function(){return!!c(this,["region","item","button"])&&u(this[0],"BELOW")}}),A({label:s("COPY_TO_PAGE"),action:function(){C(this[0])},visible:function(){return 1===this.length&&n.treeView("getNodeAdapter").check("canExtCopy",this[0])&&e.getComponentType(Q(this[0]).typeId).isPageComponent&&!Q(this[0]).isOnGlobalPage()}}),A({label:s("EDIT_SHARED_COMPONENT"),action:function(){!function(t){var n=Q(t,void 0);I(e.getComponentType(n.typeId).editUrl,n.id)}(this[0])},visible:function(){return 1===this.length&&n.treeView("getNodeAdapter").check("canExtEdit",this[0])&&!e.getComponentType(Q(this[0],n).typeId).isPageComponent}}),A({label:s("COPY_SHARED_COMPONENT"),action:function(){C(this[0])},visible:function(){return 1===this.length&&n.treeView("getNodeAdapter").check("canExtCopy",this[0])&&!e.getComponentType(Q(this[0],n).typeId).isPageComponent}}),A({label:s("CREATE_SHARED_COMPONENT"),action:function(){!function(t,n){var i;i=Q(t,n)?Q(t,n).typeId:t.data.typeId,I(e.getComponentType(i).createUrl)}(this[0])},visible:function(){return 1===this.length&&n.treeView("getNodeAdapter").check("canExtCreate",this[0])}}),A({label:s("PAGE_SEARCH"),action:function(){a(document).trigger("pageSearch",[Q(this[0],n).getDisplayTitle()])},visible:function(){return 1===this.length&&n.treeView("getNodeAdapter").check("canSearch",this[0])}}),A({label:s("GOTO_TARGET_PAGE"),action:function(){t.goToPage(R(this[0],n))},visible:function(){return 1===this.length&&"branch"===this[0].type},disabled:function(){return null===R(this[0],n)}}),A({type:"separator"}),A({label:s("EXPAND_ALL_BELOW"),action:function(){n.treeView("expandAll",n.treeView("getSelection"))}}),A({label:s("COLLAPSE_ALL_BELOW"),action:function(){n.treeView("collapseAll",n.treeView("getSelection"))}}),A({type:"separator"}),t.COMMENTED_OUT_ID&&(A({label:s("COMMENT_OUT"),action:function(){N(this.map((e=>Q(e,n))),t.COMMENTED_OUT_ID)},visible:function(){return!e.isPageReadOnly()&&m.call(this,!0)}}),A({label:s("UNCOMMENT"),action:function(){N(this.map((e=>Q(e,n))))},visible:function(){return!e.isPageReadOnly()&&m.call(this)}})),A({label:s("DELETE"),accelerator:"Del",action:function(){var e=n.treeView("getSelection");n.treeView("deleteNodes",e)},visible:function(){for(var e=0;e<this.length;e++)if(!n.treeView("getNodeAdapter").allowDelete(this[e]))return!1;return!0}}),{items:i}}a((function(){const e=a("#sp_main_content"),t=a("#PDrenderingTree"),n=a("#PDdynamicActionTree"),o=a("#PDprocessingTree"),r=a("#PDsharedCompTree");e.on("tabsactivate",(function(e,t){let n,o=t.newPanel.find(".a-TreeView");o.length>0&&(n=j(o),n.length>0&&(i.trace("%s: trigger event selectionChanged",o[0].id,n),a(document).trigger("selectionChanged",[o[0].id,n])))})),a(document).on("modelReady",(function(){oe(t,F,!0),oe(n,H,!1),oe(o,x,!1),oe(r,B,!1),a(document).one("modelCleared",(function(){ae(t),ae(n),ae(o),ae(r)}))}))}))}(window.pe,window.pageDesigner,apex.util,apex.debug,apex.lang,apex.jQuery);
!function(t,e,a,r,i){"use strict";const n="a-PropertyEditor",s=n+"-wrapper",o="."+s,l=n+"--stacked",p=n+"-propertyGroup",u="."+p,d=n+"-message",c=n+"-messageText",h=n+"-editParent",m=n+"-filter",f="a-Button--stickyFilter",y="has-active-filter",v=p+"-header",g="."+v,k=p+"-button",b=p+"-title",D=p+"-body",C="a-Property",_=C+"-notFound",E=C+"--stacked",P=C+"-buttonContainer",x=P+"--comboBox",S=C+"-labelContainer",O=C+"-label",T=O+"--withIcon",V=C+"-radioGroup",I=V+"--buttonSet",N=C+"-radio",L=N+"-label",A=N+"-input",R=C+"-checkboxGroup",B=C+"-checkbox",w=B+"-label",F=B+"-input",G=C+"-fieldContainer",M=G+"--comboBox",H=G+"--radioGroup",K=G+"--checkboxGroup",U=G+"--colorPicker",q=G+"--switch",X=C+"-field",Q=X+"--readOnly",j=X+"--text",Y=X+"--textarea",$=X+"--select",W=X+"--filter",z=C+"-unitContainer",J=C+"-unit",Z=C+"--scrollable",tt="js-showAll",et="a-Button",at=et+"--full",rt=et+"--primary",it=et+" "+et+"--small "+et+"--noLabel "+et+"--withIcon",nt="is-active",st="is-focused",ot="is-expanded",lt="is-variable",pt="is-empty",ut="is-changed",dt="is-disabled",ct="a-Icon",ht=ct+" icon-down-arrow",mt=ct+" icon-right-arrow",ft=ct+" icon-required",yt=ct+" icon-error",vt=ct+" icon-warning",gt=ct+" icon-popup-lov",kt=ct+" icon-variable",bt=ct+" icon-quick-pick",Dt=ct+" icon-color-preview",Ct=ct+" "+ct+"--large icon-warning",_t=ct+" icon-open-in-dialog",Et="u-vh",Pt="u-hidden",xt="a-Property-highlight",St="aria-label",Ot="aria-hidden",Tt="data-property-id",Vt="data-group-id",It={COMBOBOX:"COMBOBOX",NUMBER:"NUMBER",INTEGER:"INTEGER",SELECT_LIST:"SELECT LIST",TEXT:"TEXT",TEXTAREA:"TEXTAREA",YES_NO:"YES NO",PILL_BUTTONS:"PILL BUTTONS",CHECKBOXES:"CHECKBOXES",RADIOS:"RADIOS",COLOR:"COLOR",POPUP_LOV:"POPUP LOV",STATIC_LOV_GRID:"STATIC LOV VALUES",STATIC_LOV_BTN:"STATIC LOV",TPL_OPTIONS_BTN:"TEMPLATE OPTIONS",LINK_TARGET_BTN:"LINK",LINK_ITEMS_GRID:"LINK SET ITEMS"};var Nt={};let Lt="PE.";const At=e.hasOwnProperty;function Rt(t){return i.getMessage(Lt+t)}function Bt(t){var e=[Rt(t)].concat(Array.prototype.slice.call(arguments,1));return i.format.apply(this,e)}function wt(t){var e=[Rt(t)].concat(Array.prototype.slice.call(arguments,1));return i.formatNoEscape.apply(this,e)}function Ft(e,a){var r=t.extend({class:"",style:""},a);e.markup("<div"),r.class&&e.attr("class",Array.isArray(r.class)?r.class.join(" "):r.class),r.style&&e.attr("style",r.style),e.markup(">")}function Gt(t){t.markup("</div>")}function Mt(t,e,a){t.markup("<span").attr("class",e).attr(Ot,!0).markup("></span>"),a&&t.markup("<span").attr("class",Et).markup(">").content(a).markup("</span>")}function Ht(t){var e={},a=t.metaData;return a&&a.multiSelectData&&a.multiSelectData.indeterminateMap&&(e=a.multiSelectData.indeterminateMap),e}function Kt(t){var e,a=!1,r=t.value;return r.constructor===Object&&0===Object.keys(r).length?a=!0:(e=Ht(t),At(e,r)&&(a=e[r])),a}function Ut(t){return"["+Vt+"='"+e.escapeCSS(t)+"']"}function qt(t){return"["+Tt+"='"+e.escapeCSS(t)+"']"}function Xt({event:t,type:e}){let a=[8,9,13,27,35,36,37,39,45,46,48,49,50,51,52,53,54,55,56,57,96,97,98,99,100,101,102,103,104,105,107,109,189];if(e===It.NUMBER){const t=r.getDecimalSeparator();"."===t?(a.push(190),a.push(110)):","===t&&a.push(188)}return a.includes(t.which)||(t.ctrlKey||t.metaKey)&&[65,67,86,88].includes(t.which)}var Qt={},jt={renderDivOpen:Ft,renderDivClose:Gt,renderIcon:Mt,stacked:!1,noLabel:!1,labelVisible:!0,render:function(){},init:function(t,e){this.addKeyboardHandlersForVariesState(t,e),this.addTooltipsForErrors(t,e)},destroy:function(t){t.closest("div."+C).off()},validate:function(){},setValue:function(t,e,a){t.val(a)},addValue:function(t,e,a){var r,i=!1,n=t.val(),s=n?n.split(e.metaData.multiValueDelimiter):[];for(r=0;r<s.length;r++)if(a===s[r]){i=!0;break}i||s.push(a),t.val(s.join(e.metaData.multiValueDelimiter))},getValue:function(t){var e=t.find("["+Tt+"]").val();return t.hasClass(lt)&&""===e&&(e=Nt),e},getDisplayValue:function(t){return t.value},setFocus:function(t){t[0].focus()},renderCommonAttributes:function(t,e,a){t.attr("id",e).attr(Tt,a.propertyName).optionalAttr("aria-required",a.metaData.isRequired?"true":null).optionalAttr("aria-invalid",a.errors.length>0?"true":null)},commonAttributes:function(t){var e={};return e[Tt]=t.propertyName,e["aria-required"]=t.metaData.isRequired,e["aria-invalid"]=t.errors.length>0,e},renderBase:function(e,a){var r,i,n=t.extend({id:"",type:"text",value:"",inputClass:[],data:{},readonly:!1,maxLength:"",attributes:{}},a);if(e.attr("id",n.id).attr("type",n.type).attr("value",n.value).optionalAttr("readonly",n.readonly),n.inputClass.length>0&&e.attr("class",Array.isArray(n.inputClass)?n.inputClass.join(" "):n.inputClass),n.maxLength&&e.attr("maxlength",n.maxLength),n.ariaDescribedBy&&e.attr("aria-describedby",n.ariaDescribedBy),!t.isEmptyObject(n.data))for(i in n.data)At(n.data,i)&&e.attr("data-"+i,n.data[i]);if(!t.isEmptyObject(n.attributes))for(r in n.attributes)At(n.attributes,r)&&e.attr(r,n.attributes[r])},renderBaseInput:function(t,e){t.markup("<input"),this.renderBase(t,e),t.markup(" />")},renderText:function(e,a,r,i){var n,s=r.value,o=!1,l=[],p={},u=s===Nt;i=t.extend({class:j,type:"text",textCase:r.metaData.textCase,manualEntry:!0,attributes:{}},i),l.push(X),l.push(i.class),i.textCase&&l.push(this.getTextCaseClass(i.textCase)),r.metaData.isReadOnly&&(o=!0,l.push(Q),u||(s=Qt[r.metaData.type].getDisplayValue(r))),i.manualEntry||(o=!0,l.push(Q),u||""===r.value||(p["return-value"]=r.value,r.metaData.lovValues((function(e){var a,i=t(qt(r.propertyName));a=e.length>0&&e[0].r===r.value?e[0].d:r.value,Qt[r.metaData.type].setValue(i,r,r.value,this.options.data.lastComponents,a)}),{id:r.value}))),u&&(s="",l.push(lt)),n={id:a,type:i.type,value:s,inputClass:l,data:p,attributes:t.extend(i.attributes,this.commonAttributes(r)),readonly:o},r.metaData.maxLen&&(n.maxLength=r.metaData.maxLen),r.metaData.unit&&(n.ariaDescribedBy=n.id+"_unit"),i.hasPreview&&(n.ariaDescribedBy=`${n.ariaDescribedBy?" ":""}${n.id}_preview`),i.tagName?(e.markup(`<${i.tagName}`),this.renderBase(e,n),e.markup(">"),e.markup(`</${i.tagName}>`)):this.renderBaseInput(e,n)},renderOption:function(t,e,a){return t.markup("<option").attr("value",e.r).optionalAttr("selected",e.r===a?"true":null),At(e,"isSupported")&&t.attr("data-is-supported",e.isSupported?"true":"false"),At(e,"isLegacy")&&t.attr("data-is-legacy",e.isLegacy?"true":"false"),t.markup(">").content(e.d).markup("</option>"),e.r===a},renderLovValues:function(t,e,a){var r,i=e,n=!1;for("function"==typeof i&&(i=i()),r=0;r<i.length;r++)At(i[r],"group")?(t.markup("<optgroup").attr("label",i[r].group).markup(">"),this.renderLovValues(t,i[r].values,a)&&(n=!0),t.markup("</optgroup>")):this.renderOption(t,i[r],a)&&(n=!0);return n},renderIconButton:function(e,a){let r=t.extend({id:"",icon:"",text:"",ariaDescribedby:"",ariaControls:"",dataFor:null,disabled:!1,isMenuButton:!1,addContainer:!1,containerClass:"",buttonClass:""},a);r.addContainer&&this.renderDivOpen(e,{class:P+(r.containerClass?" "+r.containerClass:"")}),e.markup("<button type='button'").attr("role","button").attr("id",r.id).attr("class",it+(r.buttonClass?" "+r.buttonClass:"")).attr("title",r.text).attr(St,r.text).optionalAttr("aria-describedby",r.ariaDescribedby).optionalAttr("aria-controls",r.ariaControls).optionalAttr("disabled",r.disabled),r.dataFor&&e.attr("data-for",r.dataFor),r.isMenuButton&&e.attr("aria-haspopup","true").attr("aria-expanded","false").attr("data-menu",r.id+"_menu"),e.markup(">"),this.renderIcon(e,r.icon),e.markup("</button>"),r.addContainer&&this.renderDivClose(e)},addValueVariesStateStyle:function(a,r,i,n){var s=e.htmlBuilder(),o=e.htmlBuilder();a.addClass(lt),r.addClass(lt),n.renderIcon(s,kt),o.markup("<span").attr("class",Et).markup(">").content(Rt("VALUE_VARIES_POSTFIX")).markup("</span>"),t("#"+i+"_label").prepend(s.toString()).append(o.toString())},removeValueVariesStateStyle:function(e,a){var r=t("#"+e.attr("id")+"_label");e.removeClass(lt),a.removeClass(lt),r.find("span.icon-variable").remove().end().find("span."+Et).remove()},addKeyboardHandlersForVariesState:function(e,a){var r,i,n;a.metaData.isReadOnly||(r=this,i=e.closest("div."+C),n=e.attr("id"),i.on("keydown","#"+n,(function(e){var s=t(this);e.which===t.ui.keyCode.ESCAPE&&a.value===Nt&&(r.addValueVariesStateStyle(s,i,n,r),setTimeout((function(){s[0].value=""}),1))})).on("keypress","#"+n,(function(e){var a=t(this);e.which&&a.hasClass(lt)&&r.removeValueVariesStateStyle(a,i)})))},addChangeHandlersForVariesState:function(e,a){var r,i,n;a.metaData.isReadOnly||(r=this,i=e.closest("div."+C),n=e.attr("id"),i.on("change","#"+n,(function(){var e=t(this),s=e.val();e.hasClass(lt)?r.removeValueVariesStateStyle(e,i):""===s&&a.value===Nt&&r.addValueVariesStateStyle(e,i,n,r)})))},addTooltipsForErrors:function(t,e){var a=t.attr("id");t.tooltip().off("mouseover mouseout"),e.errors.length>0&&t.tooltip({items:"#"+a,content:function(t){var a,r;for(a="<ul>",r=0;r<e.errors.length;r++)a+="<li>"+e.errors[r]+"</li>";t(a+="</ul>")},position:{my:"left bottom",at:"left top",of:"#"+a+"_label"}}),e.warnings.length>0&&t.tooltip({items:"#"+a,content:function(t){var a,r;for(a="<ul>",r=0;r<e.warnings.length;r++)a+="<li>"+e.warnings[r]+"</li>";t(a+="</ul>")},position:{my:"left bottom",at:"left top",of:"#"+a+"_label"}})},initQuickPicks:function(e,a,r){let i,n,s,o;function l(){r?e.val(e.val()+this.value).trigger("change"):e.val(this.value).trigger("change")}a.metaData.quickPicks&&!a.metaData.isReadOnly&&a.metaData.quickPicks()?.length&&(n=e.attr("id")+"_quickPickBtn_menu",o=t("#"+n),0===o.length&&(o=t("<div id='"+n+"'></div>").appendTo("body")),o.menu({items:[{}],beforeOpen:(t,r)=>{let n=a.metaData.quickPicks(),o=[];for(a.metaData.isRequired||(void 0===a.metaData.nullText?(o.push({type:"action",label:Rt("QUICK_PICK.CLEAR"),hide:function(){return""===e.val()},action:function(){e.val("").trigger("change")}}),o.push({type:"separator",hide:function(){return""===e.val()}})):o.push({type:"action",label:a.metaData.nullText,action:function(){e.val("").trigger("change")}})),i=0;i<n.length;i++)s={type:"action",label:n[i].d,value:n[i].r,action:l},n[i].icon&&(s.icon=n[i].icon),n[i].iconStyle&&(s.iconStyle=n[i].iconStyle),"-"===n[i].r&&(s.disabled=!0),o.push(s);r.menu.items=o}}),a.metaData.hasInitQuickPick=!0)},removeQuickPick:function(e,a){var r;a.metaData.hasInitQuickPick&&(r=e.attr("id")+"_quickPickBtn_menu",t("#"+r).remove())},addLabelClickHandler:function(t,e){var a=this,r=t.closest("div."+C),i=t.attr("id");r.on("click","#"+i+"_label",(function(){a.setFocus(t,e)}))},renderQuickPickButton:function(t,e,a,r){var i,n=!!r;a.metaData.quickPicks&&(i=a.metaData.quickPicks(),a.metaData.isReadOnly||i.length>0&&this.renderIconButton(t,{id:e+"_quickPickBtn",icon:bt,text:Rt("QUICK_PICK"),ariaDescribedby:e+"_label",ariaControls:e,isMenuButton:!0,addContainer:n,buttonClass:"a-Button--quickPick"}))},renderRadioCheckbox:function(e,a,r,i,n){var s,o,l,p,u,d,c,h,m,f=t.isEmptyObject(r.value),y=Ht(r),v="N";i===It.CHECKBOXES?(l="checkbox",p=B,u=F,d=w):(l="radio",p=N,u=A,d=L),o=a+(s=t.extend({type:l,name:a+"_name",inputValue:null,inputLabel:null,currentValue:f?r.value:r.value.split(":")},n)).inputValue,this.renderDivOpen(e,{class:p}),e.markup("<input").attr("type",s.type).attr("id",o).attr("value",s.inputValue).attr("name",s.name).attr("class",u).attr(St,s.inputLabel).optionalAttr("checked",(c=s.inputValue,h=s.currentValue,m=!1,f?!0===y[c]?(v="Y",m=!1):(v="N",m=At(y,c)):m=-1!==t.inArray(c,h),m)).optionalAttr("data-"+lt,f?v:null).markup(" />"),e.markup("<label").attr("for",o).attr("class",d).attr(Ot,"true").markup(">"),s.icon?e.markup('<span class="a-Icon '+s.icon+'"></span>'):e.content(s.inputLabel),e.markup("</label>"),this.renderDivClose(e)},renderRadiosCheckboxes:function(t,e,a,r){var i,n,s=[],o=[],l=e+"_label";if(s.push(G),r===It.CHECKBOXES?(s.push(K),o.push(R)):r===It.RADIOS&&(s.push(H),o.push(V)),this.renderDivOpen(t,{class:s}),a.metaData.isReadOnly)this.renderText(t,e,a);else{if(a.value===Nt&&o.push(lt),t.markup("<div").attr("role","group").attr("class",o.join(" ")).attr("aria-labelledby",l).attr("tabindex","-1"),this.renderCommonAttributes(t,e,a),t.markup(">"),a.metaData.type!==It.YES_NO)for("function"==typeof(n=a.metaData.lovValues)&&(n=n()),i=0;i<n.length;i++)this.renderRadioCheckbox(t,e,a,r,{inputValue:n[i].r,inputLabel:n[i].d,icon:n[i].icon});else this.renderRadioCheckbox(t,e,a,r,{inputValue:a.metaData.yesValue,inputLabel:Rt("YES")}),this.renderRadioCheckbox(t,e,a,r,{inputValue:a.metaData.noValue,inputLabel:Rt("NO")});this.renderDivClose(t)}this.renderDivClose(t)},getTextCaseClass:function(t){var e="";return"UPPER"===t?e="u-textUpper":"LOWER"===t&&(e="u-textLower"),e}};function Yt(e,a,r){var i,n,s,o;i=r?Qt[r]:jt,a||!r?((n=t.extend(Object.create(i),a)).super=(s=Array.prototype.slice,o=n.super,function(t){var e,a=s.call(arguments,1),r=this.super;return this.super=o,e=i[t].apply(this,a),this.super=r,e}),Qt[e]=n):Qt[e]=i}Yt(It.TEXT,{render:function(t,e,a,r,i){this.renderDivOpen(t,{class:G}),this.renderText(t,e,a,i),this.renderDivClose(t),this.renderQuickPickButton(t,e,a,!0)},init:function(t,e){this.initQuickPicks(t,e),this.super("init",t,e)},destroy:function(t,e){this.removeQuickPick(t,e),this.super("destroy",t,e)}}),Yt(It.NUMBER,{init:function(t,e,a){e.metaData.isReadOnly||e.metaData.supportsSubstitution||t.on("keydown",(function(t){Xt({event:t,type:It.NUMBER})||t.preventDefault()})),this.super("init",t,e,a)}},It.TEXT),Yt(It.INTEGER,{init:function(t,e,a){e.metaData.isReadOnly||e.metaData.supportsSubstitution||t.on("keydown",(function(t){Xt({event:t,type:It.INTEGER})||t.preventDefault()})),this.super("init",t,e,a)}},It.TEXT),Yt(It.TEXTAREA,{stacked:!0,render:function(t,e,a,r,i){var n,s=X+" "+Y;this.renderDivOpen(t,{class:P}),i&&this.renderIconButton(t,{id:e+"_modalBtn",icon:_t,text:Rt("CODE_EDITOR"),ariaDescribedby:e+"_label",ariaControls:e+"_label"}),this.renderQuickPickButton(t,e,a),this.renderDivClose(t),this.renderDivOpen(t,{class:G}),(n=a.value)===Nt&&(n="",s+=" "+lt),s+=" "+this.getTextCaseClass(a.metaData.textCase),t.markup("<textarea rows=3").attr("maxlength",a.metaData.maxLen).attr("class",s).optionalAttr("readonly",a.metaData.isReadOnly?"true":null),this.renderCommonAttributes(t,e,a),t.markup(">").content(n).markup("</textarea>"),this.renderDivClose(t)},init:function(t,e,a){var r=t.prop("scrollHeight");r>50&&(r>150&&(r=150),t.height(r)),this.initQuickPicks(t,e,!0),this.super("init",t,e,a)},destroy:function(t,e){this.removeQuickPick(t,e),this.super("destroy",t,e)}}),Yt(It.COMBOBOX,{manualEntry:!0,render:function(t,e,a){this.renderDivOpen(t,{class:[G,M]}),this.renderText(t,e,a,{manualEntry:this.manualEntry}),this.renderDivClose(t),this.renderIconButton(t,{id:e+"_lovBtn",icon:gt,text:Rt("LIST_OF_VALUES"),ariaDescribedby:e+"_label",ariaControls:e,addContainer:!0,containerClass:x}),this.renderQuickPickButton(t,e,a,!0)},init:function(a,r,i,n){var s=this,o=t.extend({columnDefinitions:[{name:"d",title:r.metaData.prompt}],filters:[{name:"search",title:Rt("SEARCH"),type:"search"}],filterLov:function(t,e){"function"==typeof r.metaData.lovValues?r.metaData.lovValues((function(a){s.manualEntry||r.metaData.isRequired||a.unshift({r:"",d:void 0!==r.metaData.nullText?r.metaData.nullText:Rt("SELECT")}),e(a,t.search)}),t):e(r.metaData.lovValues,t.search)},multiValue:!1,dialogTitle:wt("PICK",r.metaData.prompt),resizable:!1,resultsDisplay:"table"},n),l=t("#"+a.attr("id")+"_lovBtn");this.super("init",a,r,i),l.on("click",(function(){var n=e.htmlBuilder();n.markup("<div").attr("id","lovDlg").attr("title",o.dialogTitle).markup(">").markup("</div>"),t(n.toString()).lovDialog({modal:!0,minWidth:520,height:500,filters:o.filters,columnDefinitions:o.columnDefinitions,filterLov:o.filterLov,dialogClass:"ui-dialog-flushBody",resizable:o.resizable,multiValue:o.multiValue,valueSelected:function(t,e){var n,l;n=void 0!==e.r?e.r:e[o.columnDefinitions[0].name],s.manualEntry||(l=e.d?e.d:n),r.metaData.multiValueDelimiter?s.super("addValue",a,r,n):s.setValue(a,r,n,i,l),a.trigger("change")},resultsDisplay:o.resultsDisplay})})),l.prop("disabled",r.metaData.isReadOnly),this.initQuickPicks(a,r)},setValue:function(t,e,a,r,i){this.manualEntry?t.val(a):(t.data("return-value",a),i&&t.val(i))},getValue:function(t){return this.manualEntry?this.super("getValue",t):t.find("["+Tt+"]").data("return-value")},destroy:function(t,e){this.removeQuickPick(t,e),this.super("destroy",t,e)}}),Yt(It.CHECKBOXES,{noLabel:!0,render:function(t,e,a){this.renderRadiosCheckboxes(t,e,a,It.CHECKBOXES)},init:function(e,a){this.addChangeHandlersForVariesState(e,a),this.addLabelClickHandler(e,a),this.addTooltipsForErrors(e,a),a.metaData.isReadOnly||t.isEmptyObject(a.value)&&""!==a.value&&(e.find("input[data-"+lt+"=Y]").prop("indeterminate",!0),e.find("input").on("click",(function(){var r,i,n=a.metaData.multiSelectData?a.metaData.multiSelectData.components:[],s="general"===a.propertyName?a.propertyId:a.propertyName;for(t(this).prop("indeterminate",!1).removeAttr("data-is-variable"),r=function(){var a=[];return e.find("input").each((function(){var e=t(this);e.prop("indeterminate")&&a.push(e.val())})),a}(),i=0;i<n.length;i++)n[i].getProperty(s)._indeterminateValues=r})))},getValue:function(t){var e=[];return t.find("input").each((function(){this.checked&&e.push(this.value)})),e.join(":")},getDisplayValue:function(e){var a,r,i,n=[],s=e.value.split(":");if("function"==typeof(a=e.metaData.lovValues)&&(a=a()),a){for(i=0;i<a.length;i++)t.inArray(a[i].r,s)>-1&&n.push(a[i].d);r=n.join(":")}return r},setValue:function(e,a,r){var i=e.find("input"),n=r.split(":");i.prop("checked",!1),i.each((function(){var e=t(this);t.inArray(e.val(),n)>-1&&e.prop("checked",!0)}))},setFocus:function(t,e){e.metaData.isReadOnly?t[0].focus():t.find(":input")[0].focus()}}),Yt(It.RADIOS,{noLabel:!0,render:function(t,e,a){this.renderRadiosCheckboxes(t,e,a,It.RADIOS)},init:function(t,e){this.addChangeHandlersForVariesState(t,e),this.addLabelClickHandler(t,e),this.addTooltipsForErrors(t,e)},getValue:function(t){var e="";return t.find("input").each((function(){if(this.checked)return e=this.value,!1})),e},getDisplayValue:function(t){var e,a,r;if("function"==typeof(e=t.metaData.lovValues)&&(e=e()),e)for(r=0;r<e.length;r++)if(e[r].r===t.value){a=e[r].d;break}return a},setValue:function(e,a,r){e.find("input").each((function(){var e=t(this);if(e.prop("checked")){if(e.val()===r)return!1;e.prop("checked",!1)}else if(e.val()===r)return e.prop("checked",!0),!1}))},setFocus:function(t,e){e.metaData.isReadOnly?t[0].focus():t.find(":input")[0].focus()}}),Yt(It.YES_NO,{init:function(t,e,a){this.super("init",t,e,a),e.metaData.isReadOnly||e.value===Nt&&t.prop("indeterminate",!0)},getDisplayValue:function(t){return t.metaData.yesValue===t.value?Rt("YES"):Rt("NO")},render:function(t,e,a){var r,i=G+" "+q,n=e+"_label",s="a-Switch";r=e,this.renderDivOpen(t,{class:i}),a.metaData.isReadOnly?this.renderText(t,e,a):(a.value===Nt&&(s+=" "+lt),t.markup("<label").attr("for",r).attr("class",s).attr("aria-labelledby",n).attr("tabindex","-1").markup(">"),t.markup("<input").attr("type","checkbox").attr("role","switch").attr("id",r).attr(Tt,a.propertyName).attr("value",a.metaData.yesValue).optionalAttr("checked",a.value===a.metaData.yesValue?"true":null).markup(" />"),t.markup("<span class='a-Switch-toggle'></span>"),t.markup("</label>")),this.renderDivClose(t)},getValue:function(t,e){return t.find("input").prop("checked")?e.metaData.yesValue:e.metaData.noValue},setValue:function(t,e,a){t.prop("checked",a===e.metaData.yesValue?"true":null)},setFocus:function(t){t[0].focus()}},It.CHECKBOXES),Yt(It.PILL_BUTTONS,{init:function(t,e,a){this.super("init",t,e,a),e.metaData.isReadOnly||t.addClass(I)}},It.RADIOS),Yt(It.SELECT_LIST,{render:function(t,e,a,r,i){var n=X+" "+$,s=a.value,o=!1,l=Kt(a);this.renderDivOpen(t,{class:G}),a.metaData.isReadOnly?this.renderText(t,e,a):(l&&(n+=" "+lt),t.markup("<select size=1").attr("class",n),this.renderCommonAttributes(t,e,a),t.markup(">"),l?(o=this.renderOption(t,{r:"",d:""},""),a.metaData.isRequired||this.renderOption(t,{r:"",d:void 0!==a.metaData.nullText?a.metaData.nullText:Rt("SELECT")},null),s=""):a.metaData.isRequired&&""!==s||(o=this.renderOption(t,{r:"",d:void 0!==a.metaData.nullText?a.metaData.nullText:Rt("SELECT")},s)),this.renderLovValues(t,a.metaData.lovValues,s)||o||this.renderOption(t,{r:s,d:Bt("INVALID",s)},s),t.markup("</select>")),Gt(t),this.renderQuickPickButton(t,e,a,!0),i&&this.renderIconButton(t,{id:e+"_btn",icon:i.icon,text:i.text,addContainer:!0})},init:function(t,e){this.addChangeHandlersForVariesState(t,e),this.addTooltipsForErrors(t,e),this.initQuickPicks(t,e)},getDisplayValue:function(t){var e,a;if(""!==t.value){if("function"==typeof(e=t.metaData.lovValues)&&(e=e()),e)for(let r=0;r<e.length;r++)if(At(e[r],"values")){for(let i=0;i<e[r].values.length;i++)if(e[r].values[i].r===t.value){a=e[r].values[i].d;break}}else if(e[r].r===t.value){a=e[r].d;break}}else a=t.metaData.nullText?t.metaData.nullText:t.value;return a},destroy:function(t,e){this.removeQuickPick(t,e),this.super("destroy",t,e)}}),Yt(It.COLOR,{render:function(t,e,a){var r=["#FF3B30","#FF9500","#FFCC00","#4CD964","#34AADC","#007AFF","#5856D6","#FF2D55","#FFFFFF","#C7C7CC","#8E8E93","#000000"];this.renderDivOpen(t,{class:[G,U]}),this.renderText(t,e,a,{tagName:"a-color-picker",manualEntry:this.manualEntry,class:"apex-item-color-picker",attributes:{"return-value-as":"HEX","display-as":"POPUP","display-mode":"FULL"}}),this.renderDivClose(t),a.metaData.quickPicks=function(){var t,e=[];for(t=0;t<r.length;t++)e.push({d:r[t],r:r[t],icon:Dt,iconStyle:"color: "+r[t]+";"});return e},this.renderQuickPickButton(t,e,a,!0)},init:function(t,e,a){var r=t.closest("."+C);this.super("init",t,e,a),apex.item.attach(r),this.initQuickPicks(t,e)},setValue:function(t,e,a){var r=t.attr("id");apex.item(r).setValue(a,null,!0)},destroy:function(t,e){this.removeQuickPick(t,e),this.super("destroy",t,e)}},It.TEXT),Yt(It.POPUP_LOV,{manualEntry:!1,init:function(t,e,a){this.super("init",t,e,a)}},It.COMBOBOX),t.widget("apex.propertyEditor",{widgetEventPrefix:"propertyeditor",baseId:null,nextId:1,idMap:{},propMap:{},deferredPropMap:{},currentPropertyName:null,hasSearchField:!1,options:{data:{propertySet:[],lastComponents:null},idPrefix:null,showAll:!1,labelsAlwaysAbove:!1,hideDisplayGroups:!1,searchable:!1,searchKey:null,pinSearch:!1,focusPropertyName:null,externalEdit:null,expand:null,collapse:null,activate:null,deactivate:null,change:null},_create:function(){var t=this.options;if(!t.data||!t.data.propertySet)throw new Error("Missing required data option.");this.baseId=(t.idPrefix||this.element[0].id||"pe")+"_",this.element.addClass(n),this.options.showAll&&this.element.addClass(tt),this._on(this._eventHandlers),this.options.searchable&&this._on(this.element.prev(),this._SearchEventHandlers),this.refresh(),this.options.labelsAlwaysAbove&&this.element.addClass(l)},_eventHandlers:{click:function(e){var a=null,r=t(e.target);r.is(g)?a=r.parent():r.parent(g).length>0?a=r.parent().parent():r.parent().parent(g).length>0&&(a=r.parent().parent().parent()),a&&this._toggle(a),r.attr("id")===this.baseId+"externalEdit"&&this.options.externalEdit()},keydown:function(e){var a=null,r=!1,i=t.ui.keyCode,n=e.keyCode,s=t(e.target);s.is("."+k)&&(n===i.HOME?a=s.closest(o).children(":visible").first():n===i.END?a=s.closest(o).children(":visible").last():n===i.DOWN?0===(a=s.closest(u).nextAll().filter(":visible").first()).length&&(a=s.closest(o).children(":visible").first()):n===i.UP?0===(a=s.closest(u).prevAll().filter(":visible").first()).length&&(a=s.closest(o).children(":visible").last()):n===i.LEFT?(this._collapse(s.closest(u)),r=!0):n===i.RIGHT?(this._expand(s.closest(u)),r=!0):n!==i.SPACE&&n!==i.ENTER||(this._toggle(s.closest(u)),r=!0),r&&e.preventDefault(),a&&(a.find("."+k)[0].focus(),e.preventDefault()))},"focusin div.a-Property":function(e){var a=t(e.target).closest("div.a-Property");a.addClass(nt+" "+st),this._activate(a)},"focusout div.a-Property":function(e){t(e.target).closest("div.a-Property").removeClass(nt+" "+st)},"change div.a-Property":function(e){const a=t(e.target),r=a.closest("div.a-Property"),i=r.find("["+Tt+"]").attr(Tt),n=this._getProperty(i);if(n){const t=this.getValue(r,n);this.updatePropertyValue(i,t,!1,!0)}else{const t=a.closest("div.a-PropertyEditor-propertyGroup").attr(Vt);this.deferredPropMap[i]={displayGroupId:t,newValue:a.val()}}},"focusin div.a-PropertyEditor-propertyGroup-header":function(e){this._deactivate(),t(e.target).closest("div.a-PropertyEditor-propertyGroup-header").addClass(st)},"focusout div.a-PropertyEditor-propertyGroup-header":function(e){t(e.target).closest("div.a-PropertyEditor-propertyGroup-header").removeClass(st)}},_SearchEventHandlers:{"keyup input.a-Property-field--filter":function(e){27===e.which?(this.clearSearch(),this.expandAll()):this.search(t(e.target).val())},"click button.a-Button--stickyFilter":function(e){var a=this.options;t(e.currentTarget).toggleClass(nt).hasClass(nt)?a.pinSearch=!0:(a.pinSearch=!1,a.searchKey=null)}},_destroy:function(){this.element.removeClass(n+" "+tt).empty()},_setOption:function(t,e){var a,r,i,n;if("data"===t)for(i=this.options.data.propertySet,a=0;a<i.length;a++)for(n=i[a],r=0;r<n.properties.length;r++)Qt[n.properties[r].metaData.type].destroy(this._getElement(n.properties[r]),n.properties[r]);if(this._super(t,e),"data"===t){if(!e.propertySet)throw new Error("Missing required properties.");this._updateDeferredPropertyValue(e.propertySet),this.refresh()}else"showAll"===t?this.element.toggleClass(tt,!!e):"labelsAlwaysAbove"===t&&this.element.toggleClass(l,!!e)},_callPropertyInit:function(t){var e=t.propertyName,a=this.element.find(qt(e));Qt[t.metaData.type].init(a,t,this.options.data.lastComponents)},_renderLabel:function(t,a){var r=e.htmlBuilder(),i=a.errors.length>0,n=a.warnings.length>0,s=Kt(a),o=O,l=[],p=this._getId(a)+"_label";l.push(S),Qt[a.metaData.type].labelVisible?(i||n||s)&&(o+=" "+T):(o+=" "+Et,l.push(S+"--hiddenLabel"));const u=a.metaData.type===It.YES_NO||a.metaData.type===It.STATIC_LOV_GRID||a.metaData.type===It.STATIC_LOV_BTN||a.metaData.type===It.TPL_OPTIONS_BTN||a.metaData.type===It.LINK_TARGET_BTN||a.metaData.type===It.LINK_ITEMS_GRID;t.markup("<div").attr("class",l.join(" ")).optionalAttr(Ot,u?"true":null).markup(">"),Qt[a.metaData.type].noLabel?t.markup("<span").attr("id",p).attr("class",o).markup(">"):t.markup("<label").attr("id",p).attr("for",this._getId(a)).attr("class",o).markup(">"),Qt[a.metaData.type].labelVisible&&(i&&Mt(r,yt),n&&Mt(r,vt),s&&Mt(r,kt)),t.markup(r.html),a.metaData.promptContainsHtml?t.markup(a.metaData.prompt):t.content(a.metaData.prompt),Qt[a.metaData.type].labelVisible&&(i&&t.markup("<span").attr("class",Et).markup(">").content(Rt("ERROR_POSTFIX")).markup("</span>"),n&&t.markup("<span").attr("class",Et).markup(">").content(Rt("WARNING_POSTFIX")).markup("</span>"),s&&t.markup("<span").attr("class",Et).markup(">").content(Rt("VALUE_VARIES_POSTFIX")).markup("</span>")),Qt[a.metaData.type].noLabel?t.markup("</span>"):t.markup("</label>"),Gt(t)},_countVisibleProperties:function(t){var e,a,r,i=!!this.options.data.lastComponents&&this.options.data.lastComponents.length>1;for(e=0,a=0;a<t.length;a++)r=t[a],i&&r.metaData.isUnique||this._isCommon(r)&&(e+=1);return e},_renderDisplayGroup:function(t,e,a){var r,i,n,s,o,l,u,d,c=!!this.options.data.lastComponents&&this.options.data.lastComponents.length>1,h=e.properties;if(s=h.length,d=p,this.options.hideDisplayGroups)for(r=0;r<s;r++)i=h[r],c&&i.metaData.isUnique||this._renderProperty(t,i);else{for(o=this._countVisibleProperties(h),(u=!e.collapsed)?(n=ht,d+=" "+ot):n=mt,0===o&&(d+=" "+tt),l=this.baseId+"g_"+a,t.markup("<div role='region'").attr("class",d).attr(Vt,e.displayGroupId).attr("aria-labelledby",l+"_LABEL").markup(">"),t.markup("<h2").attr("class",v).markup(">"),t.markup("<button type='button'").attr("class",k).attr("aria-controls",l).attr("aria-expanded",u?"true":"false").markup(">"),Mt(t,n),t.markup("<span").attr("class",b).attr("id",l+"_LABEL").markup(">").content(e.displayGroupTitle).markup("</span>"),t.markup("</button>"),t.markup("</h2>"),t.markup("<div").attr("id",l).attr("class",D),u||t.attr("style","display:none;"),t.markup(">"),r=0;r<s;r++)i=h[r],c&&i.metaData.isUnique||this._renderProperty(t,i);Gt(t),Gt(t)}},_renderDisplayGroups:function(t){var e,a=this.options.data.propertySet;for(e=0;e<a.length;e++)this._renderDisplayGroup(t,a[e],e)},_renderProperty:function(t,e){var a,r=this.options.data.lastComponents,i=[C];e.hasChanged&&i.push(ut),Qt[e.metaData.type].stacked&&i.push(E),Qt[e.metaData.type].minHeight&&(a="min-height: "+Qt[e.metaData.type].minHeight+"px;"),Qt[e.metaData.type].maxHeight&&(a="max-height: "+Qt[e.metaData.type].maxHeight+"px;",i.push(Z)),Qt[e.metaData.type].height&&(a="max-height: "+Qt[e.metaData.type].height+"px;",i.push(Z)),e.errors.length>0&&i.push("is-error"),e.warnings.length>0&&i.push("is-warning"),Kt(e)&&i.push(lt),this._isCommon(e)||i.push(tt),Ft(t,{class:i,style:a}),e.metaData.isRequired&&Mt(t,ft),this._renderLabel(t,e),Qt[e.metaData.type].render(t,this._getId(e),e,r),e.metaData.unit&&(t.markup("<div").attr("class",z).markup(">"),t.markup("<span").attr("class",J).attr("id",this._getId(e)+"_unit").markup(">").content(e.metaData.unit).markup("</span>"),t.markup("</div>")),Gt(t)},_getProperty:function(t){return this.propMap[t]},_getId:function(t,e){var a;return(a=this.idMap[t.propertyName])||(a=this.baseId+this.nextId,this.nextId+=1,this.idMap[t.propertyName]=a),e&&(a+=e),a},_getElement:function(e,a){return t("#"+this._getId(e,a))},_isCommon:function(t){return t.metaData.isCommon||t.value!==t.metaData.defaultValue||t.errors.length>0||t.warnings.length>0},_activate:function(t){var e=this,a=t.find("["+Tt+"]").attr(Tt),r=this._getProperty(a);this.currentPropertyName!==a&&(this._deactivate(),this.currentPropertyName=a,setTimeout((function(){e._trigger("activate",{},r)}),0))},_deactivate:function(){var t=this;this.currentPropertyName=null,setTimeout((function(){t._trigger("deactivate")}),0)},_expand:function(t){t.hasClass(ot)||(t.addClass(ot).children("."+D).show(),t.find("."+k).attr("aria-expanded","true").children("."+ct).removeClass(mt).addClass(ht),this._trigger("expand",{},{displayGroupId:t.attr("data-group-id")}))},_collapse:function(t){t.hasClass(ot)&&(t.removeClass(ot).children("."+D).hide(),t.find("."+k).attr("aria-expanded","false").children("."+ct).removeClass(ht).addClass(mt),this._trigger("collapse",{},{displayGroupId:t.attr("data-group-id")}))},_toggle:function(t){t.hasClass(ot)?this._collapse(t):this._expand(t)},_updateDeferredPropertyValue:function(t){const e=Object.keys(this.deferredPropMap);let a={};for(let r=0;r<e.length;r++){const i=e[r],n=this.deferredPropMap[i],s=n.newValue,o=t.find((function(t){return t.displayGroupId===n.displayGroupId})),l=o?o.properties.find((function(t){return t.propertyName===i})):void 0;o&&l?this.updatePropertyValue(i,s,!1,!0,l):a[i]=n}this.deferredPropMap=a},refresh:function(){var t,r,i,n,l,p=e.htmlBuilder(),u=this.options,y=this.element,v=Rt("PIN_FILTER"),g=u.data.lastComponents?u.data.lastComponents.length:0,k=u.data.propertySet,b=u.externalEdit;if(this.nextId=1,this.idMap={},this.propMap={},a.info("propertyEditor refresh"),this._deactivate(),g>0&&0===k.length?l=Rt("NO_COMMON_PROPERTIES"):0===k.length&&(l=Rt("NO_COMPONENTS_SELECTED")),l)return p.markup("<div").attr("class",d).markup(">"),p.markup("<span").attr("class",Ct).markup(">"),p.markup("<span").attr("class",Et).markup(">").content(Rt("WARNING")).markup("</span>").markup("</span>"),p.markup("<p").attr("class",c).markup(">").content(l).markup("</p>"),p.markup("</div>"),y.html(p.toString()).addClass(pt),void(u.searchable&&(y.prev().addClass(dt).find("."+W).prop("disabled",!0),u.pinSearch||this.clearSearch()));for(y.removeClass(pt),y.children().remove(),t=0;t<k.length;t++)for(i=k[t].properties,r=0;r<i.length;r++)n=i[r],this.propMap[n.propertyName]=n;b&&p.markup("<div").attr("class",h).markup(">").markup("<button").attr("type","button").attr("id",this.baseId+"externalEdit").attr("class",et+" "+at+" "+rt).markup(">").content(Rt("EDIT_COMPONENT")).markup("</button>").markup("</div>"),this._renderDisplayGroups(p),y.html('<div class="resize u-ScrollingViewport '+s+'">'+p.toString()+"</div>"),u.searchable&&y.find(o).css("height",y.css("height")).css("width",y.css("width"));const D=Object.keys(this.propMap);for(let t=0;t<D.length;t++){const e=this.propMap[D[t]];this._callPropertyInit(e)}u.focusPropertyName&&this.focus(u.focusPropertyName),u.searchable&&(this.hasSearchField?(u.pinSearch?this.search(u.searchKey):this.clearSearch(),y.prev().removeClass(dt).find("."+W).prop("disabled",!1)):(y.prev().find(".a-Toolbar-items--left").prepend('<div class="'+m+'"><input aria-controls="peMain" type="search" class="'+X+" "+W+'" '+St+'="'+Rt("FILTER_PROPERTIES")+'" placeholder="'+Rt("FILTER")+'" /><span class="a-Icon icon-search a-PropertyEditor-filter-icon" '+Ot+'="true"></span><button class="a-Button a-Button--noLabel a-Button--simple '+f+'" type="button" title="'+v+'" '+St+'="'+v+'"><span class="a-Icon icon-pin" '+Ot+'="true"></span></button></div>'),this.hasSearchField=!0))},getProperty:function(t){return this._getProperty(t)},getPropertyValue:function(t){var e=this._getProperty(t),a=this._getElement(e),r=e.metaData.type;return Qt[r].getValue(a.closest("div."+C))},updatePropertyValue:function(e,r,i=!1,n=!1,s=void 0){a.info("propertyEditor updatePropertyValue: Property "+e+" to "+r);const o=s||this._getProperty(e);if(o){const a=this._getElement(o),s=o.metaData.type,p=a.closest("div.a-Property");let d=r;if(t("#"+this.idMap[e]).hasClass(lt)&&""===d&&(d=Nt),r!==o.value){if(o.oldValue=o.value,o.value=d,!n){if(this.options.showAll){p.toggleClass(tt,!this._isCommon(o));const t=p.closest("div"+u);var l=t.find("div."+C).filter(":not(."+tt+")").length;t.toggleClass(tt,0===l)}d!==Nt?Qt[s].setValue(a,o,d,this.options.data.lastComponents):this.updateProperty(o)}p.addClass(ut),i||this._trigger("change",{},{propertyName:e,property:o,property$:p})}}},updateProperty:function(r){var i,n,s=this.options.data.propertySet,o=e.htmlBuilder(),l=this._getElement(r).closest("div."+C),p=l.find(":focus").attr("id");for(a.info("propertyEditor updateProperty: ",r),i=0;i<s.length;i++)for(n=0;n<s[i].properties.length;n++)s[i].properties[n].propertyName===r.propertyName&&(s[i].properties.splice(n,1),s[i].properties.splice(n,0,r));this._renderProperty(o,r),l.replaceWith(o.toString()),Qt[r.metaData.type].destroy(this._getElement(r),r),this._callPropertyInit(r),p&&t("#"+p).trigger("focus")},addProperty:function(r){var i,n,s,o,l,p,u,d=e.htmlBuilder(),c=e.htmlBuilder(),h=this.options.data.propertySet,m=0,f=0,y=!1,v=!1,g=t.extend({property:{},prevPropertyName:null,displayGroup:{},prevDisplayGroupId:null},r);for(a.info("propertyEditor addProperty: ",g),i=0;i<h.length;i++)if(h[i].displayGroupId===g.property.metaData.displayGroupId){f=i,y=!0;break}if(!y){for(n=0;n<h.length;n++)if(h[n].displayGroupId===g.prevDisplayGroupId){f=n+1;break}h.splice(f,0,g.displayGroup)}for(l=h[f].properties,s=0;s<l.length;s++)if(l[s].propertyName===g.property.propertyName){m=s,v=!0;break}if(!v){for(o=0;o<l.length;o++)if(l[o].propertyName===g.prevPropertyName){m=o+1;break}h[f].properties.splice(m,0,g.property),this.propMap[g.property.propertyName]=g.property,y?(this._renderProperty(d,g.property),0===m?this.element.find(Ut(g.displayGroup.displayGroupId)).find("div."+D).prepend(d.toString()):t("#"+this.idMap[g.prevPropertyName]).closest("div."+C).after(d.toString()),p=this._countVisibleProperties(h[f].properties),u=this.element.find(Ut(g.displayGroup.displayGroupId)),p>0&&u.hasClass(tt)&&u.removeClass(tt)):(this._renderDisplayGroup(c,g.displayGroup,f),0===f?this.element.prepend(c.toString()):this.element.find(Ut(g.prevDisplayGroupId)).after(c.toString())),this._callPropertyInit(g.property)}},removeProperty:function(t){var e,r,i,n,s,o=!1,l=this.options.data.propertySet,p=!1;for(a.info("propertyEditor removeProperty: ",t),this.currentPropertyName===t&&this._deactivate(),e=0;e<l.length;e++)if(!p)for(o=1===l[e].properties.length,r=0;r<l[e].properties.length;r++)if(l[e].properties[r].propertyName===t){n=l[e].properties[r],s=(i=this._getElement(n)).closest("div"+u),o?(l.splice(e,1),s.remove()):(Qt[n.metaData.type].destroy(i,n),l[e].properties.splice(r,1),i.closest("div."+C).remove()),p=!0;break}},expand:function(t){var e=this.element.find("div"+u).filter(Ut(t));this._expand(e)},expandAll:function(){var e=this;this.element.find("div"+u).each((function(){e._expand(t(this))}))},collapseAll:function(){var e=this;this.element.find("div"+u).each((function(){e._collapse(t(this))}))},getValueVariesConstant:function(){return Nt},setValue:function(t,e,a,r){Qt[e.metaData.type].setValue(t,e,a,r)},getValue:function(t,e){return Qt[e.metaData.type].getValue(t,e)},focus:function(t){var e,a,r,i;i=t||(this.currentPropertyName?this.currentPropertyName:this.options.data.propertySet[0].properties[0].propertyName),(a=this._getProperty(i))&&((e=(r=this._getElement(a)).closest("div"+u)).hasClass(ot)||this._expand(e),Qt[a.metaData.type].setFocus(r,a))},hasFocus:function(t){const e=this._getProperty(t);return e&&this._getElement(e).is(":focus")},saveProperty:function(t){var e,a;t?e=t:this.currentPropertyName&&(e=this.currentPropertyName),e&&(a=this._getProperty(e),this._getElement(a).trigger("change"))},goToGroup:function(t){var e=this.options,a=this.element.find("div"+u).filter(Ut(t)).find("["+Tt+"]").first().attr(Tt);e.searchable&&this.clearSearch(),this.collapseAll(),this.expand(t),this.focus(a)},search:function(e){var a,r=this.element,i=r.prev();if(r.find("."+Pt+", ."+xt).removeClass(Pt+" "+xt),r.find("."+_).remove(),i.removeClass(y),!e||e.length<2)this.options.searchKey=null;else{a=e.trim().toLowerCase(),this.options.searchKey=a,i.addClass(y);var n=[],s=[],l={},u=[],d=[],c=this,h=function(t){return t.closest("."+(t.hasClass(b)?p:C))};r.find("."+b).each((function(e){var a=t(this),r=a.text().toLowerCase(),i=a.attr("id"),s=[];u.push(i),n[e]={pe_id:i,pe_title:r,pe_children:[]},s=n[e].pe_children,h(a).find("."+D).find("."+O).each((function(){var e,a,r,n=t(this),o=n.attr("id");s.push({pe_label_id:o,pe_label:n.text().toLowerCase(),pe_value:(e=o.slice(0,-6),a=t("#"+e),r=a.get(0).tagName.toUpperCase(),("INPUT"===r||"TEXTAREA"===r?$v(e):"SELECT"===r?t("#"+e+" option:selected").text():"BUTTON"===r?a.text():"DIV"===r?a.find("input:checked").next().text():"").toLowerCase())}),d.push(o),l[o]=i}))}));var m=function(e){var i,n,s,p,m,f,y,v,g,k,b,D,C=[],E=e.length,P=u.length,x=d.length;for(0===E&&r.find(o).append('<div class="'+_+'"> <span class="a-Icon icon-search" '+Ot+'="true"></span><br />'+Rt("FILTER_NO_MATCH")+"</div>"),n=0;n<P;n++)h(t("#"+u[n])).addClass(Pt);for(s=0;s<x;s++)h(t("#"+d[s])).addClass(Pt);for(i=0;i<E;i++)m=e[i],y=t("#"+m),(v=h(y)).removeClass(Pt),-1!==m.indexOf("_g_")&&v.find("."+Pt).removeClass(Pt),b=a,void 0,D=(k=y).text().replace(new RegExp("("+b+")","gi"),'<span class="'+xt+'">$1</span>'),k.html(D),C.push(-1!==(g=m).indexOf("_g_")?g:l[g]);for(f=(C=t.unique(C)).length,p=0;p<f;p++)y=t("#"+C[p]),v=h(y),c._expand(v.removeClass(Pt))};!function(t){var e,a,r,i,o,l=n.length;for(e=0;e<l;e++)for(-1!==(r=n[e]).pe_title.indexOf(t)&&s.push(r.pe_id),o=r.pe_children.length,a=0;a<o;a++)-1===(i=r.pe_children[a]).pe_label.indexOf(t)&&-1===i.pe_value.indexOf(t)||s.push(i.pe_label_id);m(s)}(a)}},clearSearch:function(){this.options.searchKey=null,this.element.prev().removeClass(y).find("."+W).val("").trigger("keyup").siblings("."+f).removeClass(nt)},getCurrentPropertyName:function(){return this.currentPropertyName}}),t.apex.propertyEditor.setMessagePrefix=function(t){Lt=t},t.apex.propertyEditor.PROP_TYPE=It,t.apex.propertyEditor.addPropertyType=Yt}(apex.jQuery,apex.util,apex.debug,apex.locale,apex.lang);
!function(t,e,r,a){"use strict";var i="a-PopupLOV",s=i+"-search",l=i+"-filters",n=i+"-filterGroup",o=n+"--lineFilter",u=i+"-filterLabel",p=i+"-filterItem",h=p+"-label",m=p+"-select",d=p+"-text",f=i+"-results",c=i+"-resultsSet",v=i+"-resultsGrid",k=v+"-wrap",g=c+"-link",b=i+"-iconGrid-item",_="a-SearchBox",E=_+"-field",F=_+"-icon",S=_+"-input",I="a-Icon",L="a-Button",y=L+"--noLabel",D=L+"--withIcon",x=L+"--slim",C=L+"--pillEnd",w=L+"--primary",O="a-Form-label",V="a-Form-field",A="visuallyhidden",T="u-textLeft",B="u-textCenter",H="table";function R(t){return a.getMessage("LOV_DIALOG."+t)}const q=e.hasOwnProperty;t.widget("apex.lovDialog",t.ui.dialog,{widgetEventPrefix:"lovdialog",baseId:null,filterHasSubFilter:[],filterIsSearch:[],filterFiltersOnChange:[],currentFilters:{},deferredFilterLov:t.Deferred(),options:{filterLov:null,idPrefix:null,multiValue:!1,filters:[],columnDefinitions:[],resultsDisplay:H},_create:function(){var e,r=this.options;if("function"!=typeof r.filterLov)throw new Error("Missing required 'filterLov' option.");if(0===r.columnDefinitions.length)throw new Error("Missing required 'columnDefinitions' option.");this.baseId=(r.idPrefix||this.element[0].id||"lovDialog")+"_",this.element.addClass(i);for(var s=0;s<this.options.columnDefinitions.length;s++)this.options.columnDefinitions[s]=t.extend({alignment:"left",escape:!0},this.options.columnDefinitions[s]);return this.filterHasSubFilter=[],this.filterIsSearch=[],this.filterFiltersOnChange=[],this.currentFilters={},this.resultsDisplayTableMode=this.options.resultsDisplay===H,this.options.closeText=a.getMessage("APEX.DIALOG.CLOSE"),e=this._super(),this.element.closest(".ui-dialog").attr("aria-modal",this.options.modal),this._renderLovDialog(),e},_renderLovDialog:function(){var r,a,s,l,n,o,u=this,p=e.htmlBuilder();if(p.markup("<div").attr("class",i).markup(">"),this._renderFilters(p,this.options.filters),p.markup("<div").attr("class",f).markup(">"),this.resultsDisplayTableMode){for(p.markup("<table").attr("class",c).attr("id",u.baseId+"lovEntries").markup(">").markup("<caption").attr("class",A).markup(">").content(R("LOV_ENTRIES")).markup("</caption>"),p.markup("<tr>"),this.options.multiValue&&p.markup("<th>").content(R("SELECT")).markup("</th>"),r=0;r<this.options.columnDefinitions.length;r++)o=this.options.columnDefinitions[r].title,n="left"===this.options.columnDefinitions[r].alignment?T:B,p.markup("<th").attr("class",n).optionalAttr("width",this.options.columnDefinitions[r].width).markup(">"),this.options.columnDefinitions[r].escape?p.content(o):p.markup(o),p.markup("</th>");p.markup("</tr>"),p.markup("</table>")}else p.markup("<div").attr("class",k).markup("><ul").attr("class",v).markup("></ul></div>");for(p.markup("</div>"),this.element.empty().append(p.toString()),this._lovEntries$=t("#"+this.baseId+"lovEntries"),this._filterLov(this.options.filters),this._on({click:this._resultsLinkClick}),a=0;a<this.filterIsSearch.length;a++)this._on("#"+this.filterIsSearch[a]+"_button",{click:this._doSearch}),this._on("#"+this.filterIsSearch[a],{keypress:function(t){13===t.which&&(u._doSearch(t),t.preventDefault())}});for(l=0;l<this.filterFiltersOnChange.length;l++)this._on("#"+this.filterFiltersOnChange[l],{change:this._doSearch});for(s=0;s<this.filterHasSubFilter.length;s++)this._on("#"+this.filterHasSubFilter[s],{change:this._filterHasSubFilterChange})},_resultsLinkClick:function(e){var r,a,i,s,l=t(e.target),n=!1;if(l.hasClass(g)){for(var o in r=this.lovEntries[l.data("lov-entry-idx")],this.currentFilters)if(q(this.currentFilters,o)){for(a=0;a<this.options.filters.length;a++)if(this.options.filters[a].name===o){if(n=!0,this.options.filters[a].lov)for(i=0;i<this.options.filters[a].lov.length;i++)if(this.options.filters[a].lov[i].value===this.currentFilters[o]){this.options.filters[a].lov[i].valueFormatting&&(s=this.options.filters[a].lov[i].valueFormatting);break}break}if(n)break}s&&t.extend(r,{valueFormatting:s}),this._trigger("valueSelected",{},r),!1===this.options.multiValue&&this.close()}},_doSearch:function(){this._filterLov(this.options.filters)},_filterHasSubFilterChange:function(r){for(var a=e.htmlBuilder(),i=this.options.filters,s=t(r.target),l=s.data("filter-name"),o=0;o<i.length;o++)if(i[o].name===l)for(var u=0;u<i[o].lov.length;u++)if(i[o].lov[u].filters)if(s.val()===i[o].lov[u].value)this._renderFilters(a,i[o].lov[u].filters,!0),s.closest("div."+n).after(a.toString());else for(var p=0;p<i[o].lov[u].filters.length;p++)this.element.find("[data-filter-name="+i[o].lov[u].filters[p].name+"]").closest("div."+n).remove()},_filterLovEntries:function(t){var e,r,a,i=[];if(""!==t){for(a=t instanceof RegExp?t:new RegExp(t,"i"),e=0;e<this.lovEntries.length;e++)for(r=0;r<this.options.columnDefinitions.length;r++)if((this.lovEntries[e][this.options.columnDefinitions[r].name]+"").match(a)){i.push(this.lovEntries[e]);break}this.lovEntries=i}},_renderLovEntries:function(t,r){const a=this.options;let i,s,l,n,o=e.htmlBuilder();if(this.lovEntries=t.slice(),r&&this._filterLovEntries(r.trim()),this.resultsDisplayTableMode){for(let t=0;t<this.lovEntries.length;t++){o.markup("<tr>"),a.multiValue&&o.markup("<td>").markup("<input").attr("type","checkbox").attr("title",R("SELECT")).attr("data-lov-row",t).markup(" />").markup("</td>");for(let e=0;e<a.columnDefinitions.length;e++){const r=a.columnDefinitions[e];l=r.cellFormatting?function(t){o.markup(r.cellFormatting(t))}:r.escape?function(t){o.content(t)}:function(t){o.markup(t)},s=this.lovEntries[t][r.name],s=0!==s?s||"":s,"left"===r.alignment?i=T:"right"===r.alignment?i="u-textRight":"center"===r.alignment&&(i=B),o.markup("<td").attr("class",i).optionalAttr("role",r.isRowHeader?"rowheader":null).markup(">"),0===e?(o.markup("<a").attr("class",g).attr("href","#").attr("data-lov-entry-idx",t).markup(">"),l(s),o.markup("</a>")):l(s),o.markup("</td>")}o.markup("</tr>")}this._lovEntries$.find("tr").after(o.toString())}else{for(let t=0;t<this.lovEntries.length;t++)o.markup("<li").attr("class",b).markup(">"),s=this.lovEntries[t].r,n=this.lovEntries[t].d,s=0!==s?s||"":s,o.markup("<a").attr("class",g).attr("href","#").attr("data-lov-entry-idx",t).markup(">"),o.markup("<span").attr("class","fa "+s).attr("aria-hidden","true").markup("></span>"),o.content(n),o.markup("</a>"),o.markup("</li>");this.element.find("."+v).append(o.toString())}},_updateCurrentFilters:function(e){var r,a,i,s;for(r=0;r<e.length;r++)if(a=e[r].name,t("#"+this.baseId+a).length>0&&(i=t("#"+this.baseId+e[r].name),t.inArray(e[r].type,["text","select","search"])>-1?s=i.val():"buttonset"===e[r].type&&(s=i.find("input:checked").val()),this.currentFilters[a]=s,e[r].lov))for(var l=0;l<e[r].lov.length;l++)e[r].lov[l].value===s&&e[r].lov[l].filters&&this._updateCurrentFilters(e[r].lov[l].filters)},_filterLov:function(r){var a,i=this;i.deferredFilterLov.reject({status:0},"superseded",null),i.deferredFilterLov=t.Deferred().always((function(){e.delayLinger.finish("lovDialog",(function(){a.remove()}))})).done((function(t,e){i._renderLovEntries(t,e)})),this.resultsDisplayTableMode?this._lovEntries$.find("tr").not(":first").remove():this.element.find("."+v).empty(),this._updateCurrentFilters(r),e.delayLinger.start("lovDialog",(function(){a=e.showSpinner(t(".a-PopupLOV-results"))})),this.options.filterLov(this.currentFilters,(function(t,e){i.deferredFilterLov.resolve(t,e)}))},_renderSearch:function(t,e){t.markup("<div").attr("class",s).markup(">"),t.markup("<div").attr("class",_).markup(">"),t.markup("<div").attr("class",E).markup(">"),t.markup("<span").attr("class",F).attr("role","img").attr("aria-label",a.getMessage("PE.SEARCH")).markup(">"),t.markup("<span").attr("class",I+" icon-search").markup(">").markup("</span>"),t.markup("</span>"),t.markup("<input").attr("id",this.baseId+e.name).attr("data-filter-name",e.name).attr("type","text").attr("class",S).attr("title",e.title).attr("placeholder",e.title).attr("aria-controls",this.baseId+"lovEntries").attr("value",e.defaultValue?e.defaultValue:"").optionalBoolAttr("aria-required",e.isRequired).markup(" />"),t.markup("</div>"),t.markup("<button").attr("class",L+" "+y+" "+D+" "+x+" "+C+" "+w).attr("value",R("GO")).attr("type","button").attr("id",this.baseId+e.name+"_button").attr("title",R("GO")).attr("aria-controls",this.baseId+"lovEntries").markup(">"),t.markup("<span").attr("class",I+" icon-right-chevron").markup(">").markup("</span>"),t.markup("<span").attr("class",A).markup(">").content("Go").markup("</span>"),t.markup("</button>"),t.markup("</div>"),t.markup("</div>"),this.filterIsSearch.push(this.baseId+e.name)},_renderText:function(t,e){t.markup("<div").attr("class",n+" "+o).markup(">"),t.markup("<span").attr("class",u).markup(">"),t.markup("<label").attr("for",this.baseId+e.name).attr("class",O+" "+h).markup(">").content(e.title).markup("</label>"),t.markup("</span>"),t.markup("<span").attr("class",p).markup(">"),t.markup("<input").attr("id",this.baseId+e.name).attr("data-filter-name",e.name).attr("type","text").attr("class",V+" "+d).attr("value",e.defaultValue?e.defaultValue:"").optionalBoolAttr("aria-required",e.isRequired).markup(" />"),t.markup("</span>"),t.markup("</div>")},_renderSelect:function(t,e){var r,a=[];function i(r){var i=e.defaultValue===r.value;t.markup("<option").attr("value",r.value).optionalAttr("selected",i).markup(">").content(r.display).markup("</option>"),r.filters&&(this.filterHasSubFilter.push(this.baseId+e.name),i&&(a=r.filters))}for(this.filterFiltersOnChange.push(this.baseId+e.name),t.markup("<div").attr("class",n+" "+o).markup(">"),t.markup("<span").attr("class",u).markup(">"),t.markup("<label").attr("for",this.baseId+e.name).attr("class",O+" "+h).markup(">").content(e.title).markup("</label>"),t.markup("</span>"),t.markup("<span").attr("class",p).markup(">"),t.markup("<select").attr("id",this.baseId+e.name).attr("data-filter-name",e.name).attr("size","1").attr("class",V+" a-Form-select "+m).attr("aria-controls",this.baseId+"lovEntries").optionalBoolAttr("aria-required",e.isRequired).markup(">"),e.isRequired||i({display:R("SELECT_VALUE"),value:""}),r=0;r<e.lov.length;r++)i(e.lov[r]);return t.markup("</select>"),t.markup("</span>"),t.markup("</div>"),a},_renderButtonSet:function(t,e){var r,a,i=[];for(this.filterFiltersOnChange.push(this.baseId+e.name),t.markup("<div").attr("class",n+" "+o).markup(">"),t.markup("<span").attr("class",p+" apex-button-group").attr("id",this.baseId+e.name).attr("role","group").attr("aria-label",e.title).attr("aria-controls",this.baseId+"lovEntries").markup(">"),t.markup("<div").attr("class","apex-item-grid-row").markup(">"),r=0;r<e.lov.length;r++)a=e.defaultValue===e.lov[r].value,t.markup("<div").attr("class","apex-item-option").markup(">"),t.markup("<input").attr("id",this.baseId+e.name+"_"+e.lov[r].value).attr("type","radio").optionalAttr("checked",a).attr("value",e.lov[r].value).attr("name",this.baseId+e.name).attr("data-filter-name",e.name).markup(" />"),t.markup("<label").attr("for",this.baseId+e.name+"_"+e.lov[r].value).markup(">").content(e.lov[r].display).markup("</label>"),t.markup("</div>"),e.lov[r].filters&&(this.filterHasSubFilter.push(this.baseId+e.name),a&&(i=e.lov[r].filters));return t.markup("</div>"),t.markup("</span>"),t.markup("</div>"),i},_renderFilters:function(t,e,r){var a,i=[];for(e.length>0&&!r&&t.markup("<div").attr("class",l).markup(">"),a=0;a<e.length;a++){switch(i=[],e[a].type){case"search":this._renderSearch(t,e[a]);break;case"text":this._renderText(t,e[a]);break;case"select":i=this._renderSelect(t,e[a]);break;case"buttonset":i=this._renderButtonSet(t,e[a])}i.length>0&&this._renderFilters(t,i,!0)}e.length>0&&!r&&t.markup("</div>")},close:function(){return this.element.removeClass(i).empty(),this._super()}})}(apex.jQuery,apex.util,apex.debug,apex.lang);
!function(a,e,t,r,o,i,l,n,f,s){"use strict";const p=o.hasOwnProperty,d="change",u="click";var c;const g="main",m="attributes",E="printing",h="peComponentProperties",y="scope",P="col",_="role",T="group",O="aria-hidden",v="aria-labelledby",I="aria-describedby",R=["FLOW_SESSION","FLOW_ID","APP_SESSION","APP_ID","ROWNUM"],C=[a.COMP_TYPE.IR_ATTRIBUTES,a.COMP_TYPE.IR_COLUMN,a.COMP_TYPE.IR_COLUMN_ACTION,a.COMP_TYPE.IR_COL_ACTION_MENU_ENTRY,a.COMP_TYPE.CLASSIC_RPT_COLUMN,a.COMP_TYPE.TAB_FORM_COLUMN];var b="a-Property",A=b+"-field",L=A+"--text",k=b+"-fieldContainer",S=b+"-setItemsHeader-header",N=b+"-setItemsTable",w=N+"-removeCol",D=b+"-setItemsHeader-header",M=b+"-setItemsTable",x=M+"-removeCol",V="a-Button",U=V+"--hot",G=V+"--forceWrap",B="linkDlgItemName",Y="linkDlgItemValue",q="linkDlgSetItemsRowData",H="linkDlgItemName",F="linkDlgItemValue",j="linkDlgSetItemsRowData",W="orderByDlgClauseKey",X="orderByDlgClauseDisplay",K="orderByDlgClauseColsStaticLov",z="orderByDlgClauseExpr",Q="a-Icon",J=Q+" icon-remove",$=Q+" icon-shuttle-up",Z=Q+" icon-shuttle-down",aa=Q+" icon-popup-lov",ea=Q+" icon-go-to-component",ta=Q+" icon-open-in-dialog",ra="u-vh",oa="ui-dialog-flushBody",ia="is-changed",la="HTML",na="COMPONENT",fa="LINK",sa="ITEM",pa="PAGE",da="SUPPORTED UI",ua="OWNER",ca="TABLE",ga="GRAPH",ma="REST SOURCE ID",Ea="REST OPERATION ID",ha="COLUMN",ya="LINK SET ITEMS",Pa="TEXT EDITOR",_a="PLACEHOLDER JSON ITEMS",Ta="ORDER BY ITEM EXPRESSIONS",Oa="HIDDEN",va="TEMPLATE OPTIONS",Ia="STATIC LOV",Ra="STATIC LOV VALUES",Ca="PLSQL PACKAGE",ba="PLSQL METHOD",Aa="CHECKBOXES",La=[Oa,la,fa,Ia,ua,"POPUP LOV","RADIOS",ca,ga,Ca,ba,ma,Ea],ka="data-property-id",Sa="linkType",Na="linkApp",wa="linkPage",Da="linkUrl",Ma="linkSetItems",xa="linkClearCache",Va="linkClearAction",Ua="linkResetPagination",Ga="linkRequest",Ba="linkAnchor",Ya="linkSuccessMessage",qa="TARGET",Ha="SET_ITEMS",Fa="CLEAR_SESSION_STATE",ja="ADVANCED",Wa="PAGE_IN_THIS_APP",Xa="PAGE_IN_DIFF_APP",Ka="URL",za={PROP:{VALUES:"staticLovValues",SORT:"staticLovSort"},GROUP:{VALUES:"VALUES"}},Qa="placeholderSetItems",Ja="ASSIGN_ITEMS",$a="orderByExpressions",Za="orderByItem",ae="EXPRESSIONS",ee="ITEM",te={PROP:{SOURCE:"source",URL:"url",BLOB_COLUMN:"blobColumn",FILENAME_COLUMN:"filenameColumn",MIME_TYPE_COLUMN:"mimeTypeColumn",LAST_UPDATED_COLUMN:"lastUpdatedColumn",URL_COLUMN:"urlColumn"},DISPLAY_GROUP:{MEDIA:"MEDIA"},SOURCES:{URL:"URL",BLOB_COLUMN:"BLOB_COLUMN",URL_COLUMN:"URL_COLUMN"}};const re="wf_params",oe="vs_vars",ie="act_vars";var le="PE_CODE_EDITOR_DLG_W",ne="PE_CODE_EDITOR_DLG_H",fe={};function se(a,e){let t=a;for(;t&&t.typeId!==e;)t=t.getParent();return t}function pe(a){return r.getMessage("PD.PE."+a)}function de(a){var e=[pe(a)].concat(Array.prototype.slice.call(arguments,1));return r.format.apply(this,e)}function ue(a){var e=[pe(a)].concat(Array.prototype.slice.call(arguments,1));return r.formatNoEscape.apply(this,e)}function ce(a){for(var e,t=/^STATIC([2])?(\(([^,]+),([^,]+)\))?:/.exec(a),r="2"===t[1]?"N":"Y",o=t[3]||",",i=t[4]||";",l=a.replace(/^STATIC[2]?(\([^,]+,[^,]+\))?:/,"").split(o),n={sort:r,values:[]},f=0;f<l.length;f++)e=l[f].split(i),n.values.push({displayValue:e[0],returnValue:e[1]?e[1]:""});return n}function ge(a,e){var t,r,o=",",i=";";if(t="STATIC","N"===a&&(t+="2"),e.length>0){for(r=0;r<e.length;r++)if(-1!==(e[r].displayValue||e[r].returnValue).search(/(,|;)/)){t+="("+(o="")+","+(i="")+")";break}for(t+=":",r=0;r<e.length;r++)t+=r>0?o:"",""!==e[r].displayValue&&""!==e[r].returnValue?t+=e[r].displayValue+i+e[r].returnValue:""===e[r].displayValue&&""!==e[r].returnValue?t+=""+i+e[r].returnValue:t+=e[r].displayValue||e[r].returnValue}return t}function me(a,e,t,r,o,i){const l=e+"_label",n=e+"_descr",f=o||t.value;a.markup("<span class='u-vh'").attr("id",n).attr(O,"true").markup(">").content(r).markup("</span><button").attr("type","button").attr("id",e).attr(v,l).attr(I,n).attr("aria-haspopup","dialog").attr("class",V+" a-Property-button "+G).attr(ka,t.propertyName).attr("value",f).optionalAttr("disabled",i).markup(">").content(r).markup("</button>")}e.widget("apex.pdPropertyEditor",{widgetEventPrefix:"pdpropertyeditor",widgetName:"",lastComponents:null,options:{mode:""},_create:function(){var g=this,m=this.options;e.apex.propertyEditor.addPropertyType(da,{init:function(a,t){const r=":not([value='"+o.escapeCSS(a.val())+"'])",i=a.find("[data-is-supported=false]").length>0;this.super("init",a,t);let l=a.html();a.find("[data-is-supported=false],[data-is-legacy=true]").filter(r).remove(),a.find("optgroup").each((function(){0===e(this).find("option").length&&e(this).remove()})),i?a.append(e("<option>").attr("value","$UNSUPPORTED$").text(pe("SHOW_UNSUPPORTED"))):a.append(e("<option>").attr("value","$LEGACY$").text(pe("SHOW_LEGACY"))),a.on(d,(function(){["$LEGACY$","$UNSUPPORTED$"].includes(a.val())&&a.empty().append(l)}))}},e.apex.propertyEditor.PROP_TYPE.SELECT_LIST),e.apex.propertyEditor.addPropertyType(na,{render:function(t,r,o,i){var l,n=[a.COMP_TYPE.LOV,a.COMP_TYPE.LIST,a.COMP_TYPE.BREADCRUMB,a.COMP_TYPE.SEARCH_CONFIG,a.COMP_TYPE.PAGE_TEMPLATE,a.COMP_TYPE.FIELD_TEMPLATE,a.COMP_TYPE.BUTTON_TEMPLATE,a.COMP_TYPE.REGION_TEMPLATE,a.COMP_TYPE.LIST_TEMPLATE,a.COMP_TYPE.BREADCRUMB_TEMPLATE,a.COMP_TYPE.CALENDAR_TEMPLATE,a.COMP_TYPE.REPORT_TEMPLATE,a.COMP_TYPE.AUTHORIZATION,a.COMP_TYPE.BUILD_OPTION,a.COMP_TYPE.AI_CONFIG,a.COMP_TYPE.DATA_LOAD_TABLE,a.COMP_TYPE.DATA_LOAD_DEF,a.COMP_TYPE.WS_REF,a.COMP_TYPE.REPORT_QUERY,a.COMP_TYPE.EMAIL_TEMPLATE],f=a.getComponentType(o.metaData.lovComponentTypeId);(f.isPageComponent||-1!==e.inArray(o.metaData.lovComponentTypeId,n))&&(l={icon:ea,text:ue("GO_TO_COMPONENT",f.title.singular)}),this.super("render",t,r,o,i,l)},init:function(t,r,o){var l=e("#"+t.attr("id")+"_btn");function n(){""!==t.val()&&/^[-!]?[0-9]*$/.test(t.val())?l.attr("disabled",!1):l.attr("disabled",!0)}this.super("init",t,r,o),l.length>0&&(t.on(d,n),n(),l.on(u,(function(){var e,t=r.value;""!==t&&(r.metaData.lovComponentTypeId!==a.COMP_TYPE.BUILD_OPTION&&r.metaData.lovComponentTypeId!==a.COMP_TYPE.AUTHORIZATION||!/^[-!]/.test(t)||(t=t.substr(1)),e=a.getComponents(r.metaData.lovComponentTypeId,{id:t})[0],i.goToComponent(e.typeId,e.id))})))}},e.apex.propertyEditor.PROP_TYPE.SELECT_LIST),e.apex.propertyEditor.addPropertyType("SWITCH BUTTON",{render:function(a,e,t){let o="DEVELOPMENT"===t.value?r.getMessage("PD.WF.ACTIVATE"):"ACTIVE"===t.value?r.getMessage("PD.WF.DEACTIVATE"):"";this.renderDivOpen(a,{class:k}),this.renderBaseInput(a,{id:e,type:"text",readonly:!0,inputClass:"a-Property-field",attributes:this.commonAttributes(t),value:this.getDisplayValue(t)}),this.renderDivClose(a),"INACTIVE"!==t.value&&(this.renderDivOpen(a,{class:"a-Property-buttonContainer"}),a.markup("<button").attr("type","button").attr("id",e+"_btn").attr("class","a-Button a-Button--small").markup(">").content(o).markup("</button>"),this.renderDivClose(a))},getDisplayValue:function(a){let e,t;if(""!==a.value){if(e=a.metaData.lovValues,"function"==typeof e&&(e=e()),e)for(let r=0;r<e.length;r++)if(e[r].r===a.value){t=e[r].d;break}}else t=a.value;return t},setValue:function(a,t,r){let i=t.metaData.lovValues(),l=e("#"+o.escapeCSS(a.attr("id"))+"_btn"),n=i.filter((a=>a.r===r))[0]?.d;n&&(this.super("setValue",a,t,n),this.updateButton(r,l))},getValue:function(a,t){let r=e("input",a).val();return t.metaData.lovValues().filter((a=>a.d===r))[0].r},init:function(a,t,r){this.super("init",a,t,r);let l=this,n=e("#"+o.escapeCSS(a.attr("id"))+"_btn");if(n.length>0){let e=r[0];n.on(u,(function(){let r="DEVELOPMENT"===t.value?"ACTIVE":"INACTIVE";i.validateVersionStateChange(e,r,(function(){l.setValue(a,t,r),a.trigger("change")}))}))}},updateButton:function(a,e){switch(a){case"ACTIVE":e.text(r.getMessage("PD.WF.DEACTIVATE")),e.show();break;case"DEVELOPMENT":e.text(r.getMessage("PD.WF.ACTIVATE")),e.show();break;case"INACTIVE":e.hide()}},destroy:function(a,e){this.super("destroy",a,e)}}),e.apex.propertyEditor.addPropertyType("SUBSCRIPTION",{render:function(a,e,t){this.renderDivOpen(a,{class:k}),t.value?me(a,e,t,r.getMessage("PD.UNSUBSCRIBE")):me(a,e,t,r.getMessage("PD.NOT_SUBSCRIBED"),t.value,!0),this.renderDivClose(a)},init:function(a,e,t){this.super("init",a,e,t);let r=this.getButton(a);r.length>0&&r.on(u,(function(){i.openUnsubscribeDialog()}))},getButton:function(a){return e("#"+o.escapeCSS(a.attr("id")))},destroy:function(a,e){this.super("destroy",a,e)}}),e.apex.propertyEditor.addPropertyType(fa,{_getButtonText:function(a,e){var t=pe("LINK.NO_LINK_DEFINED");const r=[];return a&&(a!==g.element.propertyEditor("getValueVariesConstant")?(e&&C.includes(e.typeId)&&r.push(...R),t=i.splitApexUrl(a,null,r).display):t=""),t},_getDisplayGroupTarget:function(a){return{displayGroupId:qa,displayGroupTitle:pe("LINK.DG.TARGET"),properties:a||[]}},_getDisplayGroupSetItems:function(a){return{displayGroupId:Ha,displayGroupTitle:pe("LINK.DG.SET_ITEMS"),properties:a||[]}},_getDisplayGroupClearSessionState:function(a){return{displayGroupId:Fa,displayGroupTitle:pe("LINK.DG.CLEAR_SESSION"),properties:a||[]}},_getDisplayGroupAdvanced:function(a){var e,t=!0;if(a)for(e=0;e<a.length;e++)if(a[e].value){t=!1;break}return{displayGroupId:ja,displayGroupTitle:pe("LINK.DG.ADVANCED"),collapsed:t,properties:a||[]}},_getPropertyLinkType:function(a){return e.extend(!0,{propertyName:Sa,value:"",metaData:{type:e.apex.propertyEditor.PROP_TYPE.SELECT_LIST,prompt:pe("TYPE"),isRequired:!0,lovValues:[{d:pe("LINK.TYPE.PAGE_IN_THIS_APP"),r:Wa},{d:pe("LINK.TYPE.PAGE_IN_DIFF_APP"),r:Xa},{d:pe("LINK.URL"),r:Ka}],displayGroupId:qa},errors:[],warnings:[]},a)},_getPropertyLinkApp:function(a){return e.extend(!0,{propertyName:Na,value:"",metaData:{type:e.apex.propertyEditor.PROP_TYPE.TEXT,prompt:pe("APPLICATION"),isRequired:!0,displayGroupId:qa},errors:[],warnings:[]},a)},_getPropertyLinkPage:function(a){return e.extend(!0,{propertyName:wa,value:"",metaData:{type:pa,prompt:pe("LINK.PAGE"),isRequired:!0,displayGroupId:qa},errors:[],warnings:[]},a)},_getPropertyLinkUrl:function(a){return e.extend(!0,{propertyName:Da,value:"",metaData:{type:e.apex.propertyEditor.PROP_TYPE.TEXT,prompt:pe("LINK.URL"),isRequired:!0,displayGroupId:qa},errors:[],warnings:[]},a)},_getPropertyLinkSetItems:function(a,t){return e.extend(!0,{propertyName:Ma,value:{names:[],values:[]},metaData:{type:ya,prompt:pe("LINK.DG.SET_ITEMS"),displayGroupId:Ha,originalProperty:t},errors:[],warnings:[]},a)},_getPropertyLinkClearCache:function(a){return e.extend(!0,{propertyName:xa,value:"",metaData:{prompt:pe("LINK.CLEAR_CACHE"),type:pa,multiValueDelimiter:",",displayGroupId:Fa},errors:[],warnings:[]},a)},_getPropertyLinkClearAction:function(a){return e.extend(!0,{propertyName:Va,value:"Y",metaData:{prompt:pe("LINK.CLEAR_ACTION"),type:e.apex.propertyEditor.PROP_TYPE.PILL_BUTTONS,lovValues:[{d:pe("LINK.CLEAR_ACTION.NONE"),r:"NONE"},{d:pe("LINK.CLEAR_ACTION.CLEAR_REGIONS"),r:"CR"},{d:pe("LINK.CLEAR_ACTION.RESET_REGIONS"),r:"RR"},{d:pe("LINK.CLEAR_ACTION.RESET_PAGINATION"),r:"RP"}],displayGroupId:Fa,isRequired:!0},errors:[],warnings:[]},a)},_getPropertyLinkRequest:function(a){return e.extend(!0,{propertyName:Ga,value:"",metaData:{type:e.apex.propertyEditor.PROP_TYPE.TEXT,prompt:pe("LINK.REQUEST"),displayGroupId:ja},errors:[],warnings:[]},a)},_getPropertyLinkAnchor:function(a){return e.extend(!0,{propertyName:Ba,value:"",metaData:{type:e.apex.propertyEditor.PROP_TYPE.TEXT,prompt:pe("LINK.ANCHOR"),displayGroupId:ja},errors:[],warnings:[]},a)},_getPropertyLinkSuccessMessage:function(a){return e.extend(!0,{propertyName:Ya,value:"Y",metaData:{prompt:pe("LINK.SUCCESS_MESSAGE"),type:e.apex.propertyEditor.PROP_TYPE.YES_NO,noValue:"N",yesValue:"Y",displayGroupId:ja,isRequired:!0},errors:[],warnings:[]},a)},noLabel:!0,render:function(a,e,t,r){this.renderDivOpen(a,{class:k}),me(a,e,t,this._getButtonText(t.value,r[0])),this.renderDivClose(a)},setValue:function(a,e,t,r){this.super("setValue",a,e,t,r);const o=this._getButtonText(t,r?r[0]:void 0);a.text(o).attr("title",o)},init:function(t,l,n){const f=[];var s,p,d=[],u=this,c=n[0],g=a.getComponentType(n[0].typeId).id;if(this.addLabelClickHandler(t,l),this.addTooltipsForErrors(t,l),C.includes(g)){for(p=a.getItemsLov({type:"columns",component:c}),s=0;s<p.length;s++)d.push(p[s].name);f.push(...d,...R)}t.closest("div."+b).on("click","#"+t.attr("id"),(function(){var s,p,d,c=o.htmlBuilder(),g=t.val(),m=i.splitApexUrl(g,null,f),E=[],h=a.getComponentType(n[0].typeId).id,y=!1,P=!1,_=!1,T=!1,O=l.metaData.isRequired,v=l.metaData.isReadOnly;if([a.COMP_TYPE.CARD_ACTION,a.COMP_TYPE.REGION_ACTION,a.COMP_TYPE.IR_COLUMN_ACTION,a.COMP_TYPE.REGION_ACTION_MENU_ENTRY,a.COMP_TYPE.IR_COL_ACTION_MENU_ENTRY].includes(h))_=!0;else switch(h){case a.COMP_TYPE.BRANCH:y=!0;break;case a.COMP_TYPE.BUTTON:P=!0;break;case a.COMP_TYPE.JET_CHART_SERIES:T=!0}if(P||_||T){let e;switch(P?e=a.PROP.BUTTON_ACTION:_?e=a.PROP.ACTION_LINK_TARGET_TYPE:T&&(e=a.PROP.LINK_TARGET_TYPE),n[0].getProperty(e).getValue()){case"REDIRECT_URL":p=i.LINK_TYPE.URL,d=g;break;case"REDIRECT_PAGE":p=i.LINK_TYPE.PAGE_IN_THIS_APP;break;case"REDIRECT_APP":p=i.LINK_TYPE.PAGE_IN_DIFF_APP}}else p=m.type,d=m.url;function I(a){var e,t,r;for(e=0;e<E.length;e++)for(t=0;t<E[e].properties.length;t++)if(E[e].properties[t].propertyName===a){r=E[e].properties[t];break}return r}E.push(u._getDisplayGroupTarget([u._getPropertyLinkType({value:p,metaData:{isReadOnly:v||P||_||T,isRequired:O}}),u._getPropertyLinkApp({value:p===i.LINK_TYPE.PAGE_IN_DIFF_APP?m.appId:"",metaData:{isReadOnly:l.metaData.isReadOnly}}),u._getPropertyLinkPage({value:m.pageId,metaData:{isReadOnly:l.metaData.isReadOnly}}),u._getPropertyLinkUrl({value:d,metaData:{isReadOnly:l.metaData.isReadOnly}})])),E.push(u._getDisplayGroupSetItems([u._getPropertyLinkSetItems({value:{names:m.itemNames,values:m.itemValues},metaData:{isReadOnly:l.metaData.isReadOnly}},l)])),E.push(u._getDisplayGroupClearSessionState([u._getPropertyLinkClearCache({value:m.clearCache,metaData:{isReadOnly:l.metaData.isReadOnly}}),u._getPropertyLinkClearAction({value:m.clearAction,metaData:{isReadOnly:l.metaData.isReadOnly}})]));var R=[];R.push(u._getPropertyLinkRequest({value:m.request,metaData:{isReadOnly:l.metaData.isReadOnly}})),R.push(u._getPropertyLinkAnchor({value:m.anchor,metaData:{isReadOnly:l.metaData.isReadOnly}})),y&&R.push(u._getPropertyLinkSuccessMessage({value:m.successMessage,metaData:{isReadOnly:l.metaData.isReadOnly}})),E.push(u._getDisplayGroupAdvanced(R)),c.markup("<div").attr("id","linkDlg").attr("title",ue("LINK.TITLE",l.metaData.prompt)).markup(">").markup("<div").attr("id","linkDlgPE").markup(">").markup("</div>").markup("</div>"),s=e(c.toString()).dialog({modal:!0,closeText:r.getMessage("APEX.DIALOG.CLOSE"),minWidth:400,width:520,dialogClass:oa,create:function(){e(this).closest(".ui-dialog").attr("aria-modal",!0)},close:function(){e("#linkDlgPE").propertyEditor("destroy"),s.dialog("destroy")},open:function(){function a(a){var e={metaData:{isReadOnly:l.metaData.isReadOnly}};switch(a){case Wa:t.propertyEditor("removeProperty",Da),t.propertyEditor("removeProperty",Na),t.propertyEditor("addProperty",{property:u._getPropertyLinkPage(e),prevPropertyName:Sa,displayGroup:u._getDisplayGroupTarget()}),t.propertyEditor("addProperty",{property:u._getPropertyLinkSetItems(e,l),displayGroup:u._getDisplayGroupSetItems(),prevDisplayGroupId:qa}),t.propertyEditor("addProperty",{property:u._getPropertyLinkClearCache(e),displayGroup:u._getDisplayGroupClearSessionState(),prevDisplayGroupId:Ha}),t.propertyEditor("addProperty",{property:u._getPropertyLinkClearAction(e),displayGroup:u._getDisplayGroupClearSessionState(),prevDisplayGroupId:Ha}),t.propertyEditor("addProperty",{property:u._getPropertyLinkRequest(e),displayGroup:u._getDisplayGroupAdvanced(),prevDisplayGroupId:Fa}),t.propertyEditor("addProperty",{property:u._getPropertyLinkAnchor(e),displayGroup:u._getDisplayGroupAdvanced(),prevDisplayGroupId:Fa}),y&&t.propertyEditor("addProperty",{property:u._getPropertyLinkSuccessMessage(e),prevPropertyName:Ua,displayGroup:u._getDisplayGroupAdvanced(),prevDisplayGroupId:Fa});break;case Xa:t.propertyEditor("removeProperty",Da),t.propertyEditor("addProperty",{property:u._getPropertyLinkApp(e),prevPropertyName:Sa,displayGroup:u._getDisplayGroupTarget()}),t.propertyEditor("addProperty",{property:u._getPropertyLinkPage(e),prevPropertyName:Na,displayGroup:u._getDisplayGroupTarget()}),t.propertyEditor("addProperty",{property:u._getPropertyLinkSetItems(e,l),displayGroup:u._getDisplayGroupSetItems(),prevDisplayGroupId:qa}),t.propertyEditor("addProperty",{property:u._getPropertyLinkClearCache(e),displayGroup:u._getDisplayGroupClearSessionState(),prevDisplayGroupId:Ha}),t.propertyEditor("addProperty",{property:u._getPropertyLinkClearAction(e),displayGroup:u._getDisplayGroupClearSessionState(),prevDisplayGroupId:Ha}),t.propertyEditor("addProperty",{property:u._getPropertyLinkRequest(e),displayGroup:u._getDisplayGroupAdvanced(),prevDisplayGroupId:Fa}),t.propertyEditor("addProperty",{property:u._getPropertyLinkAnchor(e),displayGroup:u._getDisplayGroupAdvanced(),prevDisplayGroupId:Fa}),y&&t.propertyEditor("addProperty",{property:u._getPropertyLinkSuccessMessage(e),prevPropertyName:Ua,displayGroup:u._getDisplayGroupAdvanced(),prevDisplayGroupId:Fa});break;case Ka:t.propertyEditor("removeProperty",Na),t.propertyEditor("removeProperty",wa),t.propertyEditor("removeProperty",Ma),t.propertyEditor("removeProperty",Ga),t.propertyEditor("removeProperty",Ba),t.propertyEditor("removeProperty",xa),t.propertyEditor("removeProperty",Va),t.propertyEditor("removeProperty",Ya),t.propertyEditor("addProperty",{property:u._getPropertyLinkUrl(e),prevPropertyName:Sa,displayGroup:u._getDisplayGroupTarget()});break;default:t.propertyEditor("removeProperty",Na),t.propertyEditor("removeProperty",wa),t.propertyEditor("removeProperty",Ma),t.propertyEditor("removeProperty",Ga),t.propertyEditor("removeProperty",Ba),t.propertyEditor("removeProperty",xa),t.propertyEditor("removeProperty",Va),t.propertyEditor("removeProperty",Ya),t.propertyEditor("removeProperty",Da)}}var t=e("#linkDlgPE");t.propertyEditor({focusPropertyName:Sa,data:{propertySet:E,multiEdit:!1,lastComponents:n},change:function(e,t){t.propertyName===Sa&&a(I(Sa).value),I(t.propertyName).value=t.property.value}}),a(I(Sa).value),e("#linkDlg").dialog({position:{my:"center",at:"center",of:window}})},buttons:[{text:pe("CANCEL"),click:function(){s.dialog("close")}},{text:pe("CLEAR"),disabled:O||v,click:function(){e("#linkDlgPE").propertyEditor("updatePropertyValue",Sa,""),u.setValue(t,l,""),t.trigger("change"),u.setFocus(t),s.dialog("close")}},{text:pe("OK"),class:U,disabled:v,click:function(){var a,r,o,i,f=[];function p(a,e){var t=I(a);return t.errors.push(e),t}if((a=I(Sa).value)===Wa||a===Xa?(a===Xa&&""===I(Na).value&&f.push(p(Na,pe("IS_REQUIRED"))),""===I(wa).value&&f.push(p(wa,pe("IS_REQUIRED"))),0===f.length&&(r="f?p="+(a===Wa?"&APP_ID.":I(Na).value)+":"+I(wa).value+":&SESSION.:"+I(Ga).value+":&DEBUG.:"+(o=I(xa).value,("NONE"===(i=I(Va).value)?o:i+","+o)+":")+(I(Ma).value.names||[]).join(",")+":"+(I(Ma).value.values||[]).join(","),I(Ba).value&&(r+="#"+I(Ba).value),y&&"Y"===I(Ya).value&&(r+="&success_msg=#SUCCESS_MSG#"))):a===Ka&&(""===I(Da).value&&f.push(p(Da,pe("IS_REQUIRED"))),0===f.length&&(r=I(Da).value)),0===f.length)u.setValue(t,l,r,n),t.trigger("change"),s.dialog("close");else for(var d=0;d<f.length;d++)e("#linkDlgPE").propertyEditor("updateProperty",f[d])}}]})}))}}),e.apex.propertyEditor.addPropertyType(ya,{stacked:!0,noLabel:!0,labelVisible:!1,minHeight:85,maxHeight:122,render:function(a,e,t){let r=e+"_label";a.markup("<div").attr("id",e).attr("class",k).attr(ka,t.propertyName).markup(">"),a.markup("<table role='grid'").attr("class",N).attr(v,r).markup(">").markup("<tr>").markup("<th").attr(y,P).attr("class",S).markup(">").content(pe("NAME")).markup("</th>").markup("<th").attr(y,P).attr("class",ra).markup(">").content(pe("LINK.NAME_LIST_OF_VALUES")).markup(">").markup("</th>").markup("<th").attr(y,P).attr("class",S).markup(">").content(pe("LINK.VALUE")).markup("</th>").markup("<th").attr(y,P).attr("class",ra).markup(">").content(pe("LINK.VALUE_LIST_OF_VALUES")).markup(">").markup("</th>").markup("<th").attr("class",ra).markup(">").content(pe("LINK.REMOVE")).markup("</th>").markup("</tr>");for(var o=0;o<t.value.names.length;o++)this._renderLinkItemsRow(a,{rowId:o+1,idPrefix:e,name:t.value.names[o],value:t.value.values[o],readOnly:t.metaData.isReadOnly});t.metaData.isReadOnly||this._renderLinkItemsRow(a,{rowId:t.value.names.length+1,idPrefix:e}),a.markup("</table>"),this.renderDivClose(a)},init:function(t,r,i){var l={columnDefinitions:[{name:"name",title:pe("NAME"),alignment:"left",isRowHeader:!0},{name:"label",title:pe("LABEL"),alignment:"left"}],filterLov:function(t,r){var o,l="page";switch(t.scope){case"application":l="application",o="";break;case"current_page":o=a.getCurrentPageId();break;case"global_page":o=a.getGlobalPageId();break;case"target_page":o=e("#linkDlg").find("[data-property-id="+wa+"]").val();break;case"custom_page":o=t.customPageNumber;break;case"columns":l="columns"}a.getItemsLov({type:l,component:i[0],pageId:o},(function(a){r(a,t.search)}))},multiValue:!1,dialogTitle:ue("PICK",r.metaData.prompt)};function n(a){var t=o.htmlBuilder(),r=l.filters;t.markup("<div").attr("id","lovDlg").attr("title",l.dialogTitle).markup(">").markup("</div>"),e(t.toString()).lovDialog({modal:!0,minWidth:520,height:500,filters:r,columnDefinitions:l.columnDefinitions,filterLov:l.filterLov,dialogClass:oa,resizable:!1,multiValue:l.multiValue,valueSelected:function(t,r){var o=r[l.columnDefinitions[0].name],i=e("#"+a);r.valueFormatting&&"function"==typeof r.valueFormatting&&(o=r.valueFormatting(o)),i.val(o).trigger("change")}})}var f=this,s=t.closest("div."+b),p=t.attr("id");r.metaData.isReadOnly||s.on("change","input."+B+":last",(function(){var a=o.htmlBuilder(),t=o.htmlBuilder(),r=e(this);if(r.val()){var i=e("input."+B).length;f._renderLinkItemsRow(a,{rowId:i+1,idPrefix:p}),f.renderIconButton(t,{id:p+"_rowRemove_"+i,icon:J,text:de("LINK.REMOVE_ITEM_N",i)}),r.closest("tr").find("td:last").html(t.toString()).end().after(a.toString())}})).on("click","button[id^="+p+"_rowRemove_]",(function(){var a=e(this).closest("tr").next("tr").find(":input:first");e(this).closest("tr").remove(),a.trigger("change").trigger("focus")})).on("click","button[id^="+p+"_nameLovBtn_]",(function(){l.filters=[{name:"scope",title:pe("ITEM_SCOPE"),type:"buttonset",defaultValue:"target_page",lov:[{display:pe("TARGET_PAGE"),value:"target_page"},{display:pe("CURRENT_PAGE"),value:"current_page"},{display:pe("CUSTOM_PAGE"),value:"custom_page",filters:[{name:"customPageNumber",title:pe("PAGE_NUMBER"),type:"text",isRequired:!0}]},{display:pe("GLOBAL_PAGE"),value:"global_page"},{display:pe("APPLICATION"),value:"application"}]},{name:"search",title:pe("SEARCH"),type:"search"}],n(e(this).data("for"))})).on("click","button[id^="+p+"_valueLovBtn_]",(function(){let t,o,f,s=r.metaData.originalProperty;function p(e){return"&"+a.enquoteIdentifier(e)+"."}for(l.filters=[{name:"scope",title:pe("ITEM_SCOPE"),type:"buttonset",defaultValue:"current_page",lov:[{display:pe("TARGET_PAGE"),value:"target_page",valueFormatting:function(a){return p(a)}},{display:pe("CURRENT_PAGE"),value:"current_page",valueFormatting:function(a){return p(a)}},{display:pe("CUSTOM_PAGE"),value:"custom_page",valueFormatting:function(a){return p(a)},filters:[{name:"customPageNumber",title:pe("PAGE_NUMBER"),type:"text",isRequired:!0}]},{display:pe("GLOBAL_PAGE"),value:"global_page",valueFormatting:function(a){return p(a)}},{display:pe("APPLICATION"),value:"application",valueFormatting:function(a){return p(a)}}]},{name:"search",title:pe("SEARCH"),type:"search"}],t=0;t<l.filters.length;t++)if(f=l.filters[t],"scope"===f.name&&"ROW"===s.metaData.referenceScope)for(f.defaultValue="columns",o=0;o<f.lov.length;o++)if("target_page"===f.lov[o].value){f.lov[o]={display:pe("COLUMNS"),value:"columns",valueFormatting:function(t){var r;return r=a.getComponentType(i[0].typeId).id,-1!==e.inArray(r,C)?"#"+t+"#":p(t)}};break}n(e(this).data("for"))})),this.addLabelClickHandler(t,r)},setFocus:function(a){a.find(":input:first").trigger("focus")},getValue:function(a){var t,r,o=[],i=[];return a.find("tr."+q).each((function(){t=e(this).find(":input."+B),r=e(this).find(":input."+Y),""!==t.val()&&(o.push(t.val()),i.push(r.val()))})),{names:o,values:i}},_renderLinkItemsRow:function(a,t){var r,o,i=e.extend({rowId:"",idPrefix:"",name:"",value:"",readOnly:!1},t);r=i.idPrefix+"_name_"+i.rowId,o=i.idPrefix+"_value_"+i.rowId,a.markup("<tr").attr("class",q).markup(">"),a.markup("<td>"),this.renderBaseInput(a,{id:r,value:i.name,inputClass:[B,A,L],readonly:i.readOnly,attributes:{"aria-label":de("LINK.ITEM_N_NAME",i.rowId)}}),a.markup("</td>"),a.markup("<td>"),this.renderIconButton(a,{id:i.idPrefix+"_nameLovBtn_"+i.rowId,icon:aa,text:de("LINK.ITEM_N_NAME_LOV",i.rowId),dataFor:r,disabled:i.readOnly}),a.markup("</td>"),a.markup("<td>"),this.renderBaseInput(a,{id:o,value:i.value,inputClass:[Y,A,L],readonly:i.readOnly,attributes:{"aria-label":de("LINK.ITEM_N_VALUE",i.rowId)}}),a.markup("</td>"),a.markup("<td>"),this.renderIconButton(a,{id:i.idPrefix+"_valueLovBtn_"+i.rowId,icon:aa,text:de("LINK.ITEM_N_VALUE_LOV",i.rowId),dataFor:o,disabled:i.readOnly}),a.markup("</td>"),a.markup("<td").attr("class",w).markup(">"),i.name&&this.renderIconButton(a,{id:i.idPrefix+"_rowRemove_"+i.rowId,icon:J,text:de("LINK.REMOVE_ITEM_N",i.rowId),disabled:i.readOnly}),a.markup("</td>"),a.markup("</tr>")}}),e.apex.propertyEditor.addPropertyType("ORDER BY ITEM",{_addItemLOVDisplayValues:function(e,t){var r,o,i,l,n,f,s=e;return e.itemName&&""!==e.itemName&&(r=a.getComponents(a.COMP_TYPE.PAGE_ITEM,{properties:[{id:a.PROP.ITEM_NAME,value:e.itemName}]}))&&r.length>0&&"STATIC"===((i=(o=r[0])._properties[a.PROP.LOV_TYPE])?i._value:"")&&(l=o._properties[a.PROP.LOV_STATIC_VALUES])&&ce(l._value).values.forEach((function(a){for(f=!1,n=0;n<s.orderBys.length;n++)if(s.orderBys[n].key===a.returnValue){s.orderBys[n].display=a.displayValue,f=!0;break}t&&!f&&s.orderBys.push({key:a.returnValue,display:a.displayValue})})),s},_getOrderByObject:function(a){var r,o={};if(a&&""!==a)try{o=JSON.parse(a)}catch(a){t.error("Invalid Order By JSON; returning empty object.",a)}return""!==(r=e.extend(!0,{orderBys:[],itemName:""},o)).itemName&&(r=this._addItemLOVDisplayValues(r,!1)),r},_getButtonText:function(a){var e=this._getOrderByObject(a),t=""!==e.itemName?e.itemName:pe("ORDER_BY_ITEM.NO_ITEM");return""!==e.itemName||e.orderBys.length>0?0===e.orderBys.length?de("ORDER_BY_ITEM.BUTTON_TEXT_0",t):1===e.orderBys.length?de("ORDER_BY_ITEM.BUTTON_TEXT_1",t):de("ORDER_BY_ITEM.BUTTON_TEXT_N",t,e.orderBys.length):pe("ORDER_BY_ITEM.BUTTON_TEXT_NULL")},_getDisplayGroupOrderByExpressions:function(a){return{displayGroupId:ae,displayGroupTitle:pe("ORDER_BY_ITEM.EXPRESSIONS"),properties:a||[]}},_getDisplayGroupOrderByItem:function(a){return{displayGroupId:ee,displayGroupTitle:pe("ORDER_BY_ITEM.ITEM"),properties:a||[]}},_getPropertyOrderByExpressions:function(a,t){return e.extend(!0,{propertyName:$a,value:a,metaData:{type:Ta,prompt:pe("ORDER_BY_ITEM.EXPRESSIONS"),displayGroupId:ae,originalProperty:t},errors:[],warnings:[]},a)},_getPropertyOrderByItem:function(a,t){return e.extend(!0,{propertyName:Za,value:a,noLabel:!0,metaData:{type:sa,textCase:"UPPER",prompt:pe("ORDER_BY_ITEM.PICK_ITEM"),displayGroupId:ee,originalProperty:t,isRequired:!0},errors:[],warnings:[]},a)},noLabel:!0,render:function(a,e,t){this.renderDivOpen(a,{class:k}),me(a,e,t,this._getButtonText(t.value)),this.renderDivClose(a)},setValue:function(a,e,t,r){var o;this.super("setValue",a,e,t,r),o=this._getButtonText(t),a.text(o).attr("title",o)},init:function(i,l,n){var f=this,s="orderByEditDlg",p=s+"PE";this.addLabelClickHandler(i,l),this.addTooltipsForErrors(i,l),i.closest("div."+b).on("click","#"+i.attr("id"),(function(){var d,u=o.htmlBuilder(),c=[],g=f._getOrderByObject(l.value),m=l.metaData.isReadOnly;function E(a){var e;for(let t=0;t<c.length;t++)for(let r=0;r<c[t].properties.length;r++)if(c[t].properties[r].propertyName===a){e=c[t].properties[r];break}return e}function h(t,r,i){var l,n,s,d,u,c,g=!0;r&&""!==r&&(l=a.getComponents(a.COMP_TYPE.PAGE_ITEM,{properties:[{id:a.PROP.ITEM_NAME,value:r}]}))&&l.length>0&&((n=l[0]._properties[a.PROP.LOV_TYPE])&&"STATIC"===n._value?i&&(s=f._addItemLOVDisplayValues({itemName:r,orderBys:[]},!0),d=E($a),s.orderBys.forEach((function(a){for(c=!1,u=0;u<d.value.length;u++)d.value[u].key===a.key&&(c=!0,d.value[u].display&&""!==d.value[u].display||(d.value[u].display=a.display));c||d.value.push({key:a.key,display:a.display,expr:""})})),e("#"+p).propertyEditor("updateProperty",d)):g=!1),0===e("#"+p+"_itemInfoMsg").length&&e("#"+p+" div[data-group-id='"+ae+"']").append((new o.htmlBuilder).markup("<div").attr("id",p+"_itemInfoMsg").attr("aria-live","polite").attr("class",k+" a-PropertyEditor-messageText").markup("></div>").toString()),g?(e("#"+p+"_keyValHdr").css("width","15%"),e(t).find("."+K).show(),e("#"+p+"_itemInfoMsg").html(pe("ORDER_BY_ITEM.INFO_ITEM_INLINE_STATIC_LOV"))):(e("#"+p+"_keyValHdr").css("width","40%"),e(t).find("."+K).hide(),e("div#"+p+"_itemInfoMsg").html(pe("ORDER_BY_ITEM.INFO_ITEM_SHARED_LOV")))}c.push(f._getDisplayGroupOrderByExpressions([f._getPropertyOrderByExpressions({value:g.orderBys,metaData:{isReadOnly:l.metaData.isReadOnly}},l)])),c.push(f._getDisplayGroupOrderByItem([f._getPropertyOrderByItem({value:g.itemName,metaData:{isReadOnly:l.metaData.isReadOnly}},l)])),u.markup("<div").attr("id",s).attr("title",pe("ORDER_BY_ITEM.TITLE")).markup(">").markup("<div").attr("id",p).markup(">").markup("</div>").markup("</div>"),d=e(u.toString()).dialog({modal:!0,closeText:r.getMessage("APEX.DIALOG.CLOSE"),minWidth:400,width:720,dialogClass:oa,create:function(){e(this).closest(".ui-dialog").attr("aria-modal",!0)},close:function(){e("#"+p).propertyEditor("destroy"),d.dialog("destroy")},open:function(){var t,r=e("#"+p);function o(a){var e={value:a,metaData:{isReadOnly:l.metaData.isReadOnly}};r.propertyEditor("addProperty",{property:f._getPropertyOrderByExpressions(e,l),displayGroup:f._getDisplayGroupOrderByExpressions()})}r.propertyEditor({focusPropertyName:$a,data:{propertySet:c,multiEdit:!1,lastComponents:n},change:function(a,e){e.propertyName===$a?o(E($a).value):e.property.propertyName===Za&&h(this,e.property.value.toUpperCase(),!0),E(e.propertyName).value=e.property.value}}),""===g.itemName?(t=E(Za),0===g.orderBys.length?t.value="P"+a.getCurrentPageId()+"_ORDER_BY":t.errors.push(pe("IS_REQUIRED")),r.propertyEditor("updateProperty",t),h(r,t.value,!0)):h(r,g.itemName,!1),o(E($a).value),e("#"+s).dialog({position:{my:"center",at:"center",of:window}})},buttons:[{text:pe("CANCEL"),click:function(){d.dialog("close")}},{text:pe("CLEAR"),click:function(){var a=i.attr("id");f.setValue(i,l,""),i.trigger("change"),d.dialog("close"),e("#"+a).trigger("focus")}},{text:pe("OK"),class:U,disabled:m,click:function(){var o,s=E(Za).value.toUpperCase(),u={orderBys:E($a).value,itemName:s},c=[],g={},m=!1,y=i.attr("id");function P(a){E(a).errors=[]}function _(a,e){var t=E(a);return t.errors.push(e),t}if(P(Za),P($a),""===u.itemName&&c.push(_(Za,pe("IS_REQUIRED"))),0===u.orderBys.length)g[0]=pe("ORDER_BY_ITEM.CLAUSE_1_IS_REQUIRED"),m=!0;else for(o=0;o<u.orderBys.length;o++)""===u.orderBys[o].expr&&(g[o.toString()]=de("ORDER_BY_ITEM.CLAUSE_N_IS_REQUIRED",o+1),m=!0);if(m&&c.push(_($a,g)),0===c.length){for(function(){var o,i,l,f,p,d,u,c,g,m,h,y,P=!0,_="",T={sort:"N",values:[]};if(s&&""!==s)if(E($a).value.forEach((function(a){_=""===_?a.key:_,T.values.push({displayValue:a.display&&""!==a.display?a.display:a.key,returnValue:a.key})})),p=ge(T.sort,T.values),(o=a.getComponents(a.COMP_TYPE.PAGE_ITEM,{properties:[{id:a.PROP.ITEM_NAME,value:s}]}))&&o.length>0)u=(i=o[0]).getProperty(a.PROP.LOV_TYPE),(f=i.getProperty(a.PROP.ITEM_DEFAULT_TYPE))&&"STATIC_TEXT_WITH_SUBSTITUTIONS"===f.getValue()&&(P=!1,(l=i.getProperty(a.PROP.ITEM_DEFAULT_STATIC_TEXT))&&T.values.forEach((function(a){a.key===l.getValue()&&(P=!0)}))),u&&(d=u.getValue()),"STATIC"===d?(c=i.getProperty(a.PROP.LOV_STATIC_VALUES),l=i.getProperty(a.PROP.ITEM_DEFAULT_STATIC_TEXT),y=a.transaction.message({action:a.MESSAGE_ACTION.CHANGE,component:i,property:c}),h=a.transaction.start("",y),c.setValue(p),!P&&l&&l.setValue(_),apex.commandHistory.execute(h)):t.info("Page Item uses a Shared LOV or a SQL Query. Do nothing.");else if((g=a.getComponents(a.COMP_TYPE.APP_ITEM,{properties:[{id:a.PROP.ITEM_NAME,value:s}]}))&&0!==g.length)t.info("App item referenced. Do nothing.");else if(n&&n.length>0){for(y=a.transaction.message({action:a.MESSAGE_ACTION.CREATE,component:a.COMP_TYPE.PAGE_ITEM}),h=a.transaction.start("",y),m=n[0];-1===e.inArray(m.typeId,[a.COMP_TYPE.REGION,a.COMP_TYPE.PAGE]);)m=m.getParent();const t=m.id,o=a.getSlot({componentTypeId:a.COMP_TYPE.PAGE_ITEM,regionId:t,slotPlaceholder:["PLUGIN_ORDER_BY_ITEM","ORDER_BY_ITEM"]}),i=o?.placeholder||"BODY";new a.Component({typeId:a.COMP_TYPE.PAGE_ITEM,parentId:t,values:[{id:a.PROP.ITEM_NAME,value:s},{id:a.PROP.REGION,value:t},{id:a.PROP.ITEM_LABEL,value:r.getMessage("APEXAPP.ITEM.ORDER_BY")},{id:a.PROP.ITEM_TYPE,value:"NATIVE_SELECT_LIST"},{id:a.PROP.LOV_TYPE,value:"STATIC"},{id:a.PROP.VALUE_REQUIRED,value:"Y"},{id:a.PROP.SLOT_PLACEHOLDER,value:i},{id:a.PROP.LOV_DISPLAY_EXTRA,value:"N"},{id:a.PROP.ITEM_WARN_ON_UNSAVED_CHANGES,value:"I"},{id:a.PROP.LOV_DISPLAY_NULL,value:"N"},{id:a.PROP.LOV_STATIC_VALUES,value:p},{id:a.PROP.ITEM_DEFAULT_TYPE,value:"STATIC_TEXT_WITH_SUBSTITUTIONS"},{id:a.PROP.ITEM_DEFAULT_STATIC_TEXT,value:_}]}),apex.commandHistory.execute(h)}}(),o=0;o<u.orderBys.length;o++)delete u.orderBys[o].display;f.setValue(i,l,JSON.stringify(u)),i.trigger("change"),d.dialog("close"),e("#"+y).trigger("focus")}else{for(o=0;o<c.length;o++)e("#"+p).propertyEditor("updateProperty",c[o]);h(d,u.itemName,!1)}}}]})}))}}),e.apex.propertyEditor.addPropertyType(Ta,{stacked:!0,noLabel:!0,labelVisible:!1,minHeight:200,maxHeight:500,render:function(a,e,t){var r=e+"_label",o="orderByEditDlgPE",i=this,l=1,n="";a.markup("<div").attr("id",e).attr("class",k).attr(v,r).attr(I,o+"_itemInfoMsg").attr(_,T).attr(ka,t.propertyName).markup(">"),a.markup("<table").attr("class",N).markup(">").markup("<caption").attr("class",ra).markup(">").content(pe("ORDER_BY_ITEM.EXPRESSIONS")).markup("</caption>").markup("<tr>").markup("<th").attr(y,P).attr("style","width: 50%").attr("class",S).markup(">").content(pe("ORDER_BY_ITEM.EXPRESSION")).markup("</th>").markup("<th").attr("class",ra).markup(">").content(pe("ORDER_BY_ITEM.OPEN_CODE_EDITOR")).markup("</th>").markup("<th").attr("id",o+"_keyValHdr").attr(y,P).attr("class",S).attr("style","width: 15%").markup(">").content(pe("ORDER_BY_ITEM.KEY")).markup("</th>").markup("<th").attr(y,P).attr("class",S+" "+K).attr("style","width: 25%").markup(">").content(pe("ORDER_BY_ITEM.DISPLAY")).markup("</th>").markup("<th").attr("class",ra).markup(">").content(pe("LINK.REMOVE")).markup("</th>").markup("<th").attr("class",ra+" "+K).markup(">").content(pe("STATIC_LOV.MOVE_UP")).markup("</th>").markup("<th").attr("class",ra+" "+K).markup(">").content(pe("STATIC_LOV.MOVE_DOWN")).markup("</th>").markup("</tr>"),t.value.forEach((function(r){n="",t.errors&&t.errors[0]&&t.errors[0][(l-1).toString()]&&(n=t.errors[0][(l-1).toString()]),i._renderOrderBysRow(a,{rowId:l,errorMsg:n,idPrefix:e,lastRow:!1,expression:r.expr,key:r.key,display:r.display,readOnly:t.metaData.isReadOnly}),l+=1})),n="",0===t.value.length&&t.errors&&t.errors[0]&&(n=t.errors[0][0]),t.metaData.isReadOnly||i._renderOrderBysRow(a,{rowId:l,lastRow:!0,errorMsg:n,idPrefix:e}),a.markup("</table>"),this.renderDivClose(a)},init:function(i,l){var f=this,s=i.closest("div."+b),p=i.attr("id");function d(a,e,t){var r=a.filter("input."+t),o=e.filter("input."+t),i=r.val(),l=o.val();r.val(l),o.val(i)}l.metaData.isReadOnly||s.on("change","input."+W+":last",(function(){var a=e(this).closest("tr").next("tr"),t=o.htmlBuilder(),r=o.htmlBuilder(),l=e(this);if(l.val()&&0===a.length){var n=e("input."+W).length;f._renderOrderBysRow(t,{rowId:n+1,lastRow:!0,idPrefix:p}),f.renderIconButton(r,{id:p+"_rowMoveDown_"+n,icon:Z,text:de("ORDER_BY_ITEM.MOVE_DOWN_CLAUSE_N",n)}),l.closest("tr").find("td:last").html(r.toString()).end().after(t.toString()),i.find("."+K+":hidden").length>0&&i.find("."+K+":visible").hide()}})).on("change","input."+z,(function(){var a,t,r=e(this).closest("tr"),i=e(r).find("input."+W),l=e(r).find("input."+X),n=e(r).find("input."+z),f=!0,s=0;if(""!==n.val()&&(a=n.val().match(/([_0-9A-Z]+)/gi))){if(t=a[0].toUpperCase(),!i.val()||""===i.val()){for(;f;)f=!1,e(r).parent().find("input."+W).each((function(a,r){e(r).val()===t+(0===s?"":s.toString())&&(f=!0)})),f&&(s+=1);i.val(t+(0===s?"":s.toString())).trigger("change")}l.val()&&""!==l.val()||l.val(o.escapeHTML(t.replace(/_+/g,"_").replace(/^_+/,"").replace(/_+$/,"").replace(/_/g," ").toLowerCase().split(" ").map((function(a){var e=a[0]||"";return a.replace(e,e.toUpperCase())})).join(" "))).trigger("change")}})).on("click","button[id^="+p+"_rowRemove_]",(function(){var a=e(this).closest("tr").next("tr");a.length>0?(e(this).closest("tr").remove(),a.find(":input:first").trigger("change").trigger("focus")):e(this).closest("tr").find("input").val("").filter("input."+X).trigger("change").trigger("focus")})).on("click","button[id^="+p+"_rowMoveUp_]",(function(){var a=e(this).closest("tr").find(":input"),t=e(this).closest("tr").prev("tr."+q).find(":input");t.length>0&&(d(a,t,z),d(a,t,W),d(a,t,X),t.filter("button[id^="+p+"_rowMove]:first").trigger("focus"),a.trigger("change"))})).on("click","button[id^="+p+"_rowMoveDown_]",(function(){var a=e(this).closest("tr").find(":input"),t=e(this).closest("tr").next("tr."+q).find(":input");t.length>0&&(d(a,t,z),d(a,t,W),d(a,t,X),t.trigger("change"),e(this).closest("tr").next("tr."+q).find("button[id^="+p+"_rowMoveDown_]").trigger("focus"))})).on("click","button[id^="+p+"_rowCodeEditor_]",(function(){var i,f,s=!1,d=[],u="orderByEditDlg-codeEditor",c=e("#"+p+"_expr"+e(this).closest("tr").index()),g=o.htmlBuilder();function m(){Q=f.codeEditor("changeGeneration"),t.trace("Editor: update change generation: "+Q)}d.push({text:pe("CANCEL"),click:function(){i.dialog("close")}}),d.push({text:pe("OK"),class:U,click:function(){c.val(f.codeEditor("getValue")).trigger("change"),m(),i.dialog("close")}}),g.markup("<div").attr("id","orderByEditDlg").attr("title",ue("CODE_EDITOR.TITLE",l.metaData.prompt)).markup(">").markup("<div").attr("id",u).markup("class='resize'>").markup("</div>").markup("</div>"),i=e(g.toString()).dialog({modal:!0,closeText:r.getMessage("APEX.DIALOG.CLOSE"),width:750,height:250,minWidth:680,minHeight:200,create:function(){e(this).closest(".ui-dialog").attr("aria-modal",!0)},beforeClose:function(a){var e=!0;f.codeEditor("isClean",Q)||(e=confirm(pe("EDITOR.UNSAVED_CHANGES"))),e||a.preventDefault()},close:function(){s&&(V=f.codeEditor("getPreferencesString"),window.gPreferences[G]=V,n.process("setPreference",{x01:G,x02:V},{dataType:""})),i.dialog("destroy").remove()},open:function(){var t=c.val();t=e.isEmptyObject(t)?"":t,(f=e("#"+u).codeEditor(e.extend({language:"sql",autofocus:!0,readOnly:l.metaData.isReadOnly,value:t,codeComplete:function(a,e){n.process("getCodeCompleteList",{p_widget_name:a.type,x01:a.search,x02:a.parent,x03:a.grantParent},{success:e})},suggestions:function(){const e=a.getComponentType(a.COMP_TYPE.PAGE_ITEM).title.plural;var t,r,o=a.getComponents(a.COMP_TYPE.PAGE_ITEM,{},!0),i=[];for(let l=0;l<o.length;l++)t=o[l].getProperty(a.PROP.ITEM_NAME).getValue(),r=o[l].getProperty(a.PROP.ITEM_LABEL),i.push({label:t+(r?" ("+r.getValue()+")":""),insertText:t,detail:e});return i},pageInfo:{pageId:a.getCurrentPageId(),items:[...a.getComponents(a.COMP_TYPE.PAGE_ITEM,{},!0),...a.getComponents(a.COMP_TYPE.FACET,{},!0),...a.getComponents(a.COMP_TYPE.FACET_GROUP_ITEM,{},!0)].map((e=>({name:e.getProperty(a.PROP.ITEM_NAME).getValue(),type:e.getProperty(a.PROP.ITEM_TYPE).getValue()}))),regions:a.getComponents(a.COMP_TYPE.REGION,{},!0).map((e=>({staticId:e.getProperty(a.PROP.DOM_STATIC_ID).getValue(),type:e.getProperty(a.PROP.REGION_TYPE).getValue()}))).filter((({staticId:a})=>a&&a.length&&!/^\d+$/.test(a)))},validatePageItems:!0,preferencesChanged:function(){s=!0},onInitialized:function(){m()}},e.apex.codeEditor.preferencesObjectFromString(V)))).height(e(this).height()).width(e(this).closest(".ui-dialog").width()-2)},resizeStop:function(a,e){f.height(i.height()).width(e.size.width-2).trigger("resize")},buttons:d})})),this.addLabelClickHandler(i,l)},setFocus:function(a){a.find(":input:first").trigger("focus")},getValue:function(a){var t,r,o,i=[];return a.find("tr."+q).each((function(){t=e(this).find(":input."+z),o=e(this).find(":input."+X),(r=e(this).find(":input."+W))&&r.val()&&""!==r.val()&&i.push({key:r.val(),expr:t.val(),display:o.val()})})),i},_renderOrderBysRow:function(a,t){var r,o,i,l=e.extend({rowId:"",lastRow:!1,idPrefix:"",errorMsg:"",name:"",value:"",readOnly:!1},t);r=l.idPrefix+"_expr"+l.rowId,o=l.idPrefix+"_key_"+l.rowId,i=l.idPrefix+"_display_"+l.rowId,a.markup("<tr").attr("class",q).markup(">"),a.markup("<td").attr("style","vertical-align: bottom").markup(">"),""!==l.errorMsg&&(a.markup("<span").attr("class","a-Icon icon-error").attr(O,!0).markup("></span>"),a.markup("<span").attr("class",ra).markup(">").content(l.errorMsg).markup("</span>")),this.renderBaseInput(a,{id:r,value:l.expression,inputClass:[z,A,L],readonly:l.readOnly,attributes:{"aria-label":de("ORDER_BY_ITEM.EXPRESSION_N",l.rowId)}}),a.markup("</td>"),a.markup("<td").attr("style","vertical-align: bottom").markup(">"),this.renderIconButton(a,{id:l.idPrefix+"_rowCodeEditor_"+l.rowId,icon:ta,text:de("ORDER_BY_ITEM.OPEN_CODE_EDITOR_EXPR_N",l.rowId),disabled:l.readOnly}),a.markup("</td>"),a.markup("<td").attr("style","vertical-align: bottom").markup(">"),this.renderBaseInput(a,{id:o,value:l.key,inputClass:[W,A,L],readonly:l.readOnly,attributes:{"aria-label":de("ORDER_BY_ITEM.KEY_N",l.rowId)}}),a.markup("</td>"),a.markup("<td").attr("style","vertical-align: bottom").attr("class",K).markup(">"),this.renderBaseInput(a,{id:i,value:l.display,inputClass:[X,A,L],readonly:l.readOnly,attributes:{"aria-label":de("ORDER_BY_ITEM.DISPLAY_N",l.rowId)}}),a.markup("</td>"),a.markup("<td").attr("style","vertical-align: bottom").attr("class",w).markup(">"),this.renderIconButton(a,{id:l.idPrefix+"_rowRemove_"+l.rowId,icon:J,text:de("ORDER_BY_ITEM.REMOVE_CLAUSE_N",l.rowId),disabled:l.readOnly}),a.markup("</td>"),a.markup("<td").attr("class",w+" "+K).attr("style","vertical-align: bottom").markup(">"),l.rowId>1&&this.renderIconButton(a,{id:l.idPrefix+"_rowMoveUp_"+l.rowId,icon:$,text:de("ORDER_BY_ITEM.MOVE_UP_CLAUSE_N",l.rowId),disabled:l.readOnly}),a.markup("</td>"),a.markup("<td").attr("style","vertical-align: bottom").attr("class",w+" "+K).markup(">"),l.lastRow||this.renderIconButton(a,{id:l.idPrefix+"_rowMoveDown_"+l.rowId,icon:Z,text:de("ORDER_BY_ITEM.MOVE_DOWN_CLAUSE_N",l.rowId),disabled:l.readOnly}),a.markup("</td>"),a.markup("</td>"),a.markup("</tr>")}}),e.apex.propertyEditor.addPropertyType("PLACEHOLDER JSON",{_getButtonText:function(a){var e,t,r,o=0;try{e=JSON.parse(a)}catch(a){e={}}return t=Object.keys(e).length,Object.keys(e).forEach((function(a){""===e[a]&&(o+=1)})),0===t?r=pe("TEMPLATE_PLACEHOLDERS.NONE_DEFINED"):1===t&&1===o?r=pe("TEMPLATE_PLACEHOLDERS.ONE_EMPTY_PLACEHOLDER"):1===t&&0===o?r=pe("TEMPLATE_PLACEHOLDERS.ONE_PLACEHOLDER"):(r=de("TEMPLATE_PLACEHOLDERS.PLACEHOLDERS",t,o),o+=1),r},_getDisplayGroupAssignItems:function(a){return{displayGroupId:Ja,displayGroupTitle:pe("TEMPLATE_PLACEHOLDERS.ASSIGN_ITEMS"),properties:a||[]}},_getPropertyPlaceholderJsonItems:function(a,t){return e.extend(!0,{propertyName:Qa,value:a,metaData:{type:_a,prompt:pe("TEMPLATE_PLACEHOLDERS.ITEMS"),displayGroupId:Ja,originalProperty:t},errors:[],warnings:[]},a)},noLabel:!0,render:function(a,e,t){this.renderDivOpen(a,{class:k}),me(a,e,t,this._getButtonText(t.value)),this.renderDivClose(a)},setValue:function(a,e,t,r){var o;this.super("setValue",a,e,t,r),o=this._getButtonText(t),a.text(o).attr("title",o)},init:function(a,t,i){var l=this;this.addLabelClickHandler(a,t),this.addTooltipsForErrors(a,t),a.closest("div."+b).on("click","#"+a.attr("id"),(function(){var n,f=o.htmlBuilder(),s=[],p=t.metaData.isReadOnly;function d(a){var e;for(let t=0;t<s.length;t++)for(let r=0;r<s[t].properties.length;r++)if(s[t].properties[r].propertyName===a){e=s[t].properties[r];break}return e}s.push(l._getDisplayGroupAssignItems([l._getPropertyPlaceholderJsonItems({value:t.value,metaData:{isReadOnly:t.metaData.isReadOnly}},t)])),f.markup("<div").attr("id","placeholderDlg").attr("title",pe("TEMPLATE_PLACEHOLDERS.TITLE")).markup(">").markup("<div").attr("id","placeholderDlgPE").markup(">").markup("</div>").markup("</div>"),n=e(f.toString()).dialog({modal:!0,closeText:r.getMessage("APEX.DIALOG.CLOSE"),minWidth:400,width:520,dialogClass:oa,create:function(){e(this).closest(".ui-dialog").attr("aria-modal",!0)},close:function(){e("#placeholderDlgPE").propertyEditor("destroy"),n.dialog("destroy")},open:function(){function a(a){var e={value:a,metaData:{isReadOnly:t.metaData.isReadOnly}};r.propertyEditor("addProperty",{property:l._getPropertyPlaceholderJsonItems(e,t),displayGroup:l._getDisplayGroupAssignItems()})}var r=e("#placeholderDlgPE");r.propertyEditor({focusPropertyName:Qa,data:{propertySet:s,multiEdit:!1,lastComponents:i},change:function(e,t){t.propertyName===Qa&&a(d(Qa).value),d(t.propertyName).value=t.property.value}}),a(d(Qa).value),e("#placeholderDlg").dialog({position:{my:"center",at:"center",of:window}})},buttons:[{text:pe("CANCEL"),click:function(){n.dialog("close")}},{text:pe("OK"),class:U,disabled:p,click:function(){var e=d(Qa).value;"object"==typeof e?l.setValue(a,t,JSON.stringify(e)):l.setValue(a,t,e),a.trigger("change"),l.setFocus(a),n.dialog("close")}}]})}))}}),e.apex.propertyEditor.addPropertyType(_a,{stacked:!0,noLabel:!0,labelVisible:!1,minHeight:200,maxHeight:500,render:function(a,e,t){var r,o,i=e+"_label",l=this;a.markup("<div").attr("id",e).attr("class",k).attr(v,i).attr(_,T).attr(ka,t.propertyName).markup(">"),a.markup("<table").attr("class",N).markup(">").markup("<caption").attr("class",ra).markup(">").content(pe("TEMPLATE_PLACEHOLDERS.ASSIGN_ITEMS")).markup("</caption>").markup("<tr>").markup("<th").attr(y,P).attr("class",S).markup(">").content(pe("TEMPLATE_PLACEHOLDERS.NAME")).markup("</th>").markup("<th").attr(y,P).attr("class",S).markup(">").content(pe("TEMPLATE_PLACEHOLDERS.VALUE")).markup("</th>").markup("<th").attr(y,P).attr("class",ra).markup(">").content(pe("LINK.VALUE_LIST_OF_VALUES")).markup(">").markup("</th>").markup("<th").attr("class",ra).markup(">").content(pe("LINK.REMOVE")).markup("</th>").markup("</tr>"),r=JSON.parse(t.value),o=1,Object.keys(r).forEach((function(i){l._renderPlaceholdersRow(a,{rowId:o,idPrefix:e,name:i,value:r[i],readOnly:t.metaData.isReadOnly}),o+=1})),t.metaData.isReadOnly||l._renderPlaceholdersRow(a,{rowId:o,idPrefix:e}),a.markup("</table>"),this.renderDivClose(a)},init:function(t,r,i){let l=i.some((e=>a.isSharedDesignerComponent(e.typeId))),n={columnDefinitions:[{name:"name",title:pe("NAME"),alignment:"left",isRowHeader:!0},{name:"label",title:pe("LABEL"),alignment:"left"}],filterLov:function(e,t){var r,o,l,n,f="page";switch(e.scope){case"application":f="application",r="";break;case"current_page":r=a.getCurrentPageId();break;case"global_page":r=a.getGlobalPageId();break;case"custom_page":r=e.customPageNumber;break;case re:f=re,l=se(i[0],a.COMP_TYPE.WORKFLOW),o=l?.id;break;case oe:f=oe,n=se(i[0],a.COMP_TYPE.WORKFLOW_VERSION),o=n?.id;break;case ie:f=ie,o=i[0].id}[re,oe,ie].includes(e.scope)?a.getWorkflowLov({type:f,componentId:o},(function(a){t(a,e.search)})):a.getItemsLov({type:f,component:i[0],pageId:r},(function(a){t(a,e.search)}))},multiValue:!1,dialogTitle:ue("PICK",r.metaData.prompt)};var f=this,s=t.closest("div."+b),p=t.attr("id");r.metaData.isReadOnly||s.on("change","input."+B+":last",(function(){var a=o.htmlBuilder(),t=o.htmlBuilder(),r=e(this);if(r.val()){var i=e("input."+B).length;f._renderPlaceholdersRow(a,{rowId:i+1,idPrefix:p}),f.renderIconButton(t,{id:p+"_rowRemove_"+i,icon:J,text:de("LINK.REMOVE_ITEM_N",i)}),r.closest("tr").find("td:last").html(t.toString()).end().after(a.toString())}})).on("click","button[id^="+p+"_rowRemove_]",(function(){var a=e(this).closest("tr").next("tr").find(":input:first");e(this).closest("tr").remove(),a.trigger("change").trigger("focus")})).on("click","button[id^="+p+"_valueLovBtn_]",(function(){function t(e){return"&"+a.enquoteIdentifier(e)+"."}if(n.filters=[{name:"scope",title:pe("ITEM_SCOPE"),type:"buttonset",defaultValue:l?re:"current_page",lov:[{display:pe("CURRENT_PAGE"),value:"current_page",valueFormatting:function(a){return t(a)}},{display:pe("CUSTOM_PAGE"),value:"custom_page",valueFormatting:function(a){return t(a)},filters:[{name:"customPageNumber",title:pe("PAGE_NUMBER"),type:"text",isRequired:!0}]},{display:pe("GLOBAL_PAGE"),value:"global_page",valueFormatting:function(a){return t(a)}},{display:pe("APPLICATION"),value:"application",valueFormatting:function(a){return t(a)}},{display:pe("WF.PARAMS"),value:re,valueFormatting:function(a){return t(a)}},{display:pe("WF.VERSION_VARS"),value:oe,valueFormatting:function(a){return t(a)}},{display:pe("WF.ACT_VARS"),value:ie,valueFormatting:function(a){return t(a)}}]},{name:"search",title:pe("SEARCH"),type:"search"}],l&&(r.metaData.lovComponentScope="WORKFLOW"),"WORKFLOW"===r.metaData.lovComponentScope){let a=n.filters;for(let t=0;t<a.length;t++)if("scope"===a[t].name){let r=a[t].lov;for(let a=0;a<r.length;a++)-1===e.inArray(r[a].value,[re,oe,ie])&&(r.splice(a,1),a-=1)}}else{let a=n.filters;for(let t=0;t<a.length;t++)if("scope"===a[t].name){let r=a[t].lov;for(let a=0;a<r.length;a++)e.inArray(r[a].value,[re,oe,ie])>-1&&(r.splice(a,1),a-=1)}}var i,f,s;i=e(this).data("for"),f=o.htmlBuilder(),s=n.filters,f.markup("<div").attr("id","lovDlg").attr("title",n.dialogTitle).markup(">").markup("</div>"),e(f.toString()).lovDialog({modal:!0,minWidth:520,height:500,filters:s,columnDefinitions:n.columnDefinitions,filterLov:n.filterLov,dialogClass:oa,resizable:!1,multiValue:n.multiValue,valueSelected:function(a,t){var r=t[n.columnDefinitions[0].name],o=e("#"+i);t.valueFormatting&&"function"==typeof t.valueFormatting&&(r=t.valueFormatting(r)),o.val(r).trigger("change")}})})),this.addLabelClickHandler(t,r)},setFocus:function(a){a.find(":input:first").trigger("focus")},getValue:function(a){var t,r,o={};return a.find("tr."+q).each((function(){t=e(this).find(":input."+B),r=e(this).find(":input."+Y),""===t.val()||p(o,t.val())||(o[t.val()]=r.val())})),o},_renderPlaceholdersRow:function(a,t){var r,o,i=e.extend({rowId:"",idPrefix:"",name:"",value:"",readOnly:!1},t);r=i.idPrefix+"_name_"+i.rowId,o=i.idPrefix+"_value_"+i.rowId,a.markup("<tr").attr("class",q).markup(">"),a.markup("<td>"),this.renderBaseInput(a,{id:r,value:i.name,inputClass:[B,A,L],readonly:i.readOnly,attributes:{"aria-label":de("LINK.ITEM_N_NAME",i.rowId)}}),a.markup("</td>"),a.markup("<td>"),this.renderBaseInput(a,{id:o,value:i.value,inputClass:[Y,A,L],readonly:i.readOnly,attributes:{"aria-label":de("LINK.ITEM_N_VALUE",i.rowId)}}),a.markup("</td>"),a.markup("<td>"),this.renderIconButton(a,{id:i.idPrefix+"_valueLovBtn_"+i.rowId,icon:aa,text:de("LINK.ITEM_N_VALUE_LOV",i.rowId),dataFor:o,disabled:i.readOnly}),a.markup("</td>"),a.markup("<td").attr("class",w).markup(">"),i.name&&this.renderIconButton(a,{id:i.idPrefix+"_rowRemove_"+i.rowId,icon:J,text:de("LINK.REMOVE_ITEM_N",i.rowId),disabled:i.readOnly}),a.markup("</td>"),a.markup("</tr>")}});var E,h,V,G="CODE_EDITOR_SETTINGS",Q=-1;const ia=function(a,e,t=!1){this.renderIconButton(a,{id:e+"_messageHelperBtn",icon:"a-Icon icon-language",text:pe("TEXT_MESSAGES"),ariaDescribedby:e+"_label",ariaControls:e,isMenuButton:!1,addContainer:t})},Oa=function(a,t,r){const l=this;e(`<div id="lovDlg" title="${o.escapeHTMLAttr(pe("TEXT_MESSAGES"))}"></div>`).lovDialog({modal:!0,minWidth:520,height:500,dialogClass:oa,resizable:!0,multiValue:!1,resultsDisplay:"table",columnDefinitions:[{name:"r",title:pe("MESSAGE_NAME"),isRowHeader:!0},{name:"d",title:pe("MESSAGE_TEXT")}],filters:[{name:"search",title:pe("SEARCH"),type:"search"}],filterLov:(a,e)=>{i.applicationMessages(null,!0).then((function(t){e(t,a.search)}))},valueSelected:(e,o)=>{let i="string"==typeof a.value?a.value:"",{r:n,placeholders:f}=o;""!==n&&(f.length>0&&f.forEach((a=>{n=`${n} ${a[1]}=""`})),n=`&{${n}}.`,i=i?`${i}${n}`:n,l.setValue(t,a,i,r,!1),t.trigger("change"))}})};e.apex.propertyEditor.addPropertyType(Pa,{render:function(a,e,t,r){this.super("render",a,e,t,r,!0)},init:function(f,p,d){var u,c=this,g=f.attr("id"),m=e("#"+g+"_modalBtn");const y=p.metaData;if(a.getCompatibilityMode()>=24.2&&i.textMessagesPickerEnabled&&!y.isReadOnly&&y.isTranslatable&&y.supportsSubstitution){let a=o.htmlBuilder();ia.call(this,a,g),e(a.toString()).insertBefore(m).on("click",(()=>{Oa.call(this,p,f,d)}))}this.super("init",f,p,d),m.on("click",(function(){var g,m,y,P,_,T,O,v="plaintext",I=!1,R=[],C=d[0].getProperty(p.propertyName),b=o.htmlBuilder();function A(){Q=m.codeEditor("changeGeneration"),t.trace("Editor: update change generation: "+Q)}function L(){e("#"+f.attr("id")).val(m.codeEditor("getValue")).change()}function k(a={}){a.error||m.codeEditor("showSuccessNotification",r.getMessage("PD.CHANGES_SAVED"))}switch(p.metaData.type){case a.PROP_TYPE.FILE_URLS_JAVASCRIPT:v=e.apex.codeEditor.LANG_FILE_URLS_JAVASCRIPT;break;case a.PROP_TYPE.FILE_URLS_CSS:v=e.apex.codeEditor.LANG_FILE_URLS_CSS;break;case a.PROP_TYPE.CSS:v=e.apex.codeEditor.LANG_CSS;break;case a.PROP_TYPE.HTML:v=e.apex.codeEditor.LANG_HTML;break;case a.PROP_TYPE.JAVASCRIPT:v=e.apex.codeEditor.LANG_JAVASCRIPT;break;case a.PROP_TYPE.MLE_JS:case a.PROP_TYPE.MLE_JS_EXPR_VARCHAR:case a.PROP_TYPE.MLE_JS_EXPR_BOOLEAN:case a.PROP_TYPE.MLE_JS_EXPR_CUSTOM:case a.PROP_TYPE.MLE_JS_FUNC_VARCHAR:case a.PROP_TYPE.MLE_JS_FUNC_CLOB:case a.PROP_TYPE.MLE_JS_FUNC_BOOLEAN:case a.PROP_TYPE.MLE_JS_FUNC_CUSTOM:case a.PROP_TYPE.MLE_JS_FUNC_SQL:v=e.apex.codeEditor.LANG_JAVASCRIPT_MLE_SNIPPET;break;case a.PROP_TYPE.XML:v=e.apex.codeEditor.LANG_XML;break;case a.PROP_TYPE.SQL:v=e.apex.codeEditor.LANG_SQL;break;case a.PROP_TYPE.SQL_EXPR:case a.PROP_TYPE.SQL_EXPR_BOOLEAN:case a.PROP_TYPE.SQL_EXPR_CUSTOM:case a.PROP_TYPE.WHERE_CLAUSE:case a.PROP_TYPE.PLSQL:case a.PROP_TYPE.PLSQL_EXPR_VARCHAR:case a.PROP_TYPE.PLSQL_EXPR_BOOLEAN:case a.PROP_TYPE.PLSQL_EXPR_CUSTOM:case a.PROP_TYPE.PLSQL_FUNC_VARCHAR:case a.PROP_TYPE.PLSQL_FUNC_CLOB:case a.PROP_TYPE.PLSQL_FUNC_BOOLEAN:case a.PROP_TYPE.PLSQL_FUNC_CUSTOM:case a.PROP_TYPE.PLSQL_FUNC_SQL:v=e.apex.codeEditor.LANG_PLSQL}R.push({text:pe("CANCEL"),click:function(){g.dialog("close")}}),p.metaData.type===a.PROP_TYPE.SQL&&(O=function(e){l.popup({url:o.makeApplicationUrl({appId:4500,pageId:1002,clearCache:1002,itemNames:["P1002_RETURN_INTO","P1002_POPUP","P1002_SCHEMA"],itemValues:[e.baseId,"1",a.getParsingSchema()]}),width:950,height:720})}),(["sql","plsql"].includes(v)||"html"===v&&p.metaData.supportsTemplateDirective||p.metaData.type.endsWith("FUNCTION BODY SQL"))&&!p.metaData.isReadOnly&&(_=function(a,e){e(C.validate(a))}),T=function(a,e,t){m.codeEditor("option","validateCode")&&(m.codeEditor("validateCode"),m.codeEditor("option","warnings").length||m.codeEditor("option","errors").length)||(L(),A(),m.codeEditor("resetNotification"),t?apex.actions.invoke("pd-save-run-page",a,e,{afterSaveCallback:k}):apex.actions.invoke("pd-save-page",a,e,{suppressSuccessMessage:!0,afterSaveCallback:k}))},R.push({text:pe("OK"),class:U,click:function(){L(),A(),g.dialog("close")}}),b.markup("<div").attr("id","editorDlg").attr("title",ue("CODE_EDITOR.TITLE",p.metaData.prompt)).markup(">").markup("<div").attr("id","editorDlg-codeEditor").markup("class='resize'>").markup("</div>").markup("</div>"),y=h,(P=E)>e(window).width()-40&&(P=e(window).width()-40),y>e(window).height()-40&&(y=e(window).height()-40),g=e(b.toString()).dialog({modal:!0,closeText:r.getMessage("APEX.DIALOG.CLOSE"),width:P,height:y,minWidth:680,minHeight:400,create:function(){e(this).closest(".ui-dialog").attr("aria-modal",!0)},beforeClose:function(a){var e=!0;m.codeEditor("isClean",Q)||(e=confirm(pe("EDITOR.UNSAVED_CHANGES"))),e||a.preventDefault()},close:function(){var a=g.closest(".ui-dialog");I&&(V=m.codeEditor("getPreferencesString"),window.gPreferences[G]=V,n.process("setPreference",{x01:G,x02:V},{dataType:""})),E!==a.outerWidth()&&(E=a.outerWidth(),i.savePreference(le,E)),h!==a.outerHeight()&&(h=a.outerHeight(),i.savePreference(ne,h)),g.dialog("destroy").remove()},open:function(){let t=c.super("getValue",u),r=apex.aiHook?.aiEnabled?{ajax:{ajaxId:apex.aiHook.ajaxId.codeEditor}}:null;t=e.isEmptyObject(t)?"":t,(m=e("#editorDlg-codeEditor").codeEditor(e.extend({language:v,autofocus:!0,readOnly:p.metaData.isReadOnly,errors:C.errors,warnings:C.warnings,value:t,ai:r,codeComplete:function(a,e){n.process("getCodeCompleteList",{p_widget_name:a.type,x01:a.search,x02:a.parent,x03:a.grantParent},{success:e})},suggestions:function(){const e=a.getComponentType(a.COMP_TYPE.PAGE_ITEM).title.plural;var t,r,o=a.getComponents(a.COMP_TYPE.PAGE_ITEM,{},!0),i=[];for(let l=0;l<o.length;l++)t=o[l].getProperty(a.PROP.ITEM_NAME).getValue(),r=o[l].getProperty(a.PROP.ITEM_LABEL),i.push({label:t+(r?" ("+r.getValue()+")":""),insertText:t,detail:e});return i},pageInfo:{pageId:a.getCurrentPageId(),isPageDesigner:"4000"===s.APP_ID&&"4500"===s.APP_PAGE_ID,isGlobalPage:a.isGlobalPage(),isDialogPage:a.getPageTemplate()?.isDialog,shortMsgSyntaxSupported:a.getCompatibilityMode()>=24.2,applicationMessages:i.applicationMessages&&p.metaData.supportsSubstitution?()=>new Promise((a=>{i.applicationMessages(null,!0).then((e=>{let t=e.map((a=>({label:a.r,insertText:a.r,detail:a.d,isJS:a.isJS,placeholders:a.placeholders})));a(t)}))})):null,items:[...a.getComponents(a.COMP_TYPE.PAGE_ITEM,{},!0),...a.getComponents(a.COMP_TYPE.FACET,{},!0),...a.getComponents(a.COMP_TYPE.FACET_GROUP_ITEM,{},!0)].map((e=>({name:e.getProperty(a.PROP.ITEM_NAME).getValue(),type:e.getProperty(a.PROP.ITEM_TYPE).getValue()}))),regions:a.getComponents(a.COMP_TYPE.REGION,{},!0).map((e=>({staticId:e.getPropertyValue(a.PROP.DOM_STATIC_ID),type:e.getProperty(a.PROP.REGION_TYPE).getValue()}))).filter((({staticId:a})=>a&&a.length&&!/^\d+$/.test(a)))},validatePageItems:!0,validateCode:_,dialogSave:T,queryBuilder:O,preferencesChanged:function(){I=!0},onInitialized:function(){A()}},e.apex.codeEditor.preferencesObjectFromString(V)))).height(e(this).height()).width(e(this).closest(".ui-dialog").width()-2)},resizeStop:function(a,e){m.height(g.height()).width(e.size.width-2).trigger("resize")},buttons:R})})),u=f.closest("div."+b)}},e.apex.propertyEditor.PROP_TYPE.TEXTAREA),e.apex.propertyEditor.addPropertyType(sa,{init:function(e,t,r){let o,i,l=r.some((e=>a.isSharedDesignerComponent(e.typeId))),n={columnDefinitions:[{name:"name",title:pe("NAME"),alignment:"left",isRowHeader:!0},{name:"label",title:pe("LABEL"),alignment:"left"}],filters:[{name:"scope",title:pe("ITEM_SCOPE"),type:"buttonset",defaultValue:l?re:"current_page",lov:[{display:pe("COLUMNS"),value:"column"},{display:pe("CURRENT_PAGE"),value:"current_page"},{display:pe("CUSTOM_PAGE"),value:"custom_page",filters:[{name:"customPageNumber",title:pe("PAGE_NUMBER"),type:"text",isRequired:!0}]},{display:pe("GLOBAL_PAGE"),value:"global_page"},{display:pe("APPLICATION"),value:"application"},{display:pe("WF.PARAMS"),value:re},{display:pe("WF.VERSION_VARS"),value:oe},{display:pe("WF.ACT_VARS"),value:ie}]},{name:"search",title:pe("SEARCH"),type:"search"}],filterLov:function(e,o){var i,l,n,f,s,p="page";switch(e.scope){case"application":p="application",i="";break;case"current_page":i=a.getCurrentPageId();break;case"global_page":i=a.getGlobalPageId();break;case"custom_page":i=e.customPageNumber;break;case re:p=re,n=se(r[0],a.COMP_TYPE.WORKFLOW),l=n?.id;break;case oe:p=oe,f=se(r[0],a.COMP_TYPE.WORKFLOW_VERSION),l=f?.id;break;case ie:p=ie,s=r[0],l=[a.COMP_TYPE.WF_ACTIVITY_TASK_PARAM,a.COMP_TYPE.WF_ACTIVITY_API_PARAM,a.COMP_TYPE.WF_ACTIVITY_WS_PARAM].includes(s.typeId)?se(s,a.COMP_TYPE.WORKFLOW_ACTIVITY)?.id:s.id}void 0===e.scope||"column"===e.scope?o(t.metaData.lovValues(),e.search):[re,oe,ie].includes(e.scope)?a.getWorkflowLov({type:p,componentId:l},(function(a){o(a,e.search)})):a.getItemsLov({type:p,pageId:i},(function(a){o(a,e.search)}))}};if(l&&(t.metaData.lovComponentScope="WORKFLOW"),"PAGE_AND_GLOBAL"===t.metaData.lovComponentScope){o=n.filters;for(let a=0;a<o.length;a++)if("scope"===o[a].name){i=o[a].lov;for(let a=0;a<i.length;a++)[re,oe,ie,"application","custom_page"].includes(i[a].value)&&(i.splice(a,1),a-=1)}}else if("PAGE"===t.metaData.lovComponentScope){o=n.filters;for(let a=0;a<o.length;a++)if("scope"===o[a].name){i=o[a].lov;for(let a=0;a<i.length;a++)[re,oe,ie,"application","custom_page","global_page"].includes(i[a].value)&&(i.splice(a,1),a-=1)}}else if("WORKFLOW"===t.metaData.lovComponentScope){o=n.filters;for(let a=0;a<o.length;a++)if("scope"===o[a].name){i=o[a].lov;for(let a=0;a<i.length;a++)[re,oe,ie].includes(i[a].value)||(i.splice(a,1),a-=1)}}if("COLUMN"===t.metaData.lovComponentScope){o=n.filters;for(let a=0;a<o.length;a++)if("scope"===o[a].name){o.splice(a,1);break}}else if("ROW"===t.metaData.referenceScope){o=n.filters;for(let a=0;a<o.length;a++)if("scope"===o[a].name){o[a].defaultValue="column";break}}else{o=n.filters;for(let a=0;a<o.length;a++)if("scope"===o[a].name){i=o[a].lov;for(let a=0;a<i.length;a++)("column"===i[a].value||!l&&[re,oe,ie].includes(i[a].value))&&(i.splice(a,1),a=-1)}}this.super("init",e,t,r,n)}},e.apex.propertyEditor.PROP_TYPE.COMBOBOX),e.apex.propertyEditor.addPropertyType("FACET",{init:function(a,e,t){var r={columnDefinitions:[{name:"name",title:pe("NAME"),alignment:"left",isRowHeader:!0},{name:"label",title:pe("LABEL"),alignment:"left"}],filters:[{name:"search",title:pe("SEARCH"),type:"search"}],filterLov:function(a,t){t(e.metaData.lovValues(),a.search)}};this.super("init",a,e,t,r)}},e.apex.propertyEditor.PROP_TYPE.COMBOBOX),e.apex.propertyEditor.addPropertyType(pa,{init:function(e,t,r){var o={columnDefinitions:[{name:"id",title:pe("PAGE_NUMBER"),alignment:"left"},{name:"name",title:pe("PAGE_NAME"),alignment:"left",isRowHeader:!0},{name:"alias",title:pe("PAGE_ALIAS"),alignment:"left"}],filters:[{name:"search",title:pe("SEARCH"),type:"search"}],filterLov:function(e,t){a.getPagesLov(e,(function(a){t(a,e.search)}))}};this.super("init",e,t,r,o)}},e.apex.propertyEditor.PROP_TYPE.COMBOBOX),e.apex.propertyEditor.addPropertyType(ca,{init:function(a,e,t){var r={columnDefinitions:[{name:"name",title:pe("NAME"),alignment:"left",isRowHeader:!0}],filters:[{name:"type",title:pe("TYPE"),type:"buttonset",defaultValue:"TABLE",lov:[{display:pe("TABLES"),value:"TABLE"},{display:pe("VIEWS"),value:"VIEW"}]},{name:"search",title:pe("SEARCH"),type:"search"}],filterLov:function(a,t){e.metaData.lovValues((function(e){t(e,a.search)}),a)}};this.super("init",a,e,t,r)}},e.apex.propertyEditor.PROP_TYPE.COMBOBOX),e.apex.propertyEditor.addPropertyType(ga,{init:function(a,e,t){var r={columnDefinitions:[{name:"name",title:pe("NAME"),alignment:"left",isRowHeader:!0}],filters:[{name:"type",title:pe("TYPE"),type:"buttonset",defaultValue:"PROPERTY GRAPH",lov:[{display:pe("OWNER_SCHEMA"),value:"PROPERTY GRAPH"},{display:pe("PUBLIC"),value:"PUBLIC_PROPERTY GRAPH"}]},{name:"search",title:pe("SEARCH"),type:"search"}],filterLov:function(a,t){e.metaData.lovValues((function(e){t(e,a.search)}),a)}};this.super("init",a,e,t,r)}},e.apex.propertyEditor.PROP_TYPE.COMBOBOX),e.apex.propertyEditor.addPropertyType(Ca,{init:function(a,e,t){var r={columnDefinitions:[{name:"name",title:pe("NAME"),alignment:"left",isRowHeader:!0}],filters:[{name:"type",title:pe("TYPE"),type:"buttonset",defaultValue:"PACKAGE",lov:[{display:pe("OWNER_SCHEMA"),value:"PACKAGE"},{display:pe("PUBLIC"),value:"PUBLIC_PACKAGE"}]},{name:"search",title:pe("SEARCH"),type:"search"}],filterLov:function(a,t){e.metaData.lovValues((function(e){t(e,a.search)}),a)}};this.super("init",a,e,t,r)}},e.apex.propertyEditor.PROP_TYPE.COMBOBOX),e.apex.propertyEditor.addPropertyType(ba,{init:function(a,e,t){var r={columnDefinitions:[{name:"name",title:pe("NAME"),alignment:"left",isRowHeader:!0}],filters:[{name:"type",title:pe("TYPE"),type:"buttonset",defaultValue:"PROCEDURE",lov:[{display:pe("PROCEDURES"),value:"PROCEDURE"},{display:pe("FUNCTIONS"),value:"FUNCTION"}]},{name:"search",title:pe("SEARCH"),type:"search"}],filterLov:function(a,t){e.metaData.lovValues((function(e){t(e,a.search)}),a)}};this.super("init",a,e,t,r)}},e.apex.propertyEditor.PROP_TYPE.COMBOBOX),e.apex.propertyEditor.addPropertyType("ICON",{init:function(t,r,i){var l,n,f,d,u,g=function(a){return"FONTAPEX"===a||"FONTAPEX_LATEST"===a},m=function(a){return"FONTAWESOME"===a},E=a.getThemeIcons(),h={ACCESSIBILITY:"fa-american-sign-language-interpreting,fa-asl-interpreting,fa-assistive-listening-systems,fa-audio-description,fa-blind,fa-braille,fa-deaf,fa-deafness,fa-hard-of-hearing,fa-low-vision,fa-sign-language,fa-signing,fa-universal-access,fa-volume-control-phone,fa-wheelchair-alt".split(","),AI:"fa-ai-generative,fa-ai-innovation-lightbulb,fa-ai-microchip,fa-ai-prompt,fa-ai-sparkle-enhance-color,fa-ai-sparkle-enlarge,fa-ai-sparkle-eraser,fa-ai-sparkle-generate-audio,fa-ai-sparkle-generate-document,fa-ai-sparkle-generate-image,fa-ai-sparkle-generate-list,fa-ai-sparkle-generate-text,fa-ai-sparkle-improve-text,fa-ai-sparkle-message,fa-ai-sparkle-remove-image-background,fa-ai-sparkle-scan,fa-ai-sparkle-select,fa-ai-sparkle-token,fa-ai-sparkle-zoom-in,fa-ai-sparkle-zoom-out,fa-ai-square,fa-ai,fa-chatbot,fa-dataset,fa-drone,fa-head-ai-sparkle,fa-head-microchip,fa-robot-arm,fa-robot,fa-sparkles".split(","),BUSINESS:"fa-barcode-read,fa-card-holder,fa-cash-register,fa-city,fa-coins,fa-credit-card-front,fa-file-cabinet,fa-hand-coins,fa-hand-money-bag,fa-meeting-room,fa-money-bag,fa-money-check-pen,fa-money-deposit,fa-money-withdrawal,fa-nfc,fa-piggy-bank,fa-projector-screen,fa-projector,fa-receipt-x,fa-receipt,fa-signature,fa-store,fa-strategy,fa-target-arrow,fa-timeline-arrow,fa-timeline,fa-trend-down,fa-trend-up,fa-vault,fa-wallet".split(","),CALENDAR:"fa-calendar-alarm,fa-calendar-arrow-down,fa-calendar-arrow-up,fa-calendar-ban,fa-calendar-chart,fa-calendar-clock,fa-calendar-edit,fa-calendar-heart,fa-calendar-lock,fa-calendar-pointer,fa-calendar-search,fa-calendar-user,fa-calendar-wrench,fa-calendar-day,fa-calendar-month,fa-calendar-today,fa-calendar-week".split(","),CHART:"fa-area-chart,fa-bar-chart,fa-bar-chart-horizontal,fa-box-plot-chart,fa-bubble-chart,fa-combo-chart,fa-dial-gauge-chart,fa-donut-chart,fa-funnel-chart,fa-gantt-chart,fa-line-area-chart,fa-line-chart,fa-pie-chart,fa-pie-chart-0,fa-pie-chart-10,fa-pie-chart-100,fa-pie-chart-15,fa-pie-chart-20,fa-pie-chart-25,fa-pie-chart-30,fa-pie-chart-35,fa-pie-chart-40,fa-pie-chart-45,fa-pie-chart-5,fa-pie-chart-50,fa-pie-chart-55,fa-pie-chart-60,fa-pie-chart-65,fa-pie-chart-70,fa-pie-chart-75,fa-pie-chart-80,fa-pie-chart-85,fa-pie-chart-90,fa-pie-chart-95,fa-polar-chart,fa-pyramid-chart,fa-radar-chart,fa-range-chart-area,fa-range-chart-bar,fa-scatter-chart,fa-stock-chart,fa-x-axis,fa-y-axis,fa-y1-axis,fa-y2-axis".split(","),CURRENCY:"fa-bitcoin,fa-btc,fa-cny,fa-dollar,fa-eur,fa-euro,fa-gbp,fa-ils,fa-inr,fa-jpy,fa-krw,fa-money,fa-rmb,fa-rub,fa-try,fa-usd,fa-yen".split(","),DIRECTIONAL:"fa-angle-double-down,fa-angle-double-left,fa-angle-double-right,fa-angle-double-up,fa-angle-down,fa-angle-left,fa-angle-right,fa-angle-up,fa-arrow-circle-down,fa-arrow-circle-left,fa-arrow-circle-o-down,fa-arrow-circle-o-left,fa-arrow-circle-o-right,fa-arrow-circle-o-up,fa-arrow-circle-right,fa-arrow-circle-up,fa-arrow-down,fa-arrow-down-alt,fa-arrow-down-left-alt,fa-arrow-down-right-alt,fa-arrow-left,fa-arrow-left-alt,fa-arrow-right,fa-arrow-right-alt,fa-arrow-up,fa-arrow-up-alt,fa-arrow-up-left-alt,fa-arrow-up-right-alt,fa-arrows,fa-arrows-alt,fa-arrows-h,fa-arrows-v,fa-box-arrow-in-east,fa-box-arrow-in-ne,fa-box-arrow-in-north,fa-box-arrow-in-nw,fa-box-arrow-in-se,fa-box-arrow-in-south,fa-box-arrow-in-sw,fa-box-arrow-in-west,fa-box-arrow-out-east,fa-box-arrow-out-ne,fa-box-arrow-out-north,fa-box-arrow-out-nw,fa-box-arrow-out-se,fa-box-arrow-out-south,fa-box-arrow-out-sw,fa-box-arrow-out-west,fa-caret-down,fa-caret-left,fa-caret-right,fa-caret-square-o-down,fa-caret-square-o-left,fa-caret-square-o-right,fa-caret-square-o-up,fa-caret-up,fa-chevron-circle-down,fa-chevron-circle-left,fa-chevron-circle-right,fa-chevron-circle-up,fa-chevron-down,fa-chevron-left,fa-chevron-right,fa-chevron-up,fa-circle-arrow-in-east,fa-circle-arrow-in-ne,fa-circle-arrow-in-north,fa-circle-arrow-in-nw,fa-circle-arrow-in-se,fa-circle-arrow-in-south,fa-circle-arrow-in-sw,fa-circle-arrow-in-west,fa-circle-arrow-out-east,fa-circle-arrow-out-ne,fa-circle-arrow-out-north,fa-circle-arrow-out-nw,fa-circle-arrow-out-se,fa-circle-arrow-out-south,fa-circle-arrow-out-sw,fa-circle-arrow-out-west,fa-exchange,fa-hand-o-down,fa-hand-o-left,fa-hand-o-right,fa-hand-o-up,fa-long-arrow-down,fa-long-arrow-left,fa-long-arrow-right,fa-long-arrow-up,fa-page-bottom,fa-page-first,fa-page-last,fa-page-top".split(","),EMOJI:"fa-awesome-face,fa-emoji-angry,fa-emoji-astonished,fa-emoji-big-eyes-smile,fa-emoji-big-frown,fa-emoji-cold-sweat,fa-emoji-confounded,fa-emoji-confused,fa-emoji-cool,fa-emoji-cringe,fa-emoji-cry,fa-emoji-delicious,fa-emoji-disappointed,fa-emoji-disappointed-relieved,fa-emoji-expressionless,fa-emoji-fearful,fa-emoji-frown,fa-emoji-grimace,fa-emoji-grin-sweat,fa-emoji-happy-smile,fa-emoji-hushed,fa-emoji-laughing,fa-emoji-lol,fa-emoji-love,fa-emoji-mean,fa-emoji-nerd,fa-emoji-neutral,fa-emoji-no-mouth,fa-emoji-open-mouth,fa-emoji-pensive,fa-emoji-persevere,fa-emoji-pleased,fa-emoji-relieved,fa-emoji-rotfl,fa-emoji-scream,fa-emoji-sleeping,fa-emoji-sleepy,fa-emoji-slight-frown,fa-emoji-slight-smile,fa-emoji-smile,fa-emoji-smirk,fa-emoji-stuck-out-tongue,fa-emoji-stuck-out-tongue-closed-eyes,fa-emoji-stuck-out-tongue-wink,fa-emoji-sweet-smile,fa-emoji-tired,fa-emoji-unamused,fa-emoji-upside-down,fa-emoji-weary,fa-emoji-wink,fa-emoji-worry,fa-emoji-zipper-mouth,fa-hipster,fa-badgerine".split(","),FILE_TYPE:"fa-file,fa-file-archive-o,fa-file-audio-o,fa-file-code-o,fa-file-excel-o,fa-file-image-o,fa-file-o,fa-file-pdf-o,fa-file-powerpoint-o,fa-file-sql-o,fa-file-text,fa-file-text-o,fa-file-video-o,fa-file-word-o".split(","),FLAG:"fa-flag-ad,fa-flag-ae,fa-flag-af,fa-flag-ag,fa-flag-ai,fa-flag-al,fa-flag-am,fa-flag-an,fa-flag-ao,fa-flag-aq,fa-flag-ar,fa-flag-as,fa-flag-at,fa-flag-au,fa-flag-aw,fa-flag-ax,fa-flag-az,fa-flag-ba,fa-flag-bb,fa-flag-bd,fa-flag-be,fa-flag-bf,fa-flag-bg,fa-flag-bh,fa-flag-bi,fa-flag-bj,fa-flag-bl,fa-flag-bm,fa-flag-bn,fa-flag-bo,fa-flag-bq,fa-flag-br,fa-flag-bs,fa-flag-bt,fa-flag-bv,fa-flag-bw,fa-flag-by,fa-flag-bz,fa-flag-ca,fa-flag-cc,fa-flag-cd,fa-flag-cf,fa-flag-cg,fa-flag-ch,fa-flag-ci,fa-flag-ck,fa-flag-cl,fa-flag-cm,fa-flag-cn,fa-flag-co,fa-flag-cr,fa-flag-cu,fa-flag-cv,fa-flag-cw,fa-flag-cx,fa-flag-cy,fa-flag-cz,fa-flag-de,fa-flag-dj,fa-flag-dk,fa-flag-dm,fa-flag-do,fa-flag-dz,fa-flag-ec,fa-flag-ee,fa-flag-eg,fa-flag-eh,fa-flag-er,fa-flag-es,fa-flag-et,fa-flag-eu,fa-flag-fi,fa-flag-fj,fa-flag-fk,fa-flag-fm,fa-flag-fo,fa-flag-fr,fa-flag-ga,fa-flag-gb,fa-flag-gd,fa-flag-ge,fa-flag-gf,fa-flag-gg,fa-flag-gh,fa-flag-gi,fa-flag-gl,fa-flag-gm,fa-flag-gn,fa-flag-gp,fa-flag-gq,fa-flag-gr,fa-flag-gs,fa-flag-gt,fa-flag-gu,fa-flag-gw,fa-flag-gy,fa-flag-hk,fa-flag-hm,fa-flag-hn,fa-flag-hr,fa-flag-ht,fa-flag-hu,fa-flag-ic,fa-flag-id,fa-flag-ie,fa-flag-il,fa-flag-im,fa-flag-in,fa-flag-io,fa-flag-iq,fa-flag-ir,fa-flag-is,fa-flag-it,fa-flag-je,fa-flag-jm,fa-flag-jo,fa-flag-jp,fa-flag-ke,fa-flag-kg,fa-flag-kh,fa-flag-ki,fa-flag-km,fa-flag-kn,fa-flag-kp,fa-flag-kr,fa-flag-kw,fa-flag-ky,fa-flag-kz,fa-flag-la,fa-flag-lb,fa-flag-lc,fa-flag-li,fa-flag-lk,fa-flag-lr,fa-flag-ls,fa-flag-lt,fa-flag-lu,fa-flag-lv,fa-flag-ly,fa-flag-ma,fa-flag-mc,fa-flag-md,fa-flag-me,fa-flag-mf,fa-flag-mg,fa-flag-mh,fa-flag-mk,fa-flag-ml,fa-flag-mm,fa-flag-mn,fa-flag-mo,fa-flag-mp,fa-flag-mq,fa-flag-mr,fa-flag-ms,fa-flag-mt,fa-flag-mu,fa-flag-mv,fa-flag-mw,fa-flag-mx,fa-flag-my,fa-flag-mz,fa-flag-na,fa-flag-nc,fa-flag-ne,fa-flag-nf,fa-flag-ng,fa-flag-ni,fa-flag-nl,fa-flag-no,fa-flag-np,fa-flag-nr,fa-flag-nu,fa-flag-nz,fa-flag-om,fa-flag-pa,fa-flag-pe,fa-flag-pf,fa-flag-pg,fa-flag-ph,fa-flag-pk,fa-flag-pl,fa-flag-pm,fa-flag-pn,fa-flag-pr,fa-flag-ps,fa-flag-pt,fa-flag-pw,fa-flag-py,fa-flag-qa,fa-flag-re,fa-flag-ro,fa-flag-rs,fa-flag-ru,fa-flag-rw,fa-flag-sa,fa-flag-sb,fa-flag-sc,fa-flag-sd,fa-flag-se,fa-flag-sg,fa-flag-sh,fa-flag-si,fa-flag-sj,fa-flag-sk,fa-flag-sl,fa-flag-sm,fa-flag-sn,fa-flag-so,fa-flag-sr,fa-flag-ss,fa-flag-st,fa-flag-sv,fa-flag-sx,fa-flag-sy,fa-flag-sz,fa-flag-tc,fa-flag-td,fa-flag-tf,fa-flag-tg,fa-flag-th,fa-flag-tj,fa-flag-tk,fa-flag-tl,fa-flag-tm,fa-flag-tn,fa-flag-to,fa-flag-tr,fa-flag-tt,fa-flag-tv,fa-flag-tw,fa-flag-tz,fa-flag-ua,fa-flag-ug,fa-flag-um,fa-flag-us-vi,fa-flag-us,fa-flag-uy,fa-flag-uz,fa-flag-va,fa-flag-vc,fa-flag-ve,fa-flag-vg,fa-flag-vi,fa-flag-vn,fa-flag-vu,fa-flag-wf,fa-flag-ws,fa-flag-xk,fa-flag-ye,fa-flag-yt,fa-flag-za,fa-flag-zm,fa-flag-zw".split(","),FORM_CONTROL:"fa-check-square,fa-check-square-o,fa-circle,fa-circle-o,fa-dot-circle-o,fa-minus-square,fa-minus-square-o,fa-plus-square,fa-plus-square-o,fa-square,fa-square-o,fa-square-selected-o,fa-times-square,fa-times-square-o".split(","),GENDER:"fa-genderless,fa-mars,fa-mars-double,fa-mars-stroke,fa-mars-stroke-h,fa-mars-stroke-v,fa-mercury,fa-neuter,fa-transgender,fa-transgender-alt,fa-venus,fa-venus-double,fa-venus-mars".split(","),HAND:"fa-hand-grab-o,fa-hand-lizard-o,fa-hand-o-down,fa-hand-o-left,fa-hand-o-right,fa-hand-o-up,fa-hand-peace-o,fa-hand-pointer-o,fa-hand-scissors-o,fa-hand-spock-o,fa-hand-stop-o,fa-thumbs-down,fa-thumbs-o-down,fa-thumbs-o-up,fa-thumbs-up".split(","),MAPS:"fa-map-pin-triangle,fa-traffic-light-stop,fa-map-pin-heart,fa-map-pin-heart-o,fa-map-pin-circle,fa-map-pin-circle-o,fa-map-markers,fa-map-markers-o,fa-map-marker-slash,fa-map-marker-slash-o,fa-map-marker-shine,fa-map-marker-shine-o,fa-map-marker-face-frown,fa-map-marker-face-frown-o,fa-map-marker-face-meh,fa-map-marker-face-meh-o,fa-map-marker-face-smile,fa-map-marker-face-smile-o,fa-map-marker-camera-o,fa-map-marker-camera,fa-map-marker,fa-map-marker-check-o,fa-map-marker-check,fa-line-map,fa-2d-mode,fa-3d-mode,fa-location,fa-location-slash,fa-map-pin-triangle-o,fa-traffic-light-go,fa-traffic-light,fa-location-circle,fa-location-circle-o,fa-location-arrow".split(","),MEDICAL:"fa-ambulance,fa-h-square,fa-heart,fa-heart-o,fa-heartbeat,fa-hospital-o,fa-medkit,fa-plus-square,fa-stethoscope,fa-user-md,fa-wheelchair,fa-nurse,fa-biohazard,fa-prescription-sheet,fa-radiation,fa-syringe,fa-vial,fa-vials,fa-x-ray,fa-file-medical,fa-file-prescription,fa-medication-pills,fa-medication-pill-bottle,fa-medication-pill,fa-medication,fa-medical-mask,fa-prescription".split(","),NUMBERS:"fa-number-0,fa-number-0-o,fa-number-1,fa-number-1-o,fa-number-2,fa-number-2-o,fa-number-3,fa-number-3-o,fa-number-4,fa-number-4-o,fa-number-5,fa-number-5-o,fa-number-6,fa-number-6-o,fa-number-7,fa-number-7-o,fa-number-8,fa-number-8-o,fa-number-9,fa-number-9-o".split(","),PAYMENT:"fa-credit-card,fa-credit-card-alt,fa-credit-card-terminal".split(","),SPINNER:"fa-circle-o-notch,fa-gear,fa-refresh,fa-spinner".split(","),TEXT_EDITOR:"fa-align-center,fa-align-justify,fa-align-left,fa-align-right,fa-bold,fa-clipboard,fa-clipboard-arrow-down,fa-clipboard-arrow-up,fa-clipboard-ban,fa-clipboard-bookmark,fa-clipboard-chart ,fa-clipboard-check,fa-clipboard-check-alt,fa-clipboard-clock,fa-clipboard-edit,fa-clipboard-heart,fa-clipboard-list,fa-clipboard-lock,fa-clipboard-new,fa-clipboard-plus,fa-clipboard-pointer,fa-clipboard-search,fa-clipboard-user,fa-clipboard-wrench,fa-clipboard-x,fa-columns,fa-copy,fa-cut,fa-eraser,fa-file,fa-file-o,fa-file-text,fa-file-text-o,fa-files-o,fa-font,fa-header,fa-indent,fa-italic,fa-link,fa-list,fa-list-alt,fa-list-ol,fa-list-ul,fa-outdent,fa-paperclip,fa-paragraph,fa-paste,fa-repeat,fa-rotate-left,fa-rotate-right,fa-save,fa-scissors,fa-strikethrough,fa-subscript,fa-superscript,fa-table,fa-text-height,fa-text-width,fa-th,fa-th-large,fa-th-list,fa-underline,fa-undo,fa-unlink".split(","),TRANSPORTATION:"fa-ambulance,fa-bicycle,fa-bus,fa-car,fa-fighter-jet,fa-motorcycle,fa-plane,fa-rocket,fa-ship,fa-space-shuttle,fa-subway,fa-taxi,fa-train,fa-truck,fa-wheelchair".split(","),VIDEO_PLAYER:"fa-arrows-alt,fa-backward,fa-compress,fa-eject,fa-expand,fa-fast-backward,fa-fast-forward,fa-forward,fa-pause,fa-pause-circle,fa-pause-circle-o,fa-play,fa-play-circle,fa-play-circle-o,fa-random,fa-step-backward,fa-step-forward,fa-stop,fa-stop-circle,fa-stop-circle-o".split(","),WEB_APPLICATION:"fa-address-book,fa-address-book-o,fa-address-card,fa-address-card-o,fa-adjust,fa-alert,fa-american-sign-language-interpreting,fa-anchor,fa-apex,fa-apex-square,fa-archive,fa-area-chart,fa-arrows,fa-arrows-h,fa-arrows-v,fa-asl-interpreting,fa-assistive-listening-systems,fa-asterisk,fa-at,fa-audio-description,fa-badge-list,fa-badges,fa-balance-scale,fa-ban,fa-bar-chart,fa-barcode,fa-bars,fa-bath,fa-battery-0,fa-battery-1,fa-battery-2,fa-battery-3,fa-battery-4,fa-battleship,fa-bed,fa-beer,fa-bell,fa-bell-o,fa-bell-slash,fa-bell-slash-o,fa-bicycle,fa-binoculars,fa-birthday-cake,fa-blind,fa-bolt,fa-bomb,fa-book,fa-bookmark,fa-bookmark-o,fa-braille,fa-breadcrumb,fa-briefcase,fa-bug,fa-building,fa-building-o,fa-bullhorn,fa-bullseye,fa-bus,fa-button,fa-button-container,fa-button-group,fa-calculator,fa-calendar,fa-calendar-check-o,fa-calendar-minus-o,fa-calendar-o,fa-calendar-plus-o,fa-calendar-times-o,fa-camera,fa-camera-retro,fa-car,fa-cards,fa-caret-square-o-down,fa-caret-square-o-left,fa-caret-square-o-right,fa-caret-square-o-up,fa-carousel,fa-cart-arrow-down,fa-cart-arrow-up,fa-cart-check,fa-cart-edit,fa-cart-empty,fa-cart-full,fa-cart-heart,fa-cart-lock,fa-cart-magnifying-glass,fa-cart-plus,fa-cart-times,fa-cc,fa-certificate,fa-change-case,fa-check,fa-check-circle,fa-check-circle-o,fa-check-square,fa-check-square-o,fa-child,fa-circle,fa-circle-0-8,fa-circle-1-8,fa-circle-2-8,fa-circle-3-8,fa-circle-4-8,fa-circle-5-8,fa-circle-6-8,fa-circle-7-8,fa-circle-8-8,fa-circle-o,fa-circle-o-notch,fa-circle-thin,fa-clock-o,fa-clone,fa-cloud,fa-cloud-arrow-down,fa-cloud-arrow-up,fa-cloud-ban,fa-cloud-bookmark,fa-cloud-chart,fa-cloud-check,fa-cloud-clock,fa-cloud-cursor,fa-cloud-download,fa-cloud-edit,fa-cloud-file,fa-cloud-heart,fa-cloud-lock,fa-cloud-new,fa-cloud-play,fa-cloud-plus,fa-cloud-pointer,fa-cloud-search,fa-cloud-upload,fa-cloud-user,fa-cloud-wrench,fa-cloud-x,fa-code,fa-code-fork,fa-code-group,fa-coffee,fa-collapsible,fa-comment,fa-comment-o,fa-commenting,fa-commenting-o,fa-comments,fa-comments-o,fa-compass,fa-contacts,fa-copyright,fa-creative-commons,fa-credit-card,fa-credit-card-alt,fa-credit-card-terminal,fa-crop,fa-crosshairs,fa-cube,fa-cubes,fa-cutlery,fa-dashboard,fa-database,fa-database-arrow-down,fa-database-arrow-up,fa-database-ban,fa-database-bookmark,fa-database-chart,fa-database-check,fa-database-clock,fa-database-cursor,fa-database-edit,fa-database-file,fa-database-heart,fa-database-lock,fa-database-new,fa-database-play,fa-database-plus,fa-database-pointer,fa-database-search,fa-database-user,fa-database-wrench,fa-database-x,fa-deaf,fa-deafness,fa-design,fa-desktop,fa-diamond,fa-dot-circle-o,fa-download,fa-download-alt,fa-dynamic-content,fa-edit,fa-ellipsis-h,fa-ellipsis-h-o,fa-ellipsis-v,fa-ellipsis-v-o,fa-envelope,fa-envelope-arrow-down,fa-envelope-arrow-up,fa-envelope-ban,fa-envelope-bookmark,fa-envelope-chart,fa-envelope-check,fa-envelope-clock,fa-envelope-cursor,fa-envelope-edit,fa-envelope-heart,fa-envelope-lock,fa-envelope-o,fa-envelope-open,fa-envelope-open-o,fa-envelope-play,fa-envelope-plus,fa-envelope-pointer,fa-envelope-search,fa-envelope-square,fa-envelope-user,fa-envelope-wrench,fa-envelope-x,fa-eraser,fa-exception,fa-exchange,fa-exclamation,fa-exclamation-circle,fa-exclamation-circle-o,fa-exclamation-diamond,fa-exclamation-diamond-o,fa-exclamation-square,fa-exclamation-square-o,fa-exclamation-triangle,fa-exclamation-triangle-o,fa-expand-collapse,fa-external-link,fa-external-link-square,fa-eye,fa-eye-slash,fa-eyedropper,fa-fax,fa-feed,fa-female,fa-fighter-jet,fa-fighter-jet-alt,fa-file-archive-o,fa-file-arrow-down,fa-file-arrow-up,fa-file-audio-o,fa-file-ban,fa-file-bookmark,fa-file-chart,fa-file-check,fa-file-clock,fa-file-code-o,fa-file-cursor,fa-file-edit,fa-file-excel-o,fa-file-heart,fa-file-image-o,fa-file-lock,fa-file-new,fa-file-pdf-o,fa-file-play,fa-file-plus,fa-file-pointer,fa-file-powerpoint-o,fa-file-search,fa-file-sql-o,fa-file-user,fa-file-video-o,fa-file-word-o,fa-file-wrench,fa-file-x,fa-film,fa-filter,fa-fire,fa-fire-extinguisher,fa-fit-to-height,fa-fit-to-size,fa-fit-to-width,fa-flag,fa-flag-checkered,fa-flag-o,fa-flashlight,fa-flask,fa-folder,fa-folder-arrow-down,fa-folder-arrow-up,fa-folder-ban,fa-folder-bookmark,fa-folder-chart,fa-folder-check,fa-folder-clock,fa-folder-cloud,fa-folder-cursor,fa-folder-edit,fa-folder-file,fa-folder-heart,fa-folder-lock,fa-folder-network,fa-folder-new,fa-folder-o,fa-folder-open,fa-folder-open-o,fa-folder-play,fa-folder-plus,fa-folder-pointer,fa-folder-search,fa-folder-user,fa-folder-wrench,fa-folder-x,fa-folders,fa-font-size,fa-font-size-decrease,fa-font-size-increase,fa-format,fa-forms,fa-frown-o,fa-function,fa-futbol-o,fa-gamepad,fa-gavel,fa-gear,fa-gears,fa-gift,fa-glass,fa-glasses,fa-globe,fa-graduation-cap,fa-hand-grab-o,fa-hand-lizard-o,fa-hand-peace-o,fa-hand-pointer-o,fa-hand-scissors-o,fa-hand-spock-o,fa-hand-stop-o,fa-handshake-o,fa-hard-of-hearing,fa-hardware,fa-hashtag,fa-hdd-o,fa-headphones,fa-headset,fa-heart,fa-heart-o,fa-heartbeat,fa-helicopter,fa-hero,fa-history,fa-home,fa-hourglass,fa-hourglass-1,fa-hourglass-2,fa-hourglass-3,fa-hourglass-o,fa-i-cursor,fa-id-badge,fa-id-card,fa-id-card-o,fa-image,fa-inbox,fa-index,fa-industry,fa-info,fa-info-circle,fa-info-circle-o,fa-info-square,fa-info-square-o,fa-key,fa-key-alt,fa-keyboard-o,fa-language,fa-laptop,fa-layers,fa-layout-1col-2col,fa-layout-1col-3col,fa-layout-1row-2row,fa-layout-2col,fa-layout-2col-1col,fa-layout-2row,fa-layout-2row-1row,fa-layout-3col,fa-layout-3col-1col,fa-layout-3row,fa-layout-blank,fa-layout-footer,fa-layout-grid-3x,fa-layout-header,fa-layout-header-1col-3col,fa-layout-header-2row,fa-layout-header-footer,fa-layout-header-nav-left-cards,fa-layout-header-nav-left-right-footer,fa-layout-header-nav-right-cards,fa-layout-header-sidebar-left,fa-layout-header-sidebar-right,fa-layout-list-left,fa-layout-list-right,fa-layout-modal-blank,fa-layout-modal-columns,fa-layout-modal-grid-2x,fa-layout-modal-header,fa-layout-modal-nav-left,fa-layout-modal-nav-right,fa-layout-modal-rows,fa-layout-nav-left,fa-layout-nav-left-cards,fa-layout-nav-left-hamburger,fa-layout-nav-left-hamburger-header,fa-layout-nav-left-header-cards,fa-layout-nav-left-header-header,fa-layout-nav-left-right,fa-layout-nav-left-right-header-footer,fa-layout-nav-right,fa-layout-nav-right-cards,fa-layout-nav-right-hamburger,fa-layout-nav-right-hamburger-header,fa-layout-nav-right-header,fa-layout-nav-right-header-cards,fa-layout-sidebar-left,fa-layout-sidebar-right,fa-layouts-grid-2x,fa-leaf,fa-lemon-o,fa-level-down,fa-level-up,fa-life-ring,fa-lightbulb-o,fa-line-chart,fa-location-arrow-o,fa-lock,fa-lock-check,fa-lock-file,fa-lock-new,fa-lock-password,fa-lock-plus,fa-lock-user,fa-lock-x,fa-low-vision,fa-magic,fa-magnet,fa-mail-forward,fa-male,fa-map,fa-map-marker-o,fa-map-o,fa-map-pin,fa-map-signs,fa-materialized-view,fa-media-list,fa-meh-o,fa-microchip,fa-microphone,fa-microphone-slash,fa-military-vehicle,fa-minus,fa-minus-circle,fa-minus-circle-o,fa-minus-square,fa-minus-square-o,fa-missile,fa-mobile,fa-money,fa-moon-o,fa-motorcycle,fa-mouse-pointer,fa-music,fa-navicon,fa-network-hub,fa-network-triangle,fa-newspaper-o,fa-notebook,fa-object-group,fa-object-ungroup,fa-office-phone,fa-package,fa-padlock,fa-padlock-unlock,fa-paint-brush,fa-paper-plane,fa-paper-plane-o,fa-paw,fa-pencil,fa-pencil-square,fa-pencil-square-o,fa-percent,fa-phone,fa-phone-square,fa-photo,fa-pie-chart,fa-plane,fa-plug,fa-plus,fa-plus-circle,fa-plus-circle-o,fa-plus-square,fa-plus-square-o,fa-podcast,fa-power-off,fa-pragma,fa-print,fa-procedure,fa-puzzle-piece,fa-qrcode,fa-question,fa-question-circle,fa-question-circle-o,fa-question-square,fa-question-square-o,fa-quote-left,fa-quote-right,fa-random,fa-recycle,fa-redo-alt,fa-redo-arrow,fa-refresh,fa-registered,fa-remove,fa-reply,fa-reply-all,fa-retweet,fa-road,fa-rocket,fa-rss,fa-rss-square,fa-save-as,fa-search,fa-search-minus,fa-search-plus,fa-send,fa-send-o,fa-sequence,fa-server,fa-server-arrow-down,fa-server-arrow-up,fa-server-ban,fa-server-bookmark,fa-server-chart,fa-server-check,fa-server-clock,fa-server-edit,fa-server-file,fa-server-heart,fa-server-lock,fa-server-new,fa-server-play,fa-server-plus,fa-server-pointer,fa-server-search,fa-server-user,fa-server-wrench,fa-server-x,fa-shapes,fa-share,fa-share-alt,fa-share-alt-square,fa-share-square,fa-share-square-o,fa-share2,fa-shield,fa-ship,fa-shopping-bag,fa-shopping-basket,fa-shopping-cart,fa-shower,fa-sign-in,fa-sign-language,fa-sign-out,fa-signal,fa-signing,fa-sitemap,fa-sitemap-horizontal,fa-sitemap-vertical,fa-sliders,fa-smile-o,fa-snowflake,fa-soccer-ball-o,fa-sort,fa-sort-alpha-asc,fa-sort-alpha-desc,fa-sort-amount-asc,fa-sort-amount-desc,fa-sort-asc,fa-sort-desc,fa-sort-numeric-asc,fa-sort-numeric-desc,fa-space-shuttle,fa-spinner,fa-spoon,fa-square,fa-square-o,fa-square-selected-o,fa-star,fa-star-half,fa-star-half-o,fa-star-o,fa-sticky-note,fa-sticky-note-o,fa-street-view,fa-suitcase,fa-sun-o,fa-support,fa-synonym,fa-table-arrow-down,fa-table-arrow-up,fa-table-ban,fa-table-bookmark,fa-table-chart,fa-table-check,fa-table-clock,fa-table-cursor,fa-table-edit,fa-table-file,fa-table-heart,fa-table-lock,fa-table-new,fa-table-play,fa-table-plus,fa-table-pointer,fa-table-search,fa-table-user,fa-table-wrench,fa-table-x,fa-tablet,fa-tabs,fa-tachometer,fa-tag,fa-tags,fa-tank,fa-tasks,fa-taxi,fa-television,fa-terminal,fa-thermometer-0,fa-thermometer-1,fa-thermometer-2,fa-thermometer-3,fa-thermometer-4,fa-thumb-tack,fa-thumbs-down,fa-thumbs-o-down,fa-thumbs-o-up,fa-thumbs-up,fa-ticket,fa-tiles-2x2,fa-tiles-3x3,fa-tiles-8,fa-tiles-9,fa-times,fa-times-circle,fa-times-circle-o,fa-times-rectangle,fa-times-rectangle-o,fa-tint,fa-toggle-off,fa-toggle-on,fa-tools,fa-trademark,fa-trash,fa-trash-o,fa-tree,fa-tree-org,fa-trigger,fa-trophy,fa-truck,fa-tty,fa-umbrella,fa-undo-alt,fa-undo-arrow,fa-universal-access,fa-university,fa-unlock,fa-unlock-alt,fa-upload,fa-upload-alt,fa-user,fa-user-arrow-down,fa-user-arrow-up,fa-user-ban,fa-user-chart,fa-user-check,fa-user-circle,fa-user-circle-o,fa-user-clock,fa-user-cursor,fa-user-edit,fa-user-graduate,fa-user-headset,fa-user-heart,fa-user-lock,fa-user-magnifying-glass,fa-user-man,fa-user-play,fa-user-plus,fa-user-pointer,fa-user-secret,fa-user-woman,fa-user-wrench,fa-user-x,fa-users,fa-users-chat,fa-variable,fa-video-camera,fa-volume-control-phone,fa-volume-down,fa-volume-off,fa-volume-up,fa-warning,fa-wheelchair,fa-wheelchair-alt,fa-wifi,fa-window,fa-window-alt,fa-window-alt-2,fa-window-arrow-down,fa-window-arrow-up,fa-window-ban,fa-window-bookmark,fa-window-chart,fa-window-check,fa-window-clock,fa-window-close,fa-window-close-o,fa-window-cursor,fa-window-edit,fa-window-file,fa-window-heart,fa-window-lock,fa-window-maximize,fa-window-minimize,fa-window-new,fa-window-play,fa-window-plus,fa-window-pointer,fa-window-restore,fa-window-search,fa-window-terminal,fa-window-user,fa-window-wrench,fa-window-x,fa-wizard,fa-wrench,fa-text-color,fa-abacus,fa-frown,fa-meh,fa-smile,fa-size-xxl,fa-size-xl,fa-size-l,fa-size-m,fa-size-s,fa-size-xs,fa-heat-map,fa-flag-swallowtail-o,fa-flag-swallowtail,fa-flag-pennant-o,fa-flag-pennant,fa-alarm-clock,fa-alarm-check,fa-alarm-snooze,fa-alarm-plus,fa-alarm-minus,fa-alarm-times,fa-user-slash,fa-users-alt,fa-podium,fa-presentation,fa-analytics,fa-tasks-alt,fa-bug-slash,fa-file-brackets,fa-file-csv-o,fa-file-json-o,fa-file-signature,fa-sort-amount-asc-alt,fa-sort-amount-desc-alt,fa-404,fa-4k,fa-accordion,fa-accessor-more,fa-accessor-one,fa-badge,fa-badge-check,fa-badge-dollar,fa-badge-percent,fa-workflow,fa-database-application,fa-person-running-fast,fa-person-running,fa-person-standing,fa-person-walking".split(",")},y={BRAND:"fa-500px,fa-adn,fa-amazon,fa-android,fa-angellist,fa-apple,fa-behance,fa-behance-square,fa-bitbucket,fa-bitbucket-square,fa-black-tie,fa-bluetooth,fa-bluetooth-b,fa-btc,fa-buysellads,fa-cc-amex,fa-cc-diners-club,fa-cc-discover,fa-cc-jcb,fa-cc-mastercard,fa-cc-paypal,fa-cc-stripe,fa-cc-visa,fa-chrome,fa-codepen,fa-codiepie,fa-connectdevelop,fa-contao,fa-credit-card-alt,fa-css3,fa-dashcube,fa-delicious,fa-deviantart,fa-digg,fa-dribbble,fa-dropbox,fa-drupal,fa-edge,fa-empire,fa-expeditedssl,fa-facebook,fa-facebook-official,fa-facebook-square,fa-firefox,fa-flickr,fa-fonticons,fa-fort-awesome,fa-forumbee,fa-foursquare,fa-get-pocket,fa-gg,fa-gg-circle,fa-git,fa-git-square,fa-github,fa-github-alt,fa-github-square,fa-google,fa-google-plus,fa-google-plus-square,fa-google-wallet,fa-gratipay,fa-hacker-news,fa-houzz,fa-html5,fa-instagram,fa-internet-explorer,fa-ioxhost,fa-joomla,fa-jsfiddle,fa-lastfm,fa-lastfm-square,fa-leanpub,fa-linkedin,fa-linkedin-square,fa-linux,fa-maxcdn,fa-meanpath,fa-medium,fa-mixcloud,fa-modx,fa-odnoklassniki,fa-odnoklassniki-square,fa-opencart,fa-openid,fa-opera,fa-optin-monster,fa-pagelines,fa-paypal,fa-pied-piper,fa-pied-piper-alt,fa-pinterest,fa-pinterest-p,fa-pinterest-square,fa-product-hunt,fa-qq,fa-rebel,fa-reddit,fa-reddit-alien,fa-reddit-square,fa-renren,fa-safari,fa-scribd,fa-sellsy,fa-share-alt,fa-share-alt-square,fa-shirtsinbulk,fa-simplybuilt,fa-skyatlas,fa-skype,fa-slack,fa-slideshare,fa-soundcloud,fa-spotify,fa-stack-exchange,fa-stack-overflow,fa-steam,fa-steam-square,fa-stumbleupon,fa-stumbleupon-circle,fa-tencent-weibo,fa-trello,fa-tripadvisor,fa-tumblr,fa-tumblr-square,fa-twitch,fa-twitter,fa-twitter-square,fa-usb,fa-viacoin,fa-vimeo,fa-vimeo-square,fa-vine,fa-vk,fa-weibo,fa-weixin,fa-whatsapp,fa-wikipedia-w,fa-windows,fa-wordpress,fa-xing,fa-xing-square,fa-y-combinator,fa-yahoo,fa-yelp,fa-youtube,fa-youtube-play,fa-youtube-square".split(","),CHART:"fa-area-chart,fa-bar-chart,fa-line-chart,fa-pie-chart".split(","),CURRENCY:"fa-btc,fa-eur,fa-gbp,fa-gg,fa-gg-circle,fa-ils,fa-inr,fa-jpy,fa-krw,fa-money,fa-rub,fa-try,fa-usd".split(","),DIRECTIONAL:"fa-angle-double-down,fa-angle-double-left,fa-angle-double-right,fa-angle-double-up,fa-angle-down,fa-angle-left,fa-angle-right,fa-angle-up,fa-arrow-circle-down,fa-arrow-circle-left,fa-arrow-circle-o-down,fa-arrow-circle-o-left,fa-arrow-circle-o-right,fa-arrow-circle-o-up,fa-arrow-circle-right,fa-arrow-circle-up,fa-arrow-down,fa-arrow-left,fa-arrow-right,fa-arrow-up,fa-arrows,fa-arrows-alt,fa-arrows-h,fa-arrows-v,fa-caret-down,fa-caret-left,fa-caret-right,fa-caret-square-o-down,fa-caret-square-o-left,fa-caret-square-o-right,fa-caret-square-o-up,fa-caret-up,fa-chevron-circle-down,fa-chevron-circle-left,fa-chevron-circle-right,fa-chevron-circle-up,fa-chevron-down,fa-chevron-left,fa-chevron-right,fa-chevron-up,fa-exchange,fa-hand-o-down,fa-hand-o-left,fa-hand-o-right,fa-hand-o-up,fa-long-arrow-down,fa-long-arrow-left,fa-long-arrow-right,fa-long-arrow-up".split(","),FILE_TYPE:"fa-file,fa-file-archive-o,fa-file-audio-o,fa-file-code-o,fa-file-excel-o,fa-file-image-o,fa-file-o,fa-file-pdf-o,fa-file-powerpoint-o,fa-file-text,fa-file-text-o,fa-file-video-o,fa-file-word-o".split(","),FORM_CONTROL:"fa-check-square,fa-check-square-o,fa-circle,fa-circle-o,fa-dot-circle-o,fa-minus-square,fa-minus-square-o,fa-plus-square,fa-plus-square-o,fa-square,fa-square-o".split(","),GENDER:"fa-genderless,fa-mars,fa-mars-double,fa-mars-stroke,fa-mars-stroke-h,fa-mars-stroke-v,fa-mercury,fa-neuter,fa-transgender,fa-transgender-alt,fa-venus,fa-venus-double,fa-venus-mars".split(","),HAND:"fa-hand-lizard-o,fa-hand-o-down,fa-hand-o-left,fa-hand-o-right,fa-hand-o-up,fa-hand-paper-o,fa-hand-peace-o,fa-hand-pointer-o,fa-hand-rock-o,fa-hand-scissors-o,fa-hand-spock-o,fa-thumbs-down,fa-thumbs-o-down,fa-thumbs-o-up,fa-thumbs-up".split(","),MEDICAL:"fa-ambulance,fa-h-square,fa-heart,fa-heart-o,fa-heartbeat,fa-hospital-o,fa-medkit,fa-plus-square,fa-stethoscope,fa-user-md,fa-wheelchair".split(","),PAYMENT:"fa-cc-amex,fa-cc-diners-club,fa-cc-discover,fa-cc-jcb,fa-cc-mastercard,fa-cc-paypal,fa-cc-stripe,fa-cc-visa,fa-credit-card,fa-credit-card-alt,fa-google-wallet,fa-paypal".split(","),SPINNER:"fa-circle-o-notch,fa-cog,fa-refresh,fa-spinner".split(","),TEXT_EDITOR:"fa-align-center,fa-align-justify,fa-align-left,fa-align-right,fa-bold,fa-chain-broken,fa-clipboard,fa-columns,fa-eraser,fa-file,fa-file-o,fa-file-text,fa-file-text-o,fa-files-o,fa-floppy-o,fa-font,fa-header,fa-indent,fa-italic,fa-link,fa-list,fa-list-alt,fa-list-ol,fa-list-ul,fa-outdent,fa-paperclip,fa-paragraph,fa-repeat,fa-scissors,fa-strikethrough,fa-subscript,fa-superscript,fa-table,fa-text-height,fa-text-width,fa-th,fa-th-large,fa-th-list,fa-underline,fa-undo".split(","),TRANSPORTATION:"fa-ambulance,fa-bicycle,fa-bus,fa-car,fa-fighter-jet,fa-motorcycle,fa-plane,fa-rocket,fa-ship,fa-space-shuttle,fa-subway,fa-taxi,fa-train,fa-truck,fa-wheelchair".split(","),VIDEO_PLAYER:"fa-arrows-alt,fa-backward,fa-compress,fa-eject,fa-expand,fa-fast-backward,fa-fast-forward,fa-forward,fa-pause,fa-pause-circle,fa-pause-circle-o,fa-play,fa-play-circle,fa-play-circle-o,fa-random,fa-step-backward,fa-step-forward,fa-stop,fa-stop-circle,fa-stop-circle-o,fa-youtube-play".split(","),WEB_APPLICATION:"fa-adjust,fa-anchor,fa-archive,fa-area-chart,fa-arrows,fa-arrows-h,fa-arrows-v,fa-asterisk,fa-at,fa-balance-scale,fa-ban,fa-bar-chart,fa-barcode,fa-bars,fa-battery-empty,fa-battery-full,fa-battery-half,fa-battery-quarter,fa-battery-three-quarters,fa-bed,fa-beer,fa-bell,fa-bell-o,fa-bell-slash,fa-bell-slash-o,fa-bicycle,fa-binoculars,fa-birthday-cake,fa-bluetooth,fa-bluetooth-b,fa-bolt,fa-bomb,fa-book,fa-bookmark,fa-bookmark-o,fa-briefcase,fa-bug,fa-building,fa-building-o,fa-bullhorn,fa-bullseye,fa-bus,fa-calculator,fa-calendar,fa-calendar-check-o,fa-calendar-minus-o,fa-calendar-o,fa-calendar-plus-o,fa-calendar-times-o,fa-camera,fa-camera-retro,fa-car,fa-caret-square-o-down,fa-caret-square-o-left,fa-caret-square-o-right,fa-caret-square-o-up,fa-cart-arrow-down,fa-cart-plus,fa-cc,fa-certificate,fa-check,fa-check-circle,fa-check-circle-o,fa-check-square,fa-check-square-o,fa-child,fa-circle,fa-circle-o,fa-circle-o-notch,fa-circle-thin,fa-clock-o,fa-clone,fa-cloud,fa-cloud-download,fa-cloud-upload,fa-code,fa-code-fork,fa-coffee,fa-cog,fa-cogs,fa-comment,fa-comment-o,fa-commenting,fa-commenting-o,fa-comments,fa-comments-o,fa-compass,fa-copyright,fa-creative-commons,fa-credit-card,fa-crop,fa-crosshairs,fa-cube,fa-cubes,fa-cutlery,fa-database,fa-desktop,fa-diamond,fa-dot-circle-o,fa-download,fa-ellipsis-h,fa-ellipsis-v,fa-envelope,fa-envelope-o,fa-envelope-square,fa-eraser,fa-exchange,fa-exclamation,fa-exclamation-circle,fa-exclamation-triangle,fa-external-link,fa-external-link-square,fa-eye,fa-eye-slash,fa-eyedropper,fa-fax,fa-female,fa-fighter-jet,fa-file-archive-o,fa-file-audio-o,fa-file-code-o,fa-file-excel-o,fa-file-image-o,fa-file-pdf-o,fa-file-powerpoint-o,fa-file-video-o,fa-file-word-o,fa-film,fa-filter,fa-fire,fa-fire-extinguisher,fa-flag,fa-flag-checkered,fa-flag-o,fa-flask,fa-folder,fa-folder-o,fa-folder-open,fa-folder-open-o,fa-frown-o,fa-futbol-o,fa-gamepad,fa-gavel,fa-gift,fa-glass,fa-globe,fa-graduation-cap,fa-hand-lizard-o,fa-hand-paper-o,fa-hand-peace-o,fa-hand-pointer-o,fa-hand-rock-o,fa-hand-scissors-o,fa-hand-spock-o,fa-hashtag,fa-hdd-o,fa-headphones,fa-heart,fa-heart-o,fa-heartbeat,fa-history,fa-home,fa-hourglass,fa-hourglass-end,fa-hourglass-half,fa-hourglass-o,fa-hourglass-start,fa-i-cursor,fa-inbox,fa-industry,fa-info,fa-info-circle,fa-key,fa-keyboard-o,fa-language,fa-laptop,fa-leaf,fa-lemon-o,fa-level-down,fa-level-up,fa-life-ring,fa-lightbulb-o,fa-line-chart,fa-location-arrow,fa-lock,fa-magic,fa-magnet,fa-male,fa-map,fa-map-marker,fa-map-o,fa-map-pin,fa-map-signs,fa-meh-o,fa-microphone,fa-microphone-slash,fa-minus,fa-minus-circle,fa-minus-square,fa-minus-square-o,fa-mobile,fa-money,fa-moon-o,fa-motorcycle,fa-mouse-pointer,fa-music,fa-newspaper-o,fa-object-group,fa-object-ungroup,fa-paint-brush,fa-paper-plane,fa-paper-plane-o,fa-paw,fa-pencil,fa-pencil-square,fa-pencil-square-o,fa-percent,fa-phone,fa-phone-square,fa-picture-o,fa-pie-chart,fa-plane,fa-plug,fa-plus,fa-plus-circle,fa-plus-square,fa-plus-square-o,fa-power-off,fa-print,fa-puzzle-piece,fa-qrcode,fa-question,fa-question-circle,fa-quote-left,fa-quote-right,fa-random,fa-recycle,fa-refresh,fa-registered,fa-reply,fa-reply-all,fa-retweet,fa-road,fa-rocket,fa-rss,fa-rss-square,fa-search,fa-search-minus,fa-search-plus,fa-server,fa-share,fa-share-alt,fa-share-alt-square,fa-share-square,fa-share-square-o,fa-shield,fa-ship,fa-shopping-bag,fa-shopping-basket,fa-shopping-cart,fa-sign-in,fa-sign-out,fa-signal,fa-sitemap,fa-sliders,fa-smile-o,fa-sort,fa-sort-alpha-asc,fa-sort-alpha-desc,fa-sort-amount-asc,fa-sort-amount-desc,fa-sort-asc,fa-sort-desc,fa-sort-numeric-asc,fa-sort-numeric-desc,fa-space-shuttle,fa-spinner,fa-spoon,fa-square,fa-square-o,fa-star,fa-star-half,fa-star-half-o,fa-star-o,fa-sticky-note,fa-sticky-note-o,fa-street-view,fa-suitcase,fa-sun-o,fa-tablet,fa-tachometer,fa-tag,fa-tags,fa-tasks,fa-taxi,fa-television,fa-terminal,fa-thumb-tack,fa-thumbs-down,fa-thumbs-o-down,fa-thumbs-o-up,fa-thumbs-up,fa-ticket,fa-times,fa-times-circle,fa-times-circle-o,fa-tint,fa-toggle-off,fa-toggle-on,fa-trademark,fa-trash,fa-trash-o,fa-tree,fa-trophy,fa-truck,fa-tty,fa-umbrella,fa-university,fa-unlock,fa-unlock-alt,fa-upload,fa-user,fa-user-plus,fa-user-secret,fa-user-times,fa-users,fa-video-camera,fa-volume-down,fa-volume-off,fa-volume-up,fa-wheelchair,fa-wifi,fa-wrench".split(",")},P=E.custom?E.custom.split(","):[],_={columnDefinitions:[{name:"d",title:pe("NAME"),alignment:"left",isRowHeader:!0}],filters:[{name:"search",title:pe("SEARCH"),type:"search"}],filterLov:function(a,e){var t,i=[],l=a.type;function n(a,e){i.push({r:a,d:e||a,preview:'<span class="fa '+o.escapeHTMLAttr(a)+'"></span>'})}function f(a,e,t){for(var r=0;r<a.length;r++)t&&"default"!==t?"small"===t?n("fa-sm "+a[r],a[r]):"large"===t&&n("fa-lg "+a[r],a[r]):n(a[r])}if(g(l)){if(""===a.category)for(t in h)p(h,t)&&f(h[t],0,a.style);else f(h[a.category],a.category,a.style);e(i,a.search)}else if(m(l)){if(""===a.category)for(t in y)p(y,t)&&f(y[t]);else f(y[a.category],a.category);e(i,a.search)}else"CUSTOM"===l?(f(P),e(i,a.search)):l&&"UTILIZED"!==l||r.metaData.lovValues((function(t){for(var r=0;r<t.length;r++)n(t[r].r);e(i,a.search)}),a)},resizable:!0,resultsDisplay:g(E.library)?"grid":"table"},T={name:"type",title:pe("TYPE"),type:"buttonset",defaultValue:"",lov:[]},O=[],v=E.library;if(P.length>0&&(T.lov.push({display:pe("CUSTOM"),value:"CUSTOM"}),T.defaultValue="CUSTOM"),-1!==e.inArray(v,["FONTAPEX","FONTAPEX_LATEST","FONTAWESOME"])){if(m(v)&&_.columnDefinitions.push({name:"preview",title:pe("PREVIEW"),alignment:"center",width:"20%",escape:!1}),g(v)&&(l={name:"style",title:pe("ICON.STYLE"),type:"select",defaultValue:"default",isRequired:!0,lov:[{display:pe("ICON.DEFAULT"),value:"default"},{display:pe("ICON.SMALL"),value:"small"},{display:pe("ICON.LARGE"),value:"large"}]}),n={name:"category",title:pe("CATEGORY"),type:"select",defaultValue:"",lov:[]},g(v)){var I=v.toUpperCase().indexOf("LATEST")>-1?"latest":"2.4";f=h,d="Font APEX",u=s.APEX_FILES+"libraries/font-apex/"+I+"/css/font-apex.min.css"}else m(v)&&(f=y,d="Font Awesome",u=s.APEX_FILES+"libraries/font-awesome/4.5.0/css/font-awesome.min.css");for(var R in f)p(f,R)&&n.lov.push({display:pe("FA."+R),value:R});l&&O.push(l),O.push(n),T.lov.unshift({display:d,value:v,filters:O}),T.defaultValue=v,c||(c=e('<link rel="stylesheet" type="text/css" href="'+u+'" />').appendTo("head"))}T.lov.length>0&&(T.lov.push({display:pe("UTILIZED"),value:"UTILIZED"}),_.filters.unshift(T)),this.super("init",t,r,i,_)}},e.apex.propertyEditor.PROP_TYPE.COMBOBOX),e.apex.propertyEditor.addPropertyType("CODE LANGUAGE",{init:function(a,e,t){this.super("init",a,e,t),a.on("change",(function(a){const e="CODE_LANGUAGE",t=window.gPreferences[e]||"PLSQL";let r=a.target.value;"SQL"!==r&&t!==r&&(window.gPreferences[e]=r,n.process("setPreference",{x01:e,x02:r},{dataType:"",queue:{name:"setPreference_CODE_LANGUAGE",action:"lazyWrite"}}))}))}},e.apex.propertyEditor.PROP_TYPE.SELECT_LIST),e.apex.propertyEditor.addPropertyType("MEDIA",{_msgWrongDataType:pe("VAL.COLUMN_HAS_WRONG_DATA_TYPE"),_getMediaObject:function(a){var r={};if(a&&""!==a)try{r=JSON.parse(a)}catch(a){t.error("Invalid Media JSON; returning empty object.",a)}return e.extend(!0,{source:"",url:"",blobColumn:"",filenameColumn:"",mimeTypeColumn:"",lastUpdatedColumn:""},r)},_getButtonText:function(a){var e,t=this._getMediaObject(a);switch(t.source){case te.SOURCES.URL:e=t.url;break;case te.SOURCES.BLOB_COLUMN:e=t.blobColumn;break;case te.SOURCES.URL_COLUMN:e=t.urlColumn;break;default:e=pe("MEDIA.NO_MEDIA_DEFINED")}return e},_validateDataType(e,t,r){var o,i=[];return e&&(o=t().find((a=>a.r===e))?.dataType,a.isMatchingDataType(o,[r])||i.push(this._msgWrongDataType)),i},_isValueInLovGroup(a,e,t){var r=t.find((a=>a.group===e));return!!r&&r.values.some((e=>e.r===a))},_filterMatchingDataType(e,t){var r=[],o=[];return e().forEach((function(e){a.isMatchingDataType(e.dataType,[t])?r.push(e):(e.d+=" ("+e.dataType.toLowerCase()+")",o.push(e))})),o.length>0&&r.push({group:de("LOV.COLUMN_WRONG_DATA_TYPE"),values:o}),r},_getDisplayGroupMedia:function(a){return{displayGroupId:te.DISPLAY_GROUP.MEDIA,displayGroupTitle:pe("MEDIA.MEDIA_ATTRIBUTES"),properties:a||[]}},_getPropertyMediaSource:function(a,t){let r=[{d:pe("MEDIA.SOURCE.URL"),r:te.SOURCES.URL}];return"ROW"===t.metaData?.referenceScope&&r.push({d:pe("MEDIA.SOURCE.BLOB_COLUMN"),r:te.SOURCES.BLOB_COLUMN},{d:pe("MEDIA.SOURCE.URL_COLUMN"),r:te.SOURCES.URL_COLUMN}),e.extend(!0,{propertyName:te.PROP.SOURCE,value:"",metaData:{type:e.apex.propertyEditor.PROP_TYPE.SELECT_LIST,prompt:pe("MEDIA.SOURCE"),isRequired:!0,nullText:pe("MEDIA.NO_MEDIA"),lovValues:r,displayGroupId:te.DISPLAY_GROUP.MEDIA},errors:[],warnings:[]},a)},_getPropertyMediaUrl:function(a){return e.extend(!0,{propertyName:te.PROP.URL,value:"",metaData:{type:e.apex.propertyEditor.PROP_TYPE.TEXT,prompt:pe("MEDIA.URL"),isRequired:!0,displayGroupId:te.DISPLAY_GROUP.MEDIA},errors:[],warnings:[]},a)},_getPropertyColumn(a,t,r,o,i){return e.extend(!0,{propertyName:te.PROP[r],value:"",metaData:{type:e.apex.propertyEditor.PROP_TYPE.SELECT_LIST,prompt:pe("MEDIA."+r),isRequired:o,displayGroupId:te.DISPLAY_GROUP.MEDIA,lovValues:this._filterMatchingDataType(t.metaData.lovValues,i)},errors:this._validateDataType(a.value,t.metaData.lovValues,i),warnings:[]},a)},noLabel:!0,render:function(a,e,t,r){let o=r?.length?r[0]:null;this.renderDivOpen(a,{class:k}),me(a,e,t,this._getButtonText(t.value,o)),this.renderDivClose(a)},setValue:function(a,e,t,r){var o;this.super("setValue",a,e,t,r),o=this._getButtonText(t),a.text(o).attr("title",o)},init:function(a,t,i){var l=this,n="mediaDlg",f=n+"PE";this.addLabelClickHandler(a,t),this.addTooltipsForErrors(a,t),a.closest("div."+b).on("click","#"+a.attr("id"),(function(){var s,p=o.htmlBuilder(),d=[],u=l._getMediaObject(t.value);function c(a){var e;for(let t=0;t<d.length;t++)for(let r=0;r<d[t].properties.length;r++)if(d[t].properties[r].propertyName===a){e=d[t].properties[r];break}return e}function g(a,e){return a.errors.push(e),a}""===u.source&&t.metaData.lovValues().some((function(a){return"BLOB"===a.dataType}))&&(u.source=te.SOURCES.BLOB_COLUMN),d.push(l._getDisplayGroupMedia([l._getPropertyMediaSource({value:u.source,metaData:{isReadOnly:t.metaData.isReadOnly,isRequired:t.metaData.isRequired}},t),l._getPropertyMediaUrl({value:u.url,metaData:{isReadOnly:t.metaData.isReadOnly}},t),l._getPropertyColumn({value:u.blobColumn,metaData:{isReadOnly:t.metaData.isReadOnly}},t,"BLOB_COLUMN",!0,"BLOB"),l._getPropertyColumn({value:u.filenameColumn,metaData:{isReadOnly:t.metaData.isReadOnly}},t,"FILENAME_COLUMN",!1,"VARCHAR2"),l._getPropertyColumn({value:u.mimeTypeColumn,metaData:{isReadOnly:t.metaData.isReadOnly}},t,"MIME_TYPE_COLUMN",!1,"VARCHAR2"),l._getPropertyColumn({value:u.lastUpdatedColumn,metaData:{isReadOnly:t.metaData.isReadOnly}},t,"LAST_UPDATED_COLUMN",!1,"DATE"),l._getPropertyColumn({value:u.urlColumn,metaData:{isReadOnly:t.metaData.isReadOnly}},t,"URL_COLUMN",!1,"VARCHAR2")])),p.markup("<div").attr("id",n).attr("title",pe("MEDIA.TITLE")).markup(">").markup("<div").attr("id",f).markup(">").markup("</div>").markup("</div>"),s=e(p.toString()).dialog({modal:!0,closeText:r.getMessage("APEX.DIALOG.CLOSE"),minWidth:400,width:500,dialogClass:oa,create:function(){e(this).closest(".ui-dialog").attr("aria-modal",!0)},close:function(){e("#"+f).propertyEditor("destroy"),e("#"+n).dialog("destroy")},open:function(){var a=e("#"+f);function r(e){var r={metaData:{isReadOnly:t.metaData.isReadOnly}},o=te.PROP.SOURCE;function i(e){a.propertyEditor("addProperty",{property:e,prevPropertyName:o,displayGroup:l._getDisplayGroupMedia()})}function n(a,e,n){i(l._getPropertyColumn(r,t,a,e,n)),o=te.PROP[a]}function f(...e){e.forEach((e=>{a.propertyEditor("removeProperty",e)}))}switch(e){case te.SOURCES.URL:i(l._getPropertyMediaUrl(r,t)),f(te.PROP.BLOB_COLUMN,te.PROP.FILENAME_COLUMN,te.PROP.MIME_TYPE_COLUMN,te.PROP.LAST_UPDATED_COLUMN,te.PROP.URL_COLUMN);break;case te.SOURCES.URL_COLUMN:n("URL_COLUMN",!0,"VARCHAR2"),f(te.PROP.URL,te.PROP.BLOB_COLUMN,te.PROP.FILENAME_COLUMN,te.PROP.MIME_TYPE_COLUMN,te.PROP.LAST_UPDATED_COLUMN);break;case te.SOURCES.BLOB_COLUMN:f(te.PROP.URL,te.PROP.URL_COLUMN),n("BLOB_COLUMN",!0,"BLOB"),n("FILENAME_COLUMN",!1,"VARCHAR2"),n("MIME_TYPE_COLUMN",!1,"VARCHAR2"),n("LAST_UPDATED_COLUMN",!1,"DATE");break;default:f(te.PROP.URL,te.PROP.BLOB_COLUMN,te.PROP.FILENAME_COLUMN,te.PROP.MIME_TYPE_COLUMN,te.PROP.LAST_UPDATED_COLUMN,te.PROP.URL_COLUMN)}}a.propertyEditor({focusPropertyName:te.PROP.SOURCE,data:{propertySet:d,multiEdit:!1,lastComponents:i},change:function(a,e){e.propertyName===te.PROP.SOURCE&&r(c(te.PROP.SOURCE).value),c(e.propertyName).value=e.property.value}}),r(c(te.PROP.SOURCE).value),e("#"+n).dialog({position:{my:"center",at:"center",of:window}})},buttons:[{text:pe("CANCEL"),click:function(){e("#"+n).dialog("close")}},{text:pe("CLEAR"),disabled:t.metaData.isRequired||t.metaData.isReadOnly,click:function(){e("#"+f).propertyEditor("updatePropertyValue",te.PROP.SOURCE,""),l.setValue(a,t,""),a.trigger("change"),l.setFocus(a),e("#"+n).dialog("close")}},{text:pe("OK"),class:U,disabled:t.metaData.isReadOnly,click:function(){var o,i,n=[],p=c(te.PROP.SOURCE),d=e("#"+f),u={source:p.value};const m=r.getMessage("MODEL.LOV.COLUMN_WRONG_DATA_TYPE"),E=pe("IS_REQUIRED");function h(a,e,t){t&&""===e?n.push(g(a,E)):e&&l._isValueInLovGroup(e,m,a.metaData.lovValues)&&n.push(g(a,l._msgWrongDataType))}switch(p.errors=[],u.source){case te.SOURCES.URL:(o=c(te.PROP.URL)).errors=[],u.url=o.value,""===u.url&&n.push(g(o,E));break;case te.SOURCES.URL_COLUMN:(o=c(te.PROP.URL_COLUMN)).errors=[],u.urlColumn=o.value,h(o,u.urlColumn,!0);break;case te.SOURCES.BLOB_COLUMN:(i={blobColumn:c(te.PROP.BLOB_COLUMN),filenameColumn:c(te.PROP.FILENAME_COLUMN),mimeTypeColumn:c(te.PROP.MIME_TYPE_COLUMN),lastUpdatedColumn:c(te.PROP.LAST_UPDATED_COLUMN)}).blobColumn.errors=[],i.filenameColumn.errors=[],i.mimeTypeColumn.errors=[],i.lastUpdatedColumn.errors=[],u.blobColumn=i.blobColumn.value,u.filenameColumn=i.filenameColumn.value,u.mimeTypeColumn=i.mimeTypeColumn.value,u.lastUpdatedColumn=i.lastUpdatedColumn.value,h(i.blobColumn,u.blobColumn,!0),h(i.filenameColumn,u.filenameColumn,!1),h(i.mimeTypeColumn,u.mimeTypeColumn,!1),h(i.lastUpdatedColumn,u.lastUpdatedColumn,!1);break;default:t.metaData.isRequired&&n.push(g(p,pe("IS_REQUIRED")))}if(0===n.length)l.setValue(a,t,JSON.stringify(u)),a.trigger("change"),s.dialog("close");else for(var y=0;y<n.length;y++)d.propertyEditor("updateProperty",n[y])}}]})}))}}),e.apex.propertyEditor.addPropertyType("CSS",null,Pa),e.apex.propertyEditor.addPropertyType("JAVASCRIPT",null,Pa),e.apex.propertyEditor.addPropertyType(la,null,Pa),e.apex.propertyEditor.addPropertyType("PLSQL",null,Pa),e.apex.propertyEditor.addPropertyType("PLSQL EXPRESSION VARCHAR2",null,Pa),e.apex.propertyEditor.addPropertyType("PLSQL EXPRESSION BOOLEAN",null,Pa),e.apex.propertyEditor.addPropertyType("PLSQL EXPRESSION CUSTOM",null,Pa),e.apex.propertyEditor.addPropertyType("PLSQL FUNCTION BODY VARCHAR2",null,Pa),e.apex.propertyEditor.addPropertyType("PLSQL FUNCTION BODY CLOB",null,Pa),e.apex.propertyEditor.addPropertyType("PLSQL FUNCTION BODY BOOLEAN",null,Pa),e.apex.propertyEditor.addPropertyType("PLSQL FUNCTION BODY CUSTOM",null,Pa),e.apex.propertyEditor.addPropertyType("PLSQL FUNCTION BODY SQL",null,Pa),e.apex.propertyEditor.addPropertyType("MLE JAVASCRIPT",null,Pa),e.apex.propertyEditor.addPropertyType("MLE JAVASCRIPT EXPRESSION VARCHAR2",null,Pa),e.apex.propertyEditor.addPropertyType("MLE JAVASCRIPT EXPRESSION BOOLEAN",null,Pa),e.apex.propertyEditor.addPropertyType("MLE JAVASCRIPT EXPRESSION CUSTOM",null,Pa),e.apex.propertyEditor.addPropertyType("MLE JAVASCRIPT FUNCTION BODY VARCHAR2",null,Pa),e.apex.propertyEditor.addPropertyType("MLE JAVASCRIPT FUNCTION BODY CLOB",null,Pa),e.apex.propertyEditor.addPropertyType("MLE JAVASCRIPT FUNCTION BODY BOOLEAN",null,Pa),e.apex.propertyEditor.addPropertyType("MLE JAVASCRIPT FUNCTION BODY CUSTOM",null,Pa),e.apex.propertyEditor.addPropertyType("MLE JAVASCRIPT FUNCTION BODY SQL",null,Pa),e.apex.propertyEditor.addPropertyType("SQL",null,Pa),e.apex.propertyEditor.addPropertyType("SQL EXPRESSION",null,Pa),e.apex.propertyEditor.addPropertyType("SQL EXPRESSION BOOLEAN",null,Pa),e.apex.propertyEditor.addPropertyType("SQL EXPRESSION CUSTOM",null,Pa),e.apex.propertyEditor.addPropertyType("WHERE CLAUSE",null,Pa),e.apex.propertyEditor.addPropertyType("ORDER BY CLAUSE",null,e.apex.propertyEditor.PROP_TYPE.TEXT),e.apex.propertyEditor.addPropertyType("XML",null,Pa),e.apex.propertyEditor.addPropertyType("FILE URLS JAVASCRIPT",null,Pa),e.apex.propertyEditor.addPropertyType("FILE URLS CSS",null,Pa),e.apex.propertyEditor.addPropertyType("SESSION STATE VALUE",null,ha),e.apex.propertyEditor.addPropertyType("TEMPLATE OPTIONS GENERAL",{init:function(a,t,r){var i,l=e();for(this.super("init",a,t,r),this.checkboxes$=a.find("input[type=checkbox]"),this.defaultCheckbox$=this.checkboxes$.filter("[value='#DEFAULT#']"),i=0;i<t.metaData.defaultTemplateOptions.length;i++)l=l.add(this.checkboxes$.filter("[value='"+o.escapeCSS(t.metaData.defaultTemplateOptions[i])+"']"));this.defaultCheckbox$.on("click setdefaultcheckboxes",(function(){var a=e(this).prop("checked");a&&l.prop("checked",!0),l.prop("disabled",a)})).trigger("setdefaultcheckboxes")},getValue:function(){var a=[];return this.checkboxes$.filter(":checked:not(:disabled)").each((function(){a.push(this.value)})),a.join(":")},setValue:function(a,e,t,r){this.super("setValue",a,e,t,r),this.defaultCheckbox$.trigger("setdefaultcheckboxes")}},e.apex.propertyEditor.PROP_TYPE.CHECKBOXES),e.apex.propertyEditor.addPropertyType(va,{_getProperties:function(a,e,t){return f.getProperties(this.templateOptions[t[0].typeId],this.getValue(a).split(":"),e.metaData.isReadOnly,e)},_getDisplayValue:function(t,r,o){var i,l,n,f=[],s=r,d=e.isEmptyObject(s);if(o&&(this.templateOptions||(this.templateOptions={}),this.templateOptions[o[0].typeId]=a.getTemplateOptions(o[0].getProperty(t.propertyName))),d&&o.length>1)n=pe("PROPERTY.VALUE_VARIES");else if(l=s.split(":"),""===s)n=pe("TEMPLATE_OPTIONS.NONE_SELECTED");else{i=this.templateOptions[o[0].typeId].valuesMap;for(var u=0;u<l.length;u++)p(i,l[u])?f.push(i[l[u]].d):f.push(ue("LOV.UNKNOWN_LOOKUP",l[u]));n=f.join(", ")}return n},noLabel:!0,render:function(a,t,r,o){const i=this._getDisplayValue(r,r.value,o),l=this.templateOptions[o[0].typeId].values.length<2;let n=r.value;e.isEmptyObject(n)&&r.metaData&&r.metaData.multiSelectData&&(n=r.metaData.multiSelectData.domValues?r.metaData.multiSelectData.domValues:Object.keys(r.metaData.multiSelectData.indeterminateMap).join(":")),this.renderDivOpen(a,{class:k}),me(a,t,r,i,n,l),this.renderDivClose(a)},init:function(a,t,i){var l=this,n=a.closest("div."+b),s=t.metaData,p=s.multiSelectData,d=s.parentProperty.id,u=e("[data-property-id='"+d+"']").closest(".a-Property"),c=0===u.length,g=u.hasClass("is-variable");p&&(c||g)?n.hide():(l.addLabelClickHandler(a,t),l.addTooltipsForErrors(a,t),n.on("click","#"+a.attr("id"),(function(){var n,s=l._getProperties(a.closest("div."+b),t,i),p=o.htmlBuilder();p.markup("<div").attr("id","templateOptionsDlg").attr("title",t.metaData.prompt).markup(">").markup("<div").attr("id","templateOptionsDlgPE").markup(">").markup("</div>").markup("</div>"),n=e(p.toString()).dialog({modal:!0,closeText:r.getMessage("APEX.DIALOG.CLOSE"),minWidth:400,width:520,dialogClass:oa,create:function(){e(this).closest(".ui-dialog").attr("aria-modal",!0)},close:function(){e("#templateOptionsDlgPE").propertyEditor("destroy"),n.dialog("destroy")},open:function(){e("#templateOptionsDlgPE").propertyEditor({focusPropertyName:"general",hideDisplayGroups:0===s.advanced.length,data:{propertySet:[{displayGroupId:"common",displayGroupTitle:pe("TEMPLATE_OPTIONS.COMMON"),properties:s.common},{displayGroupId:"advanced",displayGroupTitle:pe("TEMPLATE_OPTIONS.ADVANCED"),properties:s.advanced}]},change:function(){}}),e("#templateOptionsDlg").dialog({position:{my:"center",at:"center",of:window}})},buttons:[{text:pe("CANCEL"),click:function(){n.dialog("close")}},{text:pe("OK"),class:U,disabled:t.metaData.isReadOnly,click:function(){var r,o,p,d,u=e("#templateOptionsDlgPE"),c=f.getValuesFromDialog(s,u),g=t.metaData.multiSelectData,m=[];if(g){for(r=g.components,p=g.indeterminateMap,o="general"===t.propertyName?t.propertyId:t.propertyName,m=function(){var a=[];return u.find("select.is-variable > option").each((function(){var t;t=e(this).attr("value"),!1===p[t]&&a.push(t)})),u.find("input").each((function(){var t=e(this);t.prop("indeterminate")&&a.push(t.val())})),a}(),d=0;d<r.length;d++)r[d].getProperty(o)._indeterminateValues=m;g.domValues=c.concat(m).join(":"),t.hasIndeterminate=m.length>0}l.setValue(a,t,c.join(":"),i),a.trigger("change"),l.setFocus(a),n.dialog("close")}}]})})))},setValue:function(a,e,t,r){var o;this.super("setValue",a,e,t),e.hasIndeterminate||(o=this._getDisplayValue(e,t,r),a.text(o).attr("title",o))}}),e.apex.propertyEditor.addPropertyType(Ia,{_getLov:function(a){return ce(a)},_getButtonText:function(a){var e=pe("LINK.NO_LINK_DEFINED"),t=this._getLov(a);if(t.values.length>0)for(var r=0;r<t.values.length;r++)0===r?e="":e+=", ",e+=t.values[r].displayValue||t.values[r].returnValue;return e},_getDisplayGroupValues:function(a){return{displayGroupId:za.GROUP.VALUES,displayGroupTitle:pe("STATIC_LOV.GROUP.VALUES"),properties:a||[]}},_getDisplayGroupSort:function(a){return{displayGroupId:za.GROUP.SORT,displayGroupTitle:pe("STATIC_LOV.GROUP.SORT"),collapsed:!0,properties:a||[]}},_getPropertyValues:function(a,t){return e.extend(!0,{propertyName:za.PROP.VALUES,value:[],metaData:{type:Ra,prompt:pe("STATIC_LOV.PROP.VALUES"),displayGroupId:za.GROUP.VALUES,originalProperty:t},errors:[],warnings:[]},a)},_getPropertySort:function(a){return e.extend(!0,{propertyName:za.PROP.SORT,value:"Y",metaData:{prompt:pe("STATIC_LOV.PROP.SORT"),type:e.apex.propertyEditor.PROP_TYPE.YES_NO,noValue:"N",yesValue:"Y",displayGroupId:za.GROUP.SORT,isRequired:!0},errors:[],warnings:[]},a)},noLabel:!0,render:function(a,e,t){this.renderDivOpen(a,{class:k}),me(a,e,t,this._getButtonText(t.value)),this.renderDivClose(a)},setValue:function(a,e,t,r){var o;this.super("setValue",a,e,t,r),o=this._getButtonText(t),a.text(o).attr("title",o)},init:function(a,t){var i=this;this.addLabelClickHandler(a,t),this.addTooltipsForErrors(a,t),a.closest("div."+b).on("click","#"+a.attr("id"),(function(){var l,n=o.htmlBuilder(),f=a.val(),s=i._getLov(f),p=[],d=t.metaData.isReadOnly;function u(a){var e,t,r;for(e=0;e<p.length;e++)for(t=0;t<p[e].properties.length;t++)if(p[e].properties[t].propertyName===a){r=p[e].properties[t];break}return r}p.push(i._getDisplayGroupValues([i._getPropertyValues({value:s.values,metaData:{isReadOnly:t.metaData.isReadOnly}},t)])),p.push(i._getDisplayGroupSort([i._getPropertySort({value:s.sort,metaData:{isReadOnly:t.metaData.isReadOnly}})])),n.markup("<div").attr("id","staticLovDlg").attr("title",t.metaData.prompt).markup(">").markup("<div").attr("id","staticLovDlgPE").markup(">").markup("</div>").markup("</div>"),l=e(n.toString()).dialog({modal:!0,closeText:r.getMessage("APEX.DIALOG.CLOSE"),minWidth:400,width:520,dialogClass:oa,create:function(){const a=e(this).closest(".ui-dialog");a.attr("aria-modal",!0),a.find(".ui-dialog-title").attr(_,"heading").attr("aria-level","1").attr("aria-roledescription",r.getMessage("APEX.DIALOG.TITLE")),a.children(".ui-dialog-buttonpane").attr(_,"region").attr("aria-label",pe("ACTIONS"))},close:function(){e("#staticLovDlgPE").propertyEditor("destroy"),l.dialog("destroy")},open:function(){e("#staticLovDlgPE").propertyEditor({focusPropertyName:za.PROP.VALUES,data:{propertySet:p,multiEdit:!1}}),e("#staticLovDlg").dialog({position:{my:"center",at:"center",of:window}})},buttons:[{text:pe("CANCEL"),click:function(){l.dialog("close")}},{text:pe("OK"),class:U,disabled:d,click:function(){var r,o,n;o=u(za.PROP.VALUES).value,r=ge(u(za.PROP.SORT).value,o),o.length>0?(i.setValue(a,t,r),a.trigger("change"),i.setFocus(a),l.dialog("close")):((n=u(za.PROP.VALUES,pe("IS_REQUIRED"))).errors.push(pe("IS_REQUIRED")),e("#staticLovDlgPE").propertyEditor("updateProperty",n))}}]})}))}}),e.apex.propertyEditor.addPropertyType(Ra,{stacked:!0,noLabel:!0,labelVisible:!1,minHeight:122,maxHeight:200,render:function(a,e,t){const r=e+"_label";a.markup("<div").attr("id",e).attr("class",k).attr(ka,t.propertyName).markup(">"),a.markup("<table role='grid'").attr("class",M).attr(v,r).markup("><thead><tr><th").attr(y,P).attr("class",D).markup(">").content(pe("STATIC_LOV.VALUE.DISPLAY")).markup("</th><th").attr(y,P).attr("class",D).markup(">").content(pe("STATIC_LOV.VALUE.RETURN")).markup("</th><th").attr(y,P).attr("class",ra).markup(">").content(pe("STATIC_LOV.REMOVE")).markup("</th><th").attr(y,P).attr("class",ra).markup(">").content(pe("STATIC_LOV.MOVE_UP")).markup("</th><th").attr(y,P).attr("class",ra).markup(">").content(pe("STATIC_LOV.MOVE_DOWN")).markup("</th></tr></thead><tbody>");for(var o=0;o<t.value.length;o++)this._renderRow(a,{rowId:o+1,idPrefix:e,returnValue:t.value[o].returnValue,displayValue:t.value[o].displayValue,readOnly:t.metaData.isReadOnly,lastRow:!1});t.metaData.isReadOnly||this._renderRow(a,{rowId:t.value.length+1,idPrefix:e,lastRow:!0}),a.markup("</tbody></table>"),this.renderDivClose(a)},init:function(a,t){var r=this,i=a.closest("div."+b),l=a.attr("id");function n(a,e,t){var r=a.filter("input."+t),o=e.filter("input."+t),i=r.val(),l=o.val();r.val(l),o.val(i)}t.metaData.isReadOnly||i.on("change","input",(function(){var a=e(this).closest("tr").next("tr"),t=o.htmlBuilder(),i=o.htmlBuilder(),n=e(this);if(n.val()&&0===a.length){var f=e("input."+H).length;r._renderRow(t,{rowId:f+1,idPrefix:l,lastRow:!0}),r.renderIconButton(i,{id:l+"_rowMoveDown_"+f,icon:Z,text:de("STATIC_LOV.MOVE_DOWN_VALUE_N",f)}),n.closest("tr").find("td:last").html(i.toString()).end().after(t.toString())}})).on("click","button[id^="+l+"_rowRemove_]",(function(){var a=e(this).closest("tr").next("tr");a.length>0?(e(this).closest("tr").remove(),a.find(":input:first").trigger("change").trigger("focus")):e(this).closest("tr").find("input").val("").filter("input."+H).trigger("change").trigger("focus")})).on("click","button[id^="+l+"_rowMoveUp_]",(function(){var a=e(this).closest("tr").find(":input"),t=e(this).closest("tr").prev("tr."+j).find(":input");t.length>0&&(n(a,t,H),n(a,t,F),t.filter("button[id^="+l+"_rowMove]:first").trigger("focus"),a.trigger("change"))})).on("click","button[id^="+l+"_rowMoveDown_]",(function(){var a=e(this).closest("tr").find(":input"),t=e(this).closest("tr").next("tr."+j).find(":input");t.length>0&&(n(a,t,H),n(a,t,F),t.trigger("change"),e(this).closest("tr").next("tr."+j).find("button[id^="+l+"_rowMoveDown_]").trigger("focus"))})),this.addLabelClickHandler(a,t)},setFocus:function(a){a.find(":input:first").trigger("focus")},getValue:function(a){var t,r,o=[];return a.find("tr."+j).each((function(){r=e(this).find(":input."+H),t=e(this).find(":input."+F),""===r.val()&&""===t.val()||o.push({displayValue:r.val(),returnValue:t.val()})})),o},_renderRow:function(a,t){let r,o,i=e.extend({rowId:"",idPrefix:"",returnValue:"",displayValue:"",readOnly:!1,lastRow:!1},t);o=i.idPrefix+"_return_"+i.rowId,r=i.idPrefix+"_display_"+i.rowId,a.markup("<tr").attr("class",j).markup(">"),a.markup("<th scope='row'>"),this.renderBaseInput(a,{id:r,value:i.displayValue,inputClass:[H,A,L],readonly:i.readOnly,attributes:{"aria-label":de("STATIC_LOV.VALUE_N_DISPLAY",i.rowId)}}),a.markup("</td><td>"),this.renderBaseInput(a,{id:o,value:i.returnValue,inputClass:[F,A,L],readonly:i.readOnly,attributes:{"aria-label":de("STATIC_LOV.VALUE_N_RETURN",i.rowId)}}),a.markup("</td><td").attr("class",x).markup(">"),this.renderIconButton(a,{id:i.idPrefix+"_rowRemove_"+i.rowId,icon:J,text:de("STATIC_LOV.REMOVE_VALUE_N",i.rowId),disabled:i.readOnly}),a.markup("</td><td").attr("class",x).markup(">"),i.rowId>1&&this.renderIconButton(a,{id:i.idPrefix+"_rowMoveUp_"+i.rowId,icon:$,text:de("STATIC_LOV.MOVE_UP_VALUE_N",i.rowId),disabled:i.readOnly}),a.markup("</td><td").attr("class",x).markup(">"),i.lastRow||this.renderIconButton(a,{id:i.idPrefix+"_rowMoveDown_"+i.rowId,icon:Z,text:de("STATIC_LOV.MOVE_DOWN_VALUE_N",i.rowId),disabled:i.readOnly}),a.markup("</td>"),a.markup("</tr>")}}),e.apex.propertyEditor.addPropertyType(ua,null,e.apex.propertyEditor.PROP_TYPE.SELECT_LIST),e.apex.propertyEditor.addPropertyType(ha,null,e.apex.propertyEditor.PROP_TYPE.SELECT_LIST),e.apex.propertyEditor.addPropertyType(Ea,null,e.apex.propertyEditor.PROP_TYPE.SELECT_LIST),e.apex.propertyEditor.addPropertyType(ma,null,e.apex.propertyEditor.PROP_TYPE.SELECT_LIST),e.apex.propertyEditor.addPropertyType("REGION COLUMN",null,ha),e.apex.propertyEditor.addPropertyType("TEXT",{render:function(a,e,t,r,o){this.renderDivOpen(a,{class:k}),this.renderText(a,e,t,{...o,hasPreview:i.textMessagesPickerEnabled&&this._hasMessageHelper(t)}),this._hasMessageHelper(t)&&(a.markup("<div"),a.attr("class","a-Property-textMessages"),a.attr("data-id",`${this._getDataId(t)}`),a.attr("id",e+"_preview"),a.markup(">"),a.markup("</div>")),this.renderDivClose(a),this._renderMessageHelperButton(a,e,t,!0),this.renderQuickPickButton(a,e,t,!0)},_hasMessageHelper:function(a){const e=a.metaData;return i.applicationMessages&&e.isTranslatable&&e.supportsSubstitution&&"TEXT"===e.type},_renderMessageHelperButton:function(e,t,r){this._hasMessageHelper(r)&&a.getCompatibilityMode()>=24.2&&i.textMessagesPickerEnabled&&!r.metaData.isReadOnly&&ia.call(this,e,t,!0)},_renderPreview:function(a,t){i.applicationMessages(t).then((r=>{if(r.length>0){const i=e(`[data-id="${this._getDataId(a)}"]`);let l=o.escapeHTML(t);return r.forEach((a=>{let e=`<mark>${o.escapeHTML(a.d)}</mark>`;a.placeholders.length>0&&a.placeholders.forEach((t=>{let[r,i]=t,l=r;Object.hasOwn(a.parameters,i)&&(l=a.parameters[i]||`{${i}}`),e=e.replace(r,`<strong>${o.escapeHTML(l)}</strong>`)})),l=l.replace(o.escapeHTML(a.full),e)})),l=ue("HIDDEN_PREVIEW_PREFIX",l),i.length>0&&(this._showMessagePreviewContainer(a),i.html(l)),l}this._hideMessagePreviewContainer(a)}))},_getDataId:function(a){return`msgHelperContainer_${a.propertyName}`},_hideMessagePreviewContainer:function(a){e(`[data-id="${this._getDataId(a)}"]`).empty().hide()},_showMessagePreviewContainer:function(a){e(`[data-id="${this._getDataId(a)}"]`).show()},_initMessageHelper:function(a,t,r){this._hasMessageHelper(t)&&(this._renderPreview(t,t.value),!t.metaData.isReadOnly)&&(i.textMessagesPickerEnabled&&e(`#${o.escapeCSS(a.attr("id"))}_messageHelperBtn`).on("click",(()=>{Oa.call(this,t,a,r)})),a.on("change",(a=>{let e=a.target.value;e?this._renderPreview(t,e):this._hideMessagePreviewContainer(t)})))},setValue:function(a,e,t,r,o=!0){this.super("setValue",a,e,t),o&&this._hasMessageHelper(e)&&this._renderPreview(e,t)},init:function(a,e,t){this.initQuickPicks(a,e),this._initMessageHelper(a,e,t),this.super("init",a,e)},destroy:function(a,e){this.removeQuickPick(a,e),this.super("destroy",a,e)}}),this.widgetName="property_editor_"+m.mode,E=parseInt(i.getPreference(le),10),isNaN(E)&&(E=900),h=parseInt(i.getPreference(ne),10),isNaN(h)&&(h=600),V=window.gPreferences[G]||"",this.element.propertyEditor({showAll:!0,expand:function(a,e){delete fe[e.displayGroupId]},collapse:function(a,e){fe[e.displayGroupId]=!0},searchable:!0,change:function(e,t){var r,o,i,l,n=t.propertyName,f=t.property.value,s=a.transaction.message({action:a.MESSAGE_ACTION.CHANGE,component:g.lastComponents[0],property:g.lastComponents[0].getProperty(n),count:g.lastComponents.length}),p=a.transaction.start(g.widgetName,s),d=g.options.mode;for(r=0;r<g.lastComponents.length;r++)i=(o=g.lastComponents[r].getProperty(n))._indeterminateValues?g._getValueAfterMultiSelect(f,o):f,o.setValue(i);apex.commandHistory.execute(p),l=g._getPropertyGroups(g.lastComponents,g.lastComponents[0].typeId),g._updateGoToGroupMenu(d,l,g)}}),this.element.on("propertyeditoractivate",(function(a,e){var t=apex.util.htmlBuilder(),r=e.metaData.helpText;"function"==typeof r&&(r=r()),t.markup("<h3>").content(e.metaData.prompt).markup("</h3>"),"<"!==r.charAt(0)&&(r="<p>"+r+"</p>"),t.markup(r),e.metaData.isCustomPluginAttribute?i.setHelpText(t.toString()):i.setHelpText(t.toString(),"P1_COMPONENT_TYPE_ID,P1_PROPERTY_ID,P1_APEX_VERSION:"+g.lastComponents[0].typeId+","+e.propertyName+","+gApexVersion)})).on("propertyeditordeactivate",(function(){i.clearHelpText()})),this.element.on("tooltipcreate",(function(a){setTimeout((()=>{e(a.target).filter(":data(ui-tooltip)").tooltip("option","disabled",!i.getBoolPref("ENABLE_TOOLTIPS",!1))}),0)})),e(document).on("selectionChanged",(function(a,e,t,r){g._selectionChanged(t,r)})),e(document).on("modelCleared",(function(){g._clearPropertyEditor()}))},_getPropertyValue:function(a,e){let t;for(let r=0;r<a.length;r++){let o=a[r].getProperty(e);if(o)if(void 0===t)t=o.getValue();else if(t!==o.getValue()){t=this.element.propertyEditor("getValueVariesConstant");break}}return t},_prepareMultiSelectMap:function(a,e){var t,r,o,i,l,n,f=!1,s=a.length,d="",u="",c={},g={};for(t=0;t<s;t++)d=d+":"+(i=(o=a[t].getProperty(e)).getValue()),o._originalValBeforeMultiSelect=i;for(n=d.split(":"),r=0;r<n.length;r++)(u=n[r])&&(c[u]=c[u]?c[u]+1:1);for(l in c)p(c,l)&&(f=c[l]===s,g[l]=!f);return{indeterminateMap:g,components:a}},_getEventSpecificProperties:function(a,t){var r,o,i=[],l=[];for(r in a)if(p(a,r))for(i=a[r],o=0;o<i.length;o++)e.inArray(i[o],t)>-1&&-1===e.inArray(r,l)&&l.push(r);return l},_getValueAfterMultiSelect:function(a,t){var r,o,i=a.split(":"),l=t._originalValBeforeMultiSelect.split(":"),n=t._indeterminateValues||[];for(o=0;o<n.length;o++)r=n[o],e.inArray(r,l)>-1&&-1===e.inArray(r,i)&&i.push(r);return i.join(":")},_toPEProperty:function(a,t){var r,o,i,l,n,f=[],s=[],d=a?a.getMetaData():{},u=this._getPropertyValue(t,a.id),c=d.type===Aa,g=d.type===va,m=u===this.element.propertyEditor("getValueVariesConstant"),E=["SELECT LIST",na,da,Aa,va];if(t.length>1&&-1!==e.inArray(d.type,E)){for(r=0;r<t.length;r++){for(l={values:t[r].getProperty(a.id).getMetaData().lovValues(),map:{}},o=0;o<l.values.length;o++)l.map[l.values[o].r]=!0;s.push(l)}for(s.sort((function(a,e){return a.values.length-e.values.length})),f=s[0].values,o=1;o<s.length;o++)for(i=0;i<f.length;i++)p(s[o].map,f[i].r)||(f.splice(i,1),i-=1);d.lovValues=f,m&&(c||g)&&(d.multiSelectData=this._prepareMultiSelectMap(t,a.id))}return n=c?m?u:a._originalValBeforeMultiSelect?this._getValueAfterMultiSelect(u,a):u:u,{metaData:d,propertyName:a.id,errors:a.errors,warnings:a.warnings,value:n,oldValue:n,hasChanged:a.hasChanged}},_setPropertyEditorTitle:function(a){var e="";this.options.mode===g&&(e=a||ue("TITLE"),i.getTab(h).find(".ui-tabs-anchor").text(e))},_clearPropertyEditor:function(){this.lastComponents=null,this.element.propertyEditor("option",{data:{propertySet:[],propertyValues:[]}}),i.clearHelpText(),this._setPropertyEditorTitle();const t="li.ui-tabs-active.ui-state-active[aria-selected=true][aria-expanded=true]:visible";(i.getTab(h).is(t)||i.getTab("peAttributesTabPanel").is(t)||i.getTab("pePrintingTabPanel").is(t)||0===i.getTab(h).parent().has(t).length)&&i.activateTab(h),this.element.prev().find("button").each((function(){e(this).prop("disabled",!0)})),a.unobserver(this.widgetName,{})},_getCurrentModeComponents:function(e){var t,r,o,i,l,n,f=[],s=this.options.mode,p={NATIVE_CALENDAR:{attributes:a.COMP_TYPE.CLASSIC_CALENDAR},NATIVE_IR:{attributes:a.COMP_TYPE.IR_ATTRIBUTES,printing:a.COMP_TYPE.IR_PRINT_ATTR},NATIVE_IG:{attributes:a.COMP_TYPE.IG_ATTRIBUTES,printing:a.COMP_TYPE.IG_PRINT},NATIVE_JET_CHART:{attributes:a.COMP_TYPE.JET_CHART},NATIVE_SQL_REPORT:{attributes:a.COMP_TYPE.CLASSIC_REPORT,printing:a.COMP_TYPE.CLASSIC_RPT_PRINT},NATIVE_TABFORM:{attributes:a.COMP_TYPE.TABULAR_FORM,printing:a.COMP_TYPE.TAB_FORM_PRINT},NATIVE_CARDS:{attributes:a.COMP_TYPE.CARD},NATIVE_MAP_REGION:{attributes:a.COMP_TYPE.MAP_REGION}};if(s===g)return e;for(t=0;t<e.length;t++){if(e[t].typeId!==a.COMP_TYPE.REGION)return[];p[r=e[t].getProperty(a.PROP.REGION_TYPE).getValue()]&&p[r][s]?o=p[r][s]:s===m&&(o=a.COMP_TYPE.REGION_PLUGIN_ATTR),o&&(o===a.COMP_TYPE.IR_PRINT_ATTR?(n=a.getComponents(a.COMP_TYPE.IR_ATTRIBUTES,{parentId:e[t].id})).length>0&&(l=n[0].id):l=e[t].id,(i=a.getComponents(o,{parentId:l})).length>0&&f.push(i[0]))}return f},_selectionChanged:function(t,r){var o,l,n,f="",s=this.options.mode;if(t.length>0)if((n=this._getCurrentModeComponents(t,s)).length>0){for(s===m?i.getTab("peAttributesTabPanel").show():s===E&&i.getTab("pePrintingTabPanel").show(),o=0;o<n.length;o++)if(0===o)f=a.getComponentType(n[o].typeId).title.singular,l=n[o].typeId;else{if(n[o].typeId!==n[o-1].typeId){f=pe("MULTIPLE_TYPES");break}f=a.getComponentType(n[o].typeId).title.plural,l=n[o].typeId}this.lastComponents=n,this._selectComponents(n,r),this._setPropertyEditorTitle(f,l),this.element.prev().find("button").each((function(){e(this).prop("disabled",!1)}))}else s===m?i.getTab("peAttributesTabPanel").hide():s===E&&i.getTab("pePrintingTabPanel").hide(),this._clearPropertyEditor();else i.getTab("peAttributesTabPanel").hide(),i.getTab("pePrintingTabPanel").hide(),this._clearPropertyEditor()},_getPropertyGroups:function(t,r){var o,i,l,n,f,s,d,u={},c=[],g={};for(d=r.isSharedComponent?[a.getDisplayProperty(t[0])]:t[0].getProperties(),o=0;o<d.length;o++)u[d[o].id]=d[o].getMetaData();if(d.sort((function(a,e){return u[a.id].displaySeq-u[e.id].displaySeq})),t.length>1)for(o=0;o<d.length;o++){if(n=d[o],s=!1,(u[n.id].isUnique||e.inArray(u[n.id].type,La)>-1)&&(s=!0),!s)for(i=1;i<t.length;i++)if(!t[i].getProperty(n.id)){s=!0;break}s&&(delete u[n.id],d.splice(o,1),o-=1)}for(o=0;o<d.length;o++)l=(n=d[o]).id,f=u[l].displayGroupId,u[l].type!==Oa&&(p(g,f)||(c.push({displayGroupId:f,displayGroupTitle:a.getDisplayGroup(f).title,collapsed:!!fe[f],properties:[]}),g[f]=c.length-1),c[g[f]].properties.push(this._toPEProperty(n,t)));return c},_updateGoToGroupMenu:function(a,t,r){var o,i,l,n=[];for(n.push({type:"action",labelKey:"PD.PE.EXPAND_ALL",action:function(){r.element.propertyEditor("expandAll")}},{type:"separator"}),o=0;o<t.length;o++)n.push({type:"action",label:t[o].displayGroupTitle,value:t[o].displayGroupId,action:function(){return r.element.propertyEditor("goToGroup",this.value),!0}});i={items:n},a===g?l=e("#pe_goto_group_menu"):a===m?l=e("#pe_attributes_goto_group_menu"):a===E&&(l=e("#pe_printing_goto_group_menu")),l.menu(i)},_selectComponents:function(r,o){var n,f,s,d,u,c,m,E,h,y,P={},_=[],T={},O=this,v=this.options.mode;for(E=(h=a.getComponentType(r[0].typeId)).isSharedComponent&&!h.isSharedDesigner?[a.getDisplayProperty(r[0])]:r[0].getProperties(),n=0;n<E.length;n++)P[E[n].id]=E[n].getMetaData();if(E.sort((function(a,e){return P[a.id].displaySeq-P[e.id].displaySeq})),r.length>1)for(n=0;n<E.length;n++){if(d=E[n],m=!1,(P[d.id].isUnique||e.inArray(P[d.id].type,La)>-1)&&(m=!0),!m)for(f=1;f<r.length;f++)if(!(c=r[f]).getProperty(d.id)){m=!0;break}m&&(delete P[d.id],E.splice(n,1),n-=1)}for(n=0;n<E.length;n++)s=(d=E[n]).id,u=P[s].displayGroupId,P[s].type!==Oa&&(p(T,u)||(_.push({displayGroupId:u,displayGroupTitle:a.getDisplayGroup(u).title,collapsed:!!fe[u],properties:[]}),T[u]=_.length-1),_[T[u]].properties.push(this._toPEProperty(d,r)));this._updateGoToGroupMenu(v,_,O),1===r.length&&(c=r[0],h.isSharedComponent&&!h.isSharedDesigner&&(y=function(){l.redirect(decodeURIComponent(h.editUrl).replace(/%session%/g,apex.env.APP_SESSION).replace(/%pk_value%/g,c.id).replace(/%application_id%/g,a.getCurrentAppId()).replace(/%page_id%/g,a.getCurrentPageId()))}),c.isOnGlobalPage()&&(y=function(){i.setPageSelection(a.getCurrentAppId(),c.pageId,c.typeId,c.id,(function(){}))})),this.element.propertyEditor("option",{focusPropertyName:o,externalEdit:y,data:{propertySet:_,lastComponents:r}}),a.unobserver(this.widgetName,{}),v===g&&(a.observer(this.widgetName,{components:[{typeId:a.COMP_TYPE.REGION_PLUGIN_ATTR},{typeId:a.COMP_TYPE.IR_ATTRIBUTES},{typeId:a.COMP_TYPE.IR_PRINT_ATTR},{typeId:a.COMP_TYPE.CLASSIC_RPT_PRINT},{typeId:a.COMP_TYPE.IG_ATTRIBUTES},{typeId:a.COMP_TYPE.IG_PRINT},{typeId:a.COMP_TYPE.CLASSIC_CALENDAR},{typeId:a.COMP_TYPE.CHART},{typeId:a.COMP_TYPE.MAP_CHART},{typeId:a.COMP_TYPE.JET_CHART},{typeId:a.COMP_TYPE.TABULAR_FORM},{typeId:a.COMP_TYPE.TAB_FORM_PRINT},{typeId:a.COMP_TYPE.CARD},{typeId:a.COMP_TYPE.MAP_REGION}],events:[a.EVENT.CREATE,a.EVENT.DELETE]},(function(o){if(t.trace("%s: CREATE/DELETE component notification received",O.widgetName,o),o[0].component.parentId===r[0].id){let t;O.element.propertyEditor("hasFocus",a.PROP.REGION_TYPE)&&(t=a.PROP.REGION_TYPE),e(document).trigger("selectionChanged",[O.widgetName,r,t])}}),!0),a.observer(this.widgetName,{components:r,events:[a.EVENT.DELETE]},(function(a){var e,r;for(t.trace("%s: DELETE component notification received",O.widgetName,a),r=0;r<O.lastComponents.length;r++)for(e=0;e<a.length;e++)if(a[e].component.typeId===O.lastComponents[r].typeId){O.lastComponents.splice(r,1),r-=1;break}O._selectionChanged(O.lastComponents)}),!0)),a.observer(this.widgetName,{components:r,events:[a.EVENT.CHANGE]},(function(r){var o,i,l,n=r.length,f={},s=[];for(t.trace("%s: CHANGE component notification received",O.widgetName,r),o=0;o<n;o++)for(i in l=r[o],s.push(l.component),l.properties)p(l.properties,i)&&-1!==e.inArray(a.EVENT.CHANGE,l.properties[i])&&(f[i]=!0);for(i in f)p(f,i)&&(O.element.propertyEditor("updatePropertyValue",i,O._getPropertyValue(s,i),!0),"redo"===l.action?O.element.find("[data-property-id="+i+"]").closest(".a-Property").addClass(ia):"undo"===l.action&&void 0!==l.component.getProperty(i)&&(l.component.getProperty(i).hasChanged||O.element.find("[data-property-id="+i+"]").closest(".a-Property").removeClass(ia)))}),!0),a.observer(this.widgetName,{components:r,events:[a.EVENT.ADD_PROP,a.EVENT.REMOVE_PROP]},(function(o){var i,l,n,f,s,p,d,u,c,g,m,E,h,y,P={},_=[],T=[];for(t.trace("%s: ADD_PROP/REMOVE_PROP notification received",O.widgetName,o),s=0;s<o.length;s++)_.push(o[s].component);for(m=O._getEventSpecificProperties(o[0].properties,[a.EVENT.ADD_PROP]),l=(i=a.getComponentType(r[0].typeId)).isSharedComponent&&!i.isSharedDesigner?[a.getDisplayProperty(r[0])]:r[0].getProperties(),p=0;p<l.length;p++)P[l[p].id]=l[p].getMetaData();if(l.sort((function(a,e){return P[a.id].displaySeq-P[e.id].displaySeq})),r.length>1)for(d=0;d<l.length;d++){if(n=l[d],f=!1,(P[n.id].isUnique||e.inArray(P[n.id].type,La)>-1)&&(f=!0),!f)for(u=1;u<r.length;u++)if(!r[u].getProperty(n.id)){f=!0;break}f&&(delete P[n.id],l.splice(d,1),d-=1)}for(c=0;c<l.length;c++)if(y=l[c].id,P[y].type!==Oa){let e;for(let a=c-1;a>=0;a--)if(P[l[a].id].type!==Oa){e=l[a].id;break}for(h=P[y].displayGroupId,(0===c||h!==P[e]?.displayGroupId)&&T.push(h),s=0;s<m.length;s++)if(y===m[s]){g=o[0].component.getProperty(m[s]),O.element.propertyEditor("addProperty",{property:O._toPEProperty(g,_),prevPropertyName:e,displayGroup:{displayGroupId:P[l[c].id].displayGroupId,displayGroupTitle:a.getDisplayGroup(h).title,properties:[]},prevDisplayGroupId:T[T.length-2]});break}}for(E=O._getEventSpecificProperties(o[0].properties,[a.EVENT.REMOVE_PROP]),s=0;s<E.length;s++)O.element.propertyEditor("removeProperty",E[s])}),!0),a.observer(this.widgetName,{components:r,events:[a.EVENT.ERRORS,a.EVENT.NO_ERRORS,a.EVENT.WARNINGS,a.EVENT.NO_WARNINGS,a.EVENT.META_DATA]},(function(e){let r,o=[],i=[];t.trace("%s: ERRORS/NO_ERRORS/WARNINGS/NO_WARNINGS/META_DATA notification received",O.widgetName,e);for(let t=0;t<e.length;t++)i.push(e[t].component),o.push(...O._getEventSpecificProperties(e[t].properties,[a.EVENT.ERRORS,a.EVENT.NO_ERRORS,a.EVENT.WARNINGS,a.EVENT.NO_WARNINGS,a.EVENT.META_DATA]));r=Array.from(new Set(o));for(let a=0;a<i.length;a++){let e=i[a].getProperties().reduce(((a,e)=>[...a,e.id]),[]);r=r.filter((a=>e.includes(a)))}for(let a=0;a<r.length;a++){const t=e[0].component.getProperty(r[a]),o=O._toPEProperty(t,i);setTimeout((()=>{O.element.propertyEditor("updateProperty",o)}),0)}}),!0)}})}(window.pe,apex.jQuery,apex.debug,apex.lang,apex.util,window.pageDesigner,apex.navigation,apex.server,apex.templateOptionsHelper,apex.env);
!function(e,t,n,o,a,i){"use strict";const r=a.CSS.IS_ERROR,l=a.CSS.IS_WARNING,s=".a-GridLayout-pageItem, .a-GridLayout-region, .a-GridLayout-button",p=".a-GridLayout-page, .a-GridLayout-pageItem, .a-GridLayout-region, .a-GridLayout-button",d="#glv",u="page",c="region",P="item",g="button",m="GLV_HIDE_LEGACY",O="GLV_HIDE_GLOBAL",R="GLV_HIDE_EMPTY",h="GLV_HIDE_BTNS",y="GLV_HIDE_ITEMS",E="glv",_="option",C=t.apex.gridlayout.INDEX,I={newGrid:e.PROP.GRID_NEW_GRID,newRow:e.PROP.GRID_NEW_ROW,col:e.PROP.GRID_COLUMN,newCol:e.PROP.GRID_NEW_COLUMN,span:e.PROP.GRID_COLUMN_SPAN,rowSpan:e.PROP.GRID_ROW_SPAN,alignment:e.PROP.ALIGNMENT},f=i.hasOwnProperty;function N(e){var t,n,o,a,i;for(t=0;t<e.length;t++)o=e[t],n=I[o.property],(i=o.component._modelComponent.getProperty(n))&&(!0===o.newValue?a=i.getMetaData().yesValue:!1===o.newValue?a=i.getMetaData().noValue:"alignment"===o.property&&o.newValue?a=o.newValue.toUpperCase():"col"!==o.property&&"span"!==o.property&&"rowSpan"!==o.property||-1!==o.newValue?void 0!==o.newValue&&null!==o.newValue&&(a=""+o.newValue):a="",void 0!==a&&i.setValue(a))}function v(e){var t,n=null;return void 0===(t=e.newComponentIndex)&&(t=e.newIndex),t>0&&(n=e.newParentContainer.components[t-1]._modelComponent),n}function T(e){e.newParentContainer===e.prevParentContainer?e.newParentContainer=e.prevParentContainer=[e.newParentContainer._parent.id,e.newParentContainer.placeholder]:(e.newParentContainer&&(e.newParentContainer=[e.newParentContainer._parent.id,e.newParentContainer.placeholder]),e.prevParentContainer&&(e.prevParentContainer=[e.prevParentContainer._parent.id,e.prevParentContainer.placeholder])),delete e.component$,delete e.newComponent$,delete e.container$,delete e.prevContainer$}function L(){var e=U.gridlayout(_);return{hideLegacySlots:e.hideLegacySlots,hideEmptySlots:e.hideEmptySlots,hideButtons:e.hideButtons,hideItems:e.hideItems,displayFrom:e.displayFrom,hideGlobalComponents:w}}function G(e){var t=U.gridlayout(_);t.displayFrom!==e.displayFrom&&U.gridlayout(_,"displayFrom",e.displayFrom),["displayFrom","hideLegacySlots","hideEmptySlots","hideButtons","hideItems"].forEach((function(n){e[n]||t[n]===e[n]||U.gridlayout(_,n,e[n])})),e.hideGlobalComponents!==w&&(w=e.hideGlobalComponents,U.gridlayout("pageDataChanged"))}var D=!1,w=!0,M=null,S=!1,A=!1,b=!1,x=t.extend(apex.commandHistory.baseCommand(),{execute:function(){this.changes?this.updateDataLayer():(M=this,this.gl$.gridlayout("move",{},this.component$,this.container$,this.grid,this.row,this.column,this.index,this.alignment)),this.state=L()},updateDataLayer:function(t){var n,a,i,r,l=[];function s(e,t){l.push({id:e,value:t})}t&&(this.changes=t),t=this.changes,this._label=o.formatMessageNoEscape("PD.GLV.CMD.MOVE",this.changes.component.title),b=!0,this.transaction=e.transaction.start(E),i=t.component._modelComponent,t.newParentContainer!==t.prevParentContainer&&(a=(n=t.newParentContainer)._parent,t.component.type===c?a.type===u?(s(e.PROP.PARENT_REGION,""),s(e.PROP.SLOT_PLACEHOLDER,n.placeholder)):(s(e.PROP.PARENT_REGION,a.id),s(e.PROP.SLOT_PLACEHOLDER,n.placeholder)):(t.component.type===P||t.component.type===g)&&(a.type===u?(s(e.PROP.REGION,""),s(e.PROP.SLOT_PLACEHOLDER,n.placeholder)):(s(e.PROP.REGION,a.id),s(e.PROP.SLOT_PLACEHOLDER,n.placeholder)))),r=v(t),i.move({previousComponent:r,values:l}),N(t.propertyChanges),this.transaction.execute(),T(t)},undo:function(){var t,n=this.changes,o=n.prevGrid,a=n.prevRow,i=n.prevColumn,r=n.prevIndex;G(this.state),S=!0,n.prevGridRemoved?r=C.NEW_GRID:n.prevRowRemoved?r=C.NEW_ROW:n.prevColumnRemoved&&(r=C.NEW_COLUMN),n.newParentContainer===n.prevParentContainer&&(r>=0&&n.prevIndex>n.newIndex&&(r+=1),n.newGridInserted?n.newGrid<=n.prevGrid&&(o+=1):n.newRowInserted?n.newRow<=n.prevRow&&(a+=1):n.newColumnInserted&&n.newColumn<=n.prevColumn&&(i+=1)),b=!0,this.transaction.undo(),(t=U.gridlayout("findComponentById",n.component.id)).col=1*Z(t._modelComponent,e.PROP.GRID_COLUMN,-1),t.col>=0&&(t.forceColumn=!0),this.gl$.gridlayout("move",{},n.component.id,n.prevParentContainer,o,a,i,r,n.prevAlignment)},redo:function(){var e=this.changes,t=e.newIndex;G(this.state),S=!0,e.newGridInserted?t=C.NEW_GRID:e.newRowInserted?t=C.NEW_ROW:e.newColumnInserted?t=C.NEW_COLUMN:e.newParentContainer===e.prevParentContainer&&e.newIndex>e.prevIndex&&(t+=1),b=!0,this.transaction.redo(),this.gl$.gridlayout("move",{},e.component.id,e.newParentContainer,e.newGrid,e.newRow,e.newColumn,t,e.newAlignment)},label:function(){return this._label}});function W(e,t,n,o,a,i,r,l,s){var p=Object.create(x);return p.changes=t,p.gl$=e,p.component$=n,p.container$=o,p.grid=a,p.row=i,p.column=r,p.index=l,p.alignment=s,p._label="move",p}var V=t.extend(apex.commandHistory.baseCommand(),{execute:function(){this.changes?this.updateDataLayer():(M=this,this.gl$.gridlayout("copy",{},this.component$,this.container$,this.grid,this.row,this.column,this.index,this.alignment)),this.state=L()},updateDataLayer:function(t){var n,a,i,r,l=[];function s(e,t){l.push({id:e,value:t})}t&&(this.changes=t),t=this.changes,this._label=o.formatMessageNoEscape("PD.GLV.CMD.COPY",this.changes.originalComponent.title),b=!0,A=!0,this.transaction=e.transaction.start(E),i=t.component._modelComponent,i=t.component._modelComponent=i.duplicate(),t.component.id=i.id,t.component.title=i.getDisplayTitle(),U.gridlayout("update",t.component,!1),t.newParentContainer!==t.originalComponent._parent&&(a=(n=t.newParentContainer)._parent,t.component.type===c?a.type===u?(s(e.PROP.PARENT_REGION,""),s(e.PROP.SLOT_PLACEHOLDER,n.placeholder)):(s(e.PROP.PARENT_REGION,a.id),s(e.PROP.SLOT_PLACEHOLDER,n.placeholder)):(t.component.type===P||t.component.type===g)&&(a.type===u?(s(e.PROP.REGION,""),s(e.PROP.SLOT_PLACEHOLDER,n.placeholder)):(s(e.PROP.REGION,a.id),s(e.PROP.SLOT_PLACEHOLDER,n.placeholder)))),r=v(t),i.move({previousComponent:r,values:l}),N(t.propertyChanges),this.transaction.execute(),T(t)},undo:function(){var e=this.changes;G(this.state),S=!0,this.gl$.gridlayout("remove",{},[e.component.id]),this.transaction.undo()},redo:function(){var e=this.changes,t=e.newIndex;G(this.state),S=!0,e.newGridInserted?t=C.NEW_GRID:e.newRowInserted?t=C.NEW_ROW:e.newColumnInserted?t=C.NEW_COLUMN:e.newParentContainer===e.prevParentContainer&&e.newIndex>e.prevIndex&&(t+=1),b=!0,A=!0,this.gl$.gridlayout("add",{},e.component,e.newParentContainer,e.newGrid,e.newRow,e.newColumn,t,e.newAlignment,e.newComponent$),this.transaction.redo()},label:function(){return this._label}});function H(e,t,n,o,a,i,r,l,s){var p=Object.create(V);return p.changes=t,p.gl$=e,p.component$=n,p.container$=o,p.grid=a,p.row=i,p.column=r,p.index=l,p.alignment=s,p._label="copy",p}var Y=t.extend(apex.commandHistory.baseCommand(),{execute:function(){this.changes?this.updateDataLayer():(M=this,this.gl$.gridlayout("add",{},this.componentTypeId,this.container$,this.grid,this.row,this.column,this.index,this.alignment)),this.state=L()},updateDataLayer:function(t){var n,a,i,r,l,s,p,d,m=!1,O=[];function R(e,t){O.push({id:e,value:t})}for(t&&(this.changes=t),p=(t=this.changes).component._galleryComponent,this._label=o.formatMessageNoEscape("PD.GLV.CMD.CREATE",p.title),this.transaction=e.transaction.start(E),i=(a=t.newParentContainer)._parent,t.component.type===c?(s=e.COMP_TYPE.REGION,i.type===u?(R(e.PROP.PARENT_REGION,""),R(e.PROP.SLOT_PLACEHOLDER,a.placeholder)):(R(e.PROP.PARENT_REGION,i.id),R(e.PROP.SLOT_PLACEHOLDER,a.placeholder))):t.component.type===P?(s=e.COMP_TYPE.PAGE_ITEM,i.type===u?(R(e.PROP.REGION,""),R(e.PROP.SLOT_PLACEHOLDER,a.placeholder)):(R(e.PROP.REGION,i.id),R(e.PROP.SLOT_PLACEHOLDER,a.placeholder))):t.component.type===g&&(s=e.COMP_TYPE.BUTTON,i.type===u?(R(e.PROP.REGION,""),R(e.PROP.SLOT_PLACEHOLDER,a.placeholder)):(R(e.PROP.REGION,i.id),R(e.PROP.SLOT_PLACEHOLDER,a.placeholder))),d=v(t),n=0;n<p.values.length;n++)r=p.values[n],O.push(r),r.id===e.PROP.ITEM_TYPE&&"NATIVE_HIDDEN"===r.value&&(m=!0);b=!0,A=!0,l=new e.Component({previousComponent:d,typeId:s,values:O}),t.component._modelComponent=l,delete t.component._galleryComponent,m?(S=!0,U.gridlayout("remove",{},t.newComponent$),this.changes=null):(N(t.propertyChanges),t.component.id=l.id,t.component.title=l.getDisplayTitle(),U.gridlayout("update",t.component,!1)),this.transaction.execute(),T(t)},undo:function(){var e=this.changes;G(this.state),e&&(S=!0,this.gl$.gridlayout("remove",{},[e.component.id])),this.transaction.undo()},redo:function(){var e,t=this.changes;G(this.state),t&&(e=t.newIndex,S=!0,b=!0,A=!0,t.newGridInserted?e=C.NEW_GRID:t.newRowInserted?e=C.NEW_ROW:t.newColumnInserted?e=C.NEW_COLUMN:t.newParentContainer===t.prevParentContainer&&t.newIndex>t.prevIndex&&(e+=1),this.gl$.gridlayout("add",{},t.component,t.newParentContainer,t.newGrid,t.newRow,t.newColumn,e,t.newAlignment,t.newComponent$)),this.transaction.redo()},label:function(){return this._label}});function B(e,t,n,o,a,i,r,l,s){var p=Object.create(Y);return p.changes=t,p.gl$=e,p.componentTypeId=n,p.container$=o,p.grid=a,p.row=i,p.column=r,p.index=l,p.alignment=s,p._label="create",p}var U,$=t.extend(apex.commandHistory.baseCommand(),{execute:function(){M=this,this.gl$.gridlayout("remove",{}),this.state=L()},updateDataLayer:function(t){this.changes.push(t),this.transaction||(this.transaction=e.transaction.start(E)),t.component._modelComponent.remove(),T(t),t.lastChange&&this.transaction.execute()},undo:function(){var e,t,n,o=this.changes;for(G(this.state),e=o.length-1;e>=0;e--)t=o[e],S=!0,n=t.prevIndex,t.prevGridRemoved?n=C.NEW_GRID:t.prevRowRemoved?n=C.NEW_ROW:t.prevColumnRemoved&&(n=C.NEW_COLUMN),this.gl$.gridlayout("add",{},t.component,t.prevParentContainer,t.prevGrid,t.prevRow,t.prevColumn,n,t.prevAlignment,t.component$);this.transaction.undo()},redo:function(){var e,t=[],n=this.changes;for(G(this.state),S=!0,e=0;e<n.length;e++)t.push(n[e].component.id);this.gl$.gridlayout("remove",{},t),this.transaction.redo()},label:function(){return this._label}});function F(e,t){e.id="t0001",e._modelComponent=t._modelComponent}function K(e){return e.iconClass}function q(t){const n=window.componentGallery.getComponentData(t),o=n.type;let a={type:o,_galleryComponent:n,id:"t0002",title:n.title,iconClass:n.iconClass};if(o===c){let t,o,i;for(let r=0;r<n.values.length;r++){const l=n.values[r];if(l.id===e.PROP.REGION_TEMPLATE)i=l.value;else if(l.id===e.PROP.REGION_TYPE&&(t=l.value,a.regionType=t,t.startsWith("TMPL"))){const n=e.getRegionPlugin(t).templateTypes;o=n.includes("REPORT")?"REPORT":n.includes("PARTIAL")?"PARTIAL":"REGION_ONLY"}}a.slots=[],Q(e.getSlots({regionType:t,templateComponentType:o,regionTemplateId:i}),a.slots,null,t);for(const e of a.slots)e.components=[]}if(o===P)for(let t=0;t<n.values.length;t++){const o=n.values[t];o.id===e.PROP.ITEM_TYPE&&(a.itemType=o.value)}return a}function k(e,t,n){var o,a=n,i=e.getProperty(t);return i&&(o=i.getMetaData().yesValue,a=i.getValue()===o),a}function Z(e,t,n){var o=n,a=e.getProperty(t);return a&&(null!==(o=a.getValue())&&""!==o||!n||(o=n)),o}function j(t){var n=t.parentId||t.pageId;return t.typeId===e.COMP_TYPE.REGION&&(n=Z(t,e.PROP.PARENT_REGION,n)),n}function Q(t,n,o,a){let i,r=0;for(const l of t){const t=l.name;"RIGHT_OF_IR_SEARCH_BAR"===l.placeholder&&(a&&"NATIVE_IR"!==a||o&&"NATIVE_IR"!==e.getComponents(e.COMP_TYPE.REGION,{id:o})[0].getProperty(e.PROP.REGION_TYPE).getValue()||!o&&!a)||(i={placeholder:l.placeholder,hasRegionSupport:l.hasRegionSupport,hasItemSupport:l.hasItemSupport,hasButtonSupport:l.hasButtonSupport,supportedRegionTypes:l.supportedRegionTypes,supportedItemTypes:l.supportedItemTypes,title:t,isGrid:l.hasGridSupport,hasSubRegionTemplate:l.hasSubRegionTemplate,isLegacy:l.isLegacy,isDeprecated:l.isDeprecated,type:o?"region":"page"},o||a||(f(l,"glvSpan")||!1===l.glvNewRow?(i.span=l.glvSpan,i.newColumn=!l.glvNewRow,!i.newColumn&&i.span>r&&(i.newRow=!0),r=i.span):i.newRow=!0),i.hasButtonSupport&&l.hasAlignment&&(i.hasAlignment=!0),n.push(i))}}function z(t,n){const{regionType:o,templateComponentType:a}=n,i=e.getSlots({regionType:o,templateComponentType:a,regionTemplateId:t});return n.slots=[],Q(i,n.slots,n.id),n}function X(t,n){let o={};if(w&&(o.excludeGlobalPage=!0),t.components=[],t.hasRegionSupport){o.properties=[{id:e.PROP.SLOT_PLACEHOLDER,value:t.placeholder},{id:e.PROP.PARENT_REGION,value:n||""}];const i=e.getComponents(e.COMP_TYPE.REGION,o);for(let n=0;n<i.length;n++){const o=i[n];if(!a.isDisplayed(o))continue;let r={};const l=Z(o,e.PROP.REGION_TEMPLATE),s=Z(o,e.PROP.REGION_TYPE),p=e.getTemplateComponentType(o);r=z(l,{type:c,regionType:s,templateComponentType:p,id:o.id,seq:o.seq,title:o.getDisplayTitle(),iconClass:a.getComponentIconClass(c,s,p),newGrid:k(o,e.PROP.GRID_NEW_GRID,!1),newRow:k(o,e.PROP.GRID_NEW_ROW,!1),col:1*Z(o,e.PROP.GRID_COLUMN,-1),newCol:k(o,e.PROP.GRID_NEW_COLUMN,!0),span:1*Z(o,e.PROP.GRID_COLUMN_SPAN,-1),hasErrors:o.hasErrors(),hasWarnings:o.hasWarnings(),isReadOnly:o.isReadOnly(),itemsAboveContent:"ABOVE"===Z(o,e.PROP.ITEM_DISPLAY_POSITION,"ABOVE"),_modelComponent:o}),a.isConditional(o)&&(r.isConditional=!0);for(const e of r.slots)e.components=X(e,r.id);t.components.push(r)}}if(t.hasItemSupport){o.properties=[{id:e.PROP.SLOT_PLACEHOLDER,value:t.placeholder},{id:e.PROP.REGION,value:n||""}];const i=e.getComponents(e.COMP_TYPE.PAGE_ITEM,o);for(let n=0;n<i.length;n++){const o=i[n];let r=Z(o,e.PROP.ITEM_TYPE);if("NATIVE_HIDDEN"===r)continue;let l={type:P,id:o.id,seq:o.seq,title:o.getDisplayTitle(),itemType:r,iconClass:a.getComponentIconClass(P,Z(o,e.PROP.ITEM_TYPE)),newGrid:k(o,e.PROP.GRID_NEW_GRID,!1),newRow:k(o,e.PROP.GRID_NEW_ROW,!1),col:1*Z(o,e.PROP.GRID_COLUMN,-1),newCol:k(o,e.PROP.GRID_NEW_COLUMN,!0),span:1*Z(o,e.PROP.GRID_COLUMN_SPAN,-1),hasErrors:o.hasErrors(),hasWarnings:o.hasWarnings(),isReadOnly:o.isReadOnly(),_modelComponent:o},s=1*Z(o,e.PROP.GRID_ROW_SPAN,-1);s>0&&(l.rowSpan=s),a.isConditional(o)&&(l.isConditional=!0),t.components.push(l)}}if(t.hasButtonSupport){o.properties=[{id:e.PROP.SLOT_PLACEHOLDER,value:t.placeholder},{id:e.PROP.REGION,value:n||""}];const i=e.getComponents(e.COMP_TYPE.BUTTON,o);for(let n=0;n<i.length;n++){const o=i[n];let r=Z(o,e.PROP.ALIGNMENT,null),l=k(o,e.PROP.BUTTON_IS_HOT,!1),s={type:g,id:o.id,seq:o.seq,title:o.getDisplayTitle(),iconClass:a.getComponentIconClass(g,l?"hot":"normal"),newGrid:k(o,e.PROP.GRID_NEW_GRID,!1),newRow:k(o,e.PROP.GRID_NEW_ROW,!1),col:1*Z(o,e.PROP.GRID_COLUMN,-1),newCol:k(o,e.PROP.GRID_NEW_COLUMN,!0),span:1*Z(o,e.PROP.GRID_COLUMN_SPAN,-1),hasErrors:o.hasErrors(),hasWarnings:o.hasWarnings(),isReadOnly:o.isReadOnly(),_modelComponent:o};r&&(s.alignment=r.toLowerCase());let p=1*Z(o,e.PROP.GRID_ROW_SPAN,-1);p>0&&(s.rowSpan=p),a.isConditional(o)&&(s.isConditional=!0),t.components.push(s)}}return t.components.sort((function(e,t){return e.seq===t.seq?String(e.id).padStart(36,"0")>String(t.id).padStart(36,"0")?1:-1:e.seq-t.seq})),t.components}function J(){return{type:u,iconClass:"icon-warning",gridType:"fixed",maxColumns:12,hasColumnSpan:!0,hasRowSpan:!1,alwaysUseMax:!1,title:o.getMessage("PD.GLV.EMPTY_GRID"),slots:[]}}function ee(){if(!D)return J();const t=e.getComponents(e.COMP_TYPE.PAGE);if(1!==t.length)return J();const n=t[0];let o=e.getPageTemplate();if(!o)return J();let a=(i=o,r={type:u,id:n.id,iconClass:"icon-page",title:n.getDisplayTitle(),hasErrors:n.hasErrors(),hasWarnings:n.hasWarnings(),isReadOnly:e.isPageReadOnly(),_modelComponent:n},l=i.grid,r.gridType=l.type.toLowerCase(),r.maxColumns=l.maxColumns,r.hasColumnSpan=l.hasColumnSpan,void 0!==l.hasRowSpan&&(r.hasRowSpan=l.hasRowSpan),r.alwaysUseMaxColumns=l.alwaysUseMaxColumns,r.slots=[],Q(i.slots,r.slots),r);var i,r,l;for(const e of a.slots)e.components=X(e);return a}function te(e){for(const t of e.slots)t.components=X(t,e.id)}t((function(){var i=[e.COMP_TYPE.PAGE,e.COMP_TYPE.REGION,e.COMP_TYPE.PAGE_ITEM,e.COMP_TYPE.BUTTON],I=t("#glvMenu"),N=null;function v(e){var t,n=!0;for(t=0;t<e.length;t++)if(e[t].isReadOnly){n=!1;break}return n}function T(){var e,t=U.gridlayout("getSelection").filter(s),n=U.gridlayout("getSelectedComponents"),a=v(n);0!==t.length&&a&&U.gridlayout(_,"displayFrom")!==n[0].id&&(e=function(e,t){var n=Object.create($);return n.changes=[],n.gl$=e,n.transaction=null,t.length>1?n._label=o.formatMessageNoEscape("PD.GLV.CMD.DEL_N",t.length):n._label=o.formatMessageNoEscape("PD.GLV.CMD.DEL",U.gridlayout("getComponents",t)[0].title),n}(U,t),apex.commandHistory.execute(e))}function L(){var e,t=null,n=null,o=null,a=U.gridlayout("getSelection");1===a.length&&(this.col>=0&&(t=0,n=this.row,o=this.col),e=this.copy?H(U,null,a,this.container,t,n,o,this.index,this.alignment):W(U,null,a,this.container,t,n,o,this.index,this.alignment),apex.commandHistory.execute(e))}U=t(d);var G=[{l:"Before",i:null,a:0},{l:"After",i:null,a:1},{l:"Row before",i:C.NEW_ROW,a:0},{l:"Row after",i:C.NEW_ROW,a:1},{l:"Column before",i:C.NEW_COLUMN,a:0},{l:"Column after",i:C.NEW_COLUMN,a:1}],x=[{l:"Before",i:null,a:0},{l:"After",i:null,a:1}];function V(e,t,n){var o,a,i,r,l,s,p,d,u=null,c=[];function P(e){var o,a,i,r,s=[];for(i="grid"===d?G:x,o=0;o<i.length;o++)r={label:(a=i[o]).l,type:"action",action:t,container:l.element,index:a.i?a.i:e.index+a.a},"grid"===d?(a.i===C.NEW_ROW?r.row=e.row+a.a:r.row=e.row,a.i===C.NEW_COLUMN?r.col=e.col+a.a:r.col=e.col):e.alignment&&(r.alignment=e.alignment),n&&(r.copy=!0),s.push(r);return s}for(e.length>0&&e[0].element.hasClass("a-GridLayout-buttonContainer")&&(u={}),o=0;o<e.length;o++){if(l=e[o],u&&u.label!==l.region&&(u.label&&c.push(u),u={label:l.region,type:"subMenu",menu:{items:[]}}),i={label:u?l.name:l.label},d=l.type,0===l.items.length)i.type="action",i.action=t,i.container=l.element,i.index=0,"grid"===d?(i.row=0,i.col=0):l.alignment&&(i.alignment=l.alignment),n&&(i.copy=!0);else for(i.type="subMenu",i.menu={items:[]},s=i.menu.items,a=0;a<l.items.length;a++)p={label:(r=l.items[a]).name,type:"subMenu",menu:{items:P(r)}},s.push(p);u?u.menu.items.push(i):c.push(i)}return u&&c.push(u),c}function Y(e){e=e||U.gridlayout("getSelectedComponents"),apex.actions.lookup("glv-disp-from-region").disabled=!(e.length>=1&&e[0].type===c&&e[0].id!==U.gridlayout(_,"displayFrom")),apex.actions.update("glv-disp-from-region"),apex.actions.lookup("glv-disp-from-page").disabled=null===U.gridlayout(_,"displayFrom"),apex.actions.update("glv-disp-from-page")}a.glvMakeTargetMenu=V,a.glvMenuAddAction=function(e){var t,n=null,o=null,a=null;this.col>=0&&(n=0,o=this.row,a=this.col),t=B(U,null,e,this.container,n,o,a,this.index,this.alignment),apex.commandHistory.execute(t)},apex.actions.add([{name:"glv-disp-from-page",label:o.getMessage("PD.GLV.MI.DISP_PAGE"),shortcut:"Ctrl+Alt+T",disabled:!0,action:function(){U.gridlayout(_,"displayFrom",null),Y()}},{name:"glv-disp-from-region",label:o.getMessage("PD.GLV.MI.DISP_REGION"),shortcut:"Ctrl+Alt+D",disabled:!0,action:function(){var e=U.gridlayout("getSelectedComponents");e.length>=1&&e[0].type===c&&U.gridlayout(_,"displayFrom",e[0].id),this.disabled=!0,apex.actions.update(this.name),apex.actions.lookup("glv-disp-from-page").disabled=!1,apex.actions.update("glv-disp-from-page")}},{name:"glv-hide-empty",label:o.getMessage("PD.GLV.MI.HIDE_EMPTY"),shortcut:"Ctrl+Alt+E",get:function(){return U.gridlayout(_,"hideEmptySlots")},set:function(e){U.gridlayout(_,"hideEmptySlots",e),a.saveBoolPref(R,e)}}]);var Q={menubar:!1,items:[{id:"dispRoot",type:"action",action:"glv-disp-from-page"},{id:"dispHere",type:"action",action:"glv-disp-from-region"},{type:"toggle",action:"pd-expand-restore"},{type:"separator"},{id:"newgrid",type:"action",labelKey:"PD.GLV.MI.NEW_GRID",hide:!0},{id:"delete",type:"action",labelKey:"PD.DEL",accelerator:"Del",disabled:function(){var e=U.gridlayout("getSelectedComponents"),t=v(e);return e.length<1||1===e.length&&e[0].type===u||!t||U.gridlayout(_,"displayFrom")===e[0].id},action:function(){T()}},{id:"moveTo",type:"subMenu",disabled:!0,labelKey:"PD.MI.MOVE2",menu:{items:[]}},{id:"copyTo",type:"subMenu",disabled:!0,labelKey:"PD.MI.COPY2",menu:{items:[]}},{type:"separator"},{id:"hideConditional",type:"subMenu",disabled:!0,labelKey:"PD.GLV.MI.HIDE_COND_COMP",hide:!0,menu:{items:[]}},{type:"toggle",labelKey:"PD.GLV.MI.HIDE_LEGACY",get:function(){return U.gridlayout(_,"hideLegacySlots")},set:function(e){U.gridlayout(_,"hideLegacySlots",e),a.saveBoolPref(m,e)}},{type:"toggle",action:"glv-hide-empty"},{type:"toggle",labelKey:"PD.GLV.MI.HIDE_GLOBAL",disabled:function(){var t=U.gridlayout(_,"displayFrom"),n=!!t&&U.gridlayout("findComponentById",t)._modelComponent.isOnGlobalPage();return!D||e.isGlobalPage()||n},get:function(){return w},set:function(e){w=e,U.gridlayout("pageDataChanged"),a.saveBoolPref(O,e)}},{type:"toggle",labelKey:"PD.GLV.MI.HIDE_BTNS",get:function(){return U.gridlayout(_,"hideButtons")},set:function(e){U.gridlayout(_,"hideButtons",e),a.saveBoolPref(h,e)}},{type:"toggle",labelKey:"PD.GLV.MI.HIDE_ITEMS",get:function(){return U.gridlayout(_,"hideItems")},set:function(e){U.gridlayout(_,"hideItems",e),a.saveBoolPref(y,e)}},{type:"subMenu",hide:!0,labelKey:"PD.GLV.MI.ZOOM",menu:{items:[{type:"radioGroup",set:function(e){U.gridlayout(_,"zoom",e)},get:function(){return U.gridlayout(_,"zoom")+""},choices:[{labelKey:o.formatMessage("PD.GLV.MI.ZOOM_N","50"),value:"50"},{labelKey:o.formatMessage("PD.GLV.MI.ZOOM_N","75"),value:"75"},{labelKey:o.formatMessage("PD.GLV.MI.ZOOM_N","100"),value:"100"},{labelKey:o.formatMessage("PD.GLV.MI.ZOOM_N","120"),value:"125"},{labelKey:o.formatMessage("PD.GLV.MI.ZOOM_N","150"),value:"150"},{labelKey:o.formatMessage("PD.GLV.MI.ZOOM_N","170"),value:"175"},{labelKey:o.formatMessage("PD.GLV.MI.ZOOM_N","200"),value:"200"}]}]}}],beforeOpen:function(){var e,t=I.menu("find","moveTo"),n=I.menu("find","copyTo"),o=U.gridlayout("getSelection").filter(s);t.menu.items=[],n.menu.items=[],1===o.length&&(e=o.eq(0),U.gridlayout("getComponents",e)[0].isReadOnly||(t.menu.items=V(U.gridlayout("getDropTargets",e),L),n.menu.items=V(U.gridlayout("getDropTargets",e,"copy"),L,!0))),t.disabled=0===t.menu.items.length,n.disabled=0===n.menu.items.length},afterClose:function(e,t){t.actionTookFocus||U.gridlayout("focus")}};function z(e){var n,o,a,i,r,l="";for(t.isArray(e)||(e=[e]),n=0;n<e.length;n++){for(a in l+="["+(r=e[n]).component.id+": ",r.properties)if(Object.prototype.hasOwnProperty.call(r.properties,a)){for(l+=a+":",i=r.properties[a],o=0;o<i.length;o++)l+=i[o]+",";l=l.substring(0,l.length-1)+";"}l+="] "}return l}I.menu(Q),w=a.getBoolPref(O,!0),U.gridlayout({getPageRoot:ee,hideLegacySlots:a.getBoolPref(m,!0),hideEmptySlots:a.getBoolPref(R,!1),hideButtons:a.getBoolPref(h,!1),hideItems:a.getBoolPref(y,!1),getIconForComponent:K,makeComponent:q,updateComponentCopy:F,deleteKeyAction:function(e){T()},contextMenuAction:function(e){var n,o;"contextmenu"===e.type?I.menu("toggle",e.pageX,e.pageY):(n=(o=t(e.target)).offset(),I.menu("toggle",n.left,n.top+o.find("h3").height()))},stateClassMap:{hasErrors:r,hasWarnings:l},stateIconMap:{hasErrors:"icon-error",hasWarnings:"icon-warning"},appendTo:"parent",cursor:"default",cursorAt:{left:2,top:2},containment:"document",multiple:!0,animate:!1,delay:10,distance:5,opacity:.9,scroll:!0,scrollSensitivity:30,iconType:"a-Icon",selectionChange:function(){var e,o,a,i=[];for(o=t(this).gridlayout("getSelectedComponents"),e=0;e<o.length;e++)(a=o[e]._modelComponent)?i.push(a):n.log("No component found for selection "+o[e].id);Y(o),t(document).trigger("selectionChanged",[E,i])},added:function(e,t){var n;S?S=!1:M?(M.updateDataLayer(t),M=null):(n=B(U,t),apex.commandHistory.execute(n))},removed:function(e,t){S?S=!1:M&&(M.updateDataLayer(t),t.lastChange&&(M=null))},moved:function(e,t){var n;S?S=!1:M?(M.updateDataLayer(t),M=null):(n=W(U,t),apex.commandHistory.execute(n))},copied:function(e,t){var n;S?S=!1:M?(M.updateDataLayer(t),M=null):(n=H(U,t),apex.commandHistory.execute(n))},start:function(){apex.tooltipManager.disableTooltips()},stop:function(){apex.tooltipManager.enableTooltips()}}).tooltip({items:".a-GridLayout-page > h3, .a-GridLayout-pageItem > h3, .a-GridLayout-region > h3, .a-GridLayout-button > h3",show:apex.tooltipManager.defaultShowOption(),content:function(){var e=U.gridlayout("getComponents",t(this).parent())[0];return e.note?e.note:e._modelComponent?a.tooltipContentForComponent(e._modelComponent):void 0}}).on("focusin",(function(e){var n,o=t(e.target).closest(p);0!==o.length&&(U.tooltip(_,"disabled")||((n=t.Event(e)).target=n.currentTarget=o.children("h3")[0],U.tooltip("open",n)))})).on("focusout",(function(e){var n,o=t(e.target).closest(p);0!==o.length&&(U.tooltip(_,"disabled")||((n=t.Event(e)).target=n.currentTarget=o.children("h3")[0],U.tooltip("close",n)))})).on("keyup",(function(e){var n,o;if(e.keyCode===t.ui.keyCode.ESCAPE){if(0===(o=t(e.target).closest(p)).length)return;U.tooltip(_,"disabled")||((n=t.Event(e)).currentTarget=o.children("h3")[0],U.tooltip("close",n))}})),t(document).on("selectionChanged",(function(t,n,o){var a,i,r=[];if(n!==E){for(a=0;a<o.length;a++)(i=o[a]).typeId!==e.COMP_TYPE.PAGE&&i.typeId!==e.COMP_TYPE.REGION&&i.typeId!==e.COMP_TYPE.PAGE_ITEM&&i.typeId!==e.COMP_TYPE.BUTTON||r.push(i.id);U.is(":visible")?(U.gridlayout("setSelectedComponents",r),Y()):N=r}})),t("#editor_tabs").on("tabsactivate",(function(e,t){"grid_layout"===t.newPanel[0].id&&N&&(U.gridlayout("setSelectedComponents",N),Y(),N=null)})),e.observer(E,{component:{typeIds:i},events:[e.EVENT.DISPLAY_TITLE]},(function(e){var t=U.gridlayout("findComponentById",e.component.id);n.getLevel()>=n.LOG_LEVEL.APP_TRACE&&n.trace("GLV Handle display title change: "+z(e)),t&&(t.title=e.component.getDisplayTitle(),U.gridlayout("update",t,!1))})),e.observer(E,{component:{typeIds:i},events:[e.EVENT.CHANGE],properties:[e.PROP.CONDITION_TYPE,e.PROP.AUTHORIZATION_SCHEME,e.PROP.BUILD_OPTION,e.PROP.GRID_NEW_GRID,e.PROP.GRID_NEW_ROW,e.PROP.GRID_NEW_COLUMN,e.PROP.GRID_COLUMN,e.PROP.GRID_COLUMN_SPAN,e.PROP.GRID_ROW_SPAN,e.PROP.ALIGNMENT,e.PROP.ITEM_DISPLAY_POSITION,e.PROP.ITEM_TYPE,e.PROP.REGION_TYPE,e.PROP.BUTTON_IS_HOT,e.PROP.DISPLAY_SEQUENCE,e.PROP.REGION,e.PROP.PARENT_REGION,e.PROP.SLOT_PLACEHOLDER]},(function(o){var i,r,l,s,p,d,u,m={},O={},R={};function h(e){var n=p.properties[e];return n&&t.inArray("change",n)>=0}function y(e){return p.component.getProperty(e).getValue()}function E(e){var t=p.component.getProperty(e),n=t.getMetaData().yesValue;return t.getValue()===n}function _(e,t){for(var n=t._parent?t._parent._parent:null;n;){if(e[n.id])return!0;n=n._parent?n._parent._parent:null}return!1}if(b)b=!1;else{for(n.getLevel()>=n.LOG_LEVEL.APP_TRACE&&n.trace("GLV Handle property changes: "+z(o)),i=0;i<o.length;i++)r=(p=o[i]).component.id,l=j(p.component),d=U.gridlayout("findComponentById",r),u=U.gridlayout("findComponentById",l),!d&&u&&(R[l]=u),d&&(h(e.PROP.ITEM_TYPE)&&d.type===P&&("NATIVE_HIDDEN"===(s=y(e.PROP.ITEM_TYPE))?R[l]=u:(d.iconClass=a.getComponentIconClass(P,Z(p.component,e.PROP.ITEM_TYPE)),d.itemType=s,m[r]=d)),(h(e.PROP.CONDITION_TYPE)||h(e.PROP.AUTHORIZATION_SCHEME)||h(e.PROP.BUILD_OPTION))&&(a.isConditional(p.component)?d.isConditional=!0:delete d.isConditional,m[r]=d),h(e.PROP.REGION_TYPE)&&d.type===c&&(d.iconClass=a.getComponentIconClass(c,Z(p.component,e.PROP.REGION_TYPE)),d.regionType=y(e.PROP.REGION_TYPE),m[r]=d),h(e.PROP.BUTTON_IS_HOT)&&d.type===g&&(d.iconClass=a.getComponentIconClass(g,k(p.component,e.PROP.BUTTON_IS_HOT,!1)?"hot":"normal"),m[r]=d),h(e.PROP.GRID_NEW_GRID)&&(d.newGrid=E(e.PROP.GRID_NEW_GRID),O[l]=d),h(e.PROP.GRID_NEW_ROW)&&(d.newRow=E(e.PROP.GRID_NEW_ROW),O[l]=d),h(e.PROP.GRID_NEW_COLUMN)&&(d.newCol=E(e.PROP.GRID_NEW_COLUMN),O[l]=d),h(e.PROP.GRID_COLUMN)&&(d.col=1*y(e.PROP.GRID_COLUMN),O[l]=d),h(e.PROP.GRID_COLUMN_SPAN)&&(d.span=1*y(e.PROP.GRID_COLUMN_SPAN),O[l]=d),h(e.PROP.GRID_ROW_SPAN)&&(d.rowSpan=1*y(e.PROP.GRID_ROW_SPAN),O[l]=d),h(e.PROP.ITEM_DISPLAY_POSITION)&&(d.itemsAboveContent="ABOVE"===y(e.PROP.ITEM_DISPLAY_POSITION),O[l]=d),(h(e.PROP.ALIGNMENT)||h(e.PROP.REGION)||h(e.PROP.PARENT_REGION)||h(e.PROP.SLOT_PLACEHOLDER)||h(e.PROP.DISPLAY_SEQUENCE))&&(d&&d._parent&&d._parent._parent&&d._parent._parent.id!==l&&(R[d._parent._parent.id]=d._parent._parent),R[l]=u));for(r in m)f(m,r)&&(O[(d=m[r]).id]||R[d.id]||_(O,d)||_(R,d)||U.gridlayout("update",d,!1));for(r in O)f(O,r)&&(R[(d=O[r]).id]||_(R,d)||U.gridlayout("update",d,!0));for(r in R)f(R,r)&&(u=R[r])&&!_(R,u)&&("page"===u.type?U.gridlayout("pageDataChanged"):(te(u),U.gridlayout("update",u,!0,!0)))}}),!0),e.observer(E,{events:[e.EVENT.GRID]},(function(e){var t,o;if(n.getLevel()>=n.LOG_LEVEL.APP_TRACE&&n.trace("GLV Handle grid changes - refresh whole page: "+z(e)),!U.is(":visible"))for(N=[],o=U.gridlayout("getSelectedComponents"),t=0;t<o.length;t++)N.push(o[t].id);U.gridlayout("pageDataChanged")}),!0),e.observer(E,{component:{typeIds:i},events:[e.EVENT.CREATE]},(function(e){var t;A?A=!1:(n.getLevel()>=n.LOG_LEVEL.APP_TRACE&&n.trace("GLV Handle create: "+z(e)),(t=U.gridlayout("findComponentById",j(e.component)))&&("page"===t.type?U.gridlayout("pageDataChanged"):(te(t),U.gridlayout("update",t,!0,!0))))})),e.observer(E,{component:{typeIds:i},events:[e.EVENT.DELETE]},(function(e){var t,o=e.component.id;M||(n.getLevel()>=n.LOG_LEVEL.APP_TRACE&&n.trace("GLV Handle delete: "+z(e)),(t=U.gridlayout("findById",o)).length&&(S=!0,U.gridlayout("remove",{},t)))})),e.observer(E,{component:{typeIds:i},events:[e.EVENT.ERRORS,e.EVENT.NO_ERRORS,e.EVENT.WARNINGS,e.EVENT.NO_WARNINGS]},(function(e){var t=U.gridlayout("findComponentById",e.component.id);n.getLevel()>=n.LOG_LEVEL.APP_TRACE&&n.trace("GLV Handle error or warning status change: "+z(e)),t&&(t.hasErrors=e.component.hasErrors(),t.hasWarnings=e.component.hasWarnings(),U.gridlayout("update",t,!1))}))})),t(document).on("modelReady",(function(){if(D=!0,t(d).length)try{U.gridlayout("pageDataChanged")}catch(e){n.error("Failed to load grid layout",e),D=!1,U.gridlayout("pageDataChanged")}})),t(document).on("modelCleared",(function(){D=!1,t(d).length&&U.gridlayout("pageDataChanged")}))}(window.pe,apex.jQuery,apex.debug,apex.lang,window.pageDesigner,apex.util);